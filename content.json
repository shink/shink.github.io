{"posts":[{"title":"Java å»ºç«‹å¤§é¡¶å †","text":"Thought ä»æœ€åä¸€ä¸ªæœ‰å­©å­çš„çˆ¶èŠ‚ç‚¹å¼€å§‹è°ƒæ•´ï¼Œè‹¥çˆ¶èŠ‚ç‚¹çš„å€¼å°äºå·¦å³å­©å­ç»“ç‚¹çš„å€¼ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰ï¼Œå°±ä¸è¯¥å­©å­ç»“ç‚¹äº¤æ¢ä½ç½®ã€‚è‹¥å‘ç”Ÿäº†äº¤æ¢ï¼Œç”±äºåŸæ¥çˆ¶èŠ‚ç‚¹åˆ°äº†ä»–çš„å­©å­ç»“ç‚¹ä¸Šï¼Œå¯èƒ½ç ´åäº†ç°åœ¨è¿™é¢—ä»¥åŸæ¥çˆ¶èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ï¼Œæ‰€ä»¥éœ€è¦é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œå³é€’å½’ã€‚ æ•°ç»„çš„èŒƒå›´æ˜¯ä» 0 ~ length - 1ï¼Œè®¾çˆ¶èŠ‚ç‚¹çš„ä¸‹æ ‡ä¸º pï¼Œåˆ™ï¼š 12pçš„å·¦å­©å­ä¸‹æ ‡ä¸ºï¼š2 * p + 1pçš„å³å­©å­ä¸‹æ ‡ä¸ºï¼š2 *p + 2 æœ€åä¸€ä¸ªæœ‰å­©å­çš„çˆ¶èŠ‚ç‚¹ä¸‹æ ‡ä¸ºï¼ˆlength - 2ï¼‰/ 2 Java Codes1234567891011121314151617181920212223242526272829303132333435363738public class BuildHeap { public void heapify(int[] heap, int item) { int length = heap.length; int left = 2 * item + 1; int right = 2 * item + 2; int largest; if (left &lt;= length - 1 &amp;&amp; heap[left] &gt; heap[item]) { largest = left; } else { largest = item; } if (right &lt;= length - 1 &amp;&amp; heap[right] &gt; heap[largest]) { largest = right; } if (largest != item) { // çˆ¶èŠ‚ç‚¹å°äºå·¦å³å­©å­ç»“ç‚¹,éœ€è¦äº¤æ¢ int temp = heap[item]; heap[item] = heap[largest]; heap[largest] = temp; // å‘ç”Ÿè¿‡äº¤æ¢å,åŸæ¥çˆ¶ç»“ç‚¹ç°åœ¨æ‰€åœ¨ä½ç½®çš„å€¼ä¸ä¸€å®šè¿˜æ»¡è¶³å¤§é¡¶å †çš„å®šä¹‰ï¼Œéœ€è¦é€’å½’ç»§ç»­å»ºå † heapify(heap, largest); } } public void build(int[] heap) { int length = heap.length; // æœ€åä¸€ä¸ªæœ‰å­©å­çš„ç»“ç‚¹çš„ä¸‹æ ‡ int lastParent = (length - 2) / 2; for (int item = lastParent; item &gt;= 0; item--) { heapify(heap, item); } }} Test1234567891011public class Test { public static void main(String[] args) { BuildHeap buildHeap = new BuildHeap(); int[] heap = new int[] { 1, 2, 16, 14, 8, 7 }; buildHeap.build(heap); System.out.println(Arrays.toString(heap)); }}","link":"/2020/02/02/algo-build-heap/"},{"title":"Java æ±‚æœ€å¤§å­æ•°ç»„","text":"Backgroundåœ¨æŸå¤©è´­å…¥è‚¡ç¥¨åæŠ›å‡ºï¼Œæ±‚å¦‚ä½•å–å¾—æœ€å¤§åˆ©æ¶¦ã€‚å·²çŸ¥è‚¡ç¥¨è¶‹åŠ¿å¦‚å›¾æ‰€ç¤ºã€‚ Thoughtæˆ‘ä»¬éƒ½çŸ¥é“â€”â€”åˆ©æ¶¦ = å”®ä»· - æˆæœ¬ï¼Œå³ä¸¤è€…ä¹‹å·®è¶Šå¤§åˆ™åˆ©æ¶¦è¶Šå¤§ã€‚è¦æ±‚åˆ©æ¶¦çš„æœ€å¤§å€¼ï¼Œä¸å¦¨å…ˆè®¡ç®—å‡ºå½“å¤©ä¸å‰ä¸€å¤©è‚¡ä»·çš„å·®ï¼Œå¾—åˆ°çš„è‚¡ä»·æµ®åŠ¨æ•°ç»„ï¼Œç„¶åæ‰¾å…¶æœ€å¤§å­æ•°ç»„ï¼Œå³ä¸ºåŸé—®é¢˜çš„è§£ã€‚ å¯¹äºæœ€å¤§å­æ•°ç»„ï¼Œæœ€ç®€å•ç²—æš´çš„æ–¹æ³•å°±æ˜¯ä¸¤å±‚ forï¼Œéå†æ‰€æœ‰å­æ•°ç»„åï¼Œè‡ªç„¶èƒ½æ±‚å‡ºæœ€å¤§å­æ•°ç»„ã€‚ æ›´å¥½çš„è§£å†³åŠæ³•æ˜¯ç”¨åˆ†æ²»ç­–ç•¥ã€‚å°†åŸé—®é¢˜åˆ†è§£ä¸ºä¸¤ä¸ªå­é—®é¢˜ left å’Œ rightï¼Œè®¾è·¨è¿‡ä¸¤ä¸ªå­é—®é¢˜ä¸­ç‚¹çš„æ•°ç»„ä¸º crossï¼Œæ¯”è¾ƒ leftã€right å’Œ cross çš„æœ€å¤§å€¼å³ä¸ºåŸé—®é¢˜çš„æœ€ä¼˜è§£ã€‚ Brute Force1234567891011121314151617181920212223242526272829303132333435public class MaxSubarray { private int[] variation; public MaxSubarray(int[] array) { variation = new int[array.length - 1]; for (int i = 0; i &lt; array.length - 1; ++i) { variation[i] = array[i + 1] - array[i]; } }// æš´åŠ›æ³• public void bruteForce() { int sum = 0; int start = 0; int end = 0; for (int i = 0; i &lt; variation.length; ++i) { int temp = 0; for (int j = i; j &lt; variation.length; ++j) { temp += variation[j]; if (temp &gt; sum) { sum = temp; start = i; end = j; } } } System.out.println(&quot;maxPriceï¼š &quot; + sum + &quot;ï¼Œindexï¼š [&quot; + start + &quot;, &quot; + end + &quot;]&quot;); }} Divide and Conquer Divide: Divide the array A[low..high] into two subarrays of n/2 elements, A[low..mid] and A[mid+1..high]. Conquer: Find the maximum subarray recursively. Combine: Select a subarray with the largest sum of the sub-problemsâ€™. åˆ†ï¼šå°†æ•°ç»„ä»ä¸­é—´ä¸€åˆ†ä¸ºäºŒ\\æ²»ï¼šé€’å½’å¯»æ‰¾æœ€å¤§å­æ•°ç»„\\åˆå¹¶ï¼šé€‰å‡ºå­é—®é¢˜ä¸­å’Œæœ€å¤§çš„å­æ•°ç»„ Pseudo Codeé€’å½’å¯»æ‰¾æ•°ç»„ä¸­å­æ•°ç»„çš„æœ€å¤§å€¼ æ•°ç»„çš„æœ€å¤§å€¼ = max{å·¦å­æ•°ç»„çš„æœ€å¤§å€¼, ä»ä¸­é—´å‘ä¸¤è¾¹å±•å¼€çš„æ•°ç»„çš„æœ€å¤§å€¼, å³å­æ•°ç»„çš„æœ€å¤§å€¼} å¯»æ‰¾ä»ä¸­é—´ä½ç½®å‘ä¸¤è¾¹å±•å¼€çš„æ•°ç»„çš„æœ€å¤§å€¼ Example Java Codes1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556public class MaxSubarray { private int[] variation; public MaxSubarray(int[] array) { variation = new int[array.length - 1]; for (int i = 0; i &lt; array.length - 1; ++i) { variation[i] = array[i + 1] - array[i]; } } public int divideConquer() { return divideConquer(variation, 0, variation.length - 1); } private int divideConquer(int[] array, int left, int right) { if (left == right) { return array[left]; } else { int mid = (left + right) / 2; int left_sum = divideConquer(array, left, mid); int right_sum = divideConquer(array, mid + 1, right); int cross_sum = crossing(array, left, mid, right);// æ¯”è¾ƒä¸‰è€…æœ€å¤§å€¼ return left_sum &gt; cross_sum ? (left_sum &gt; right_sum ? left_sum : right_sum) : (cross_sum &gt; right_sum ? cross_sum : right_sum); } }// æ±‚cross private int crossing(int[] array, int left, int mid, int right) { int temp_left = -99999; int temp_right = -99999;// ä»midå‘å‰æ±‚æœ€å¤§å€¼ int sum = 0; for (int i = mid; i &gt;= left; --i) { sum += array[i]; if (sum &gt; temp_left) { temp_left = sum; } }// ä»mid+1å‘åæ±‚æœ€å¤§å€¼ sum = 0; for (int j = mid + 1; j &lt; right; ++j) { sum += array[j]; if (sum &gt; temp_right) { temp_right = sum; } } return temp_left + temp_right; }} Test123456public static void main(String[] args) { int[] array = { 100, 113, 110, 85, 105, 102, 86, 63, 81, 101, 94, 106, 101, 79, 94, 90, 97 }; MaxSubarray maxSubarray = new MaxSubarray(array); maxSubarray.bruteForce(); System.out.println(&quot;åˆ†æ²»ï¼š&quot; + maxSubarray.divideConquer());} Time Complexity æš´åŠ›æ³•ï¼š$O(n^2)$ åˆ†æ²»æ³•ï¼š å¯¹äºè§„æ¨¡ä¸º $n$ çš„æ•°ç»„ï¼Œé™¤äº†é€’å½’æœç´¢å·¦ã€å³å­æ•°ç»„å¤–ï¼Œè¿˜éœ€è¦æ±‚ crossï¼ˆå¼€é”€ä¸º $O(n)$ï¼‰ï¼Œä»¥åŠæ¯”è¾ƒä¸‰ä¸ªå€¼çš„å¤§å°ï¼ˆå¼€é”€ä¸º $O(1)$ï¼‰ æ•…ï¼š$T(n) = 2T(n/2) + O(n) + O(1)$ æ ¹æ®ç®—æ³•æ—¶é—´å¤æ‚åº¦çš„ master æ–¹æ³•ï¼Œæ­¤æ—¶ $a = 2, b = 2, \\log_b{a} = 1$ ç”±äº $f(n) = n + 1 = \\Theta(n^{\\log_b{a}})$ ï¼ˆç®€å•èµ·è§ï¼Œå‡å®š$f(n) = O(n) + O(1) = n + 1$ï¼‰, æ»¡è¶³ master æ–¹æ³•çš„ case 2, æ•…æ—¶é—´å¤æ‚åº¦ä¸ºï¼š $T(n) = \\Theta(n^{\\log_b{a}}logn) = \\Theta(nlogn)$","link":"/2020/02/02/algo-max-subarray/"},{"title":"Java åˆ†æ²»ç­–ç•¥å®ç°å¿«é€Ÿæ’åº","text":"Thought Divide: Partition the array into two subarrays around a pivot x such that elements in lower subarray â‰¤ x â‰¤ elements in upper subarray. Conquer: Recursively sort the subarrays. Combine: Trivial. ä»¥æ¢è½´ x ä¸ºä¸­ç‚¹ï¼Œæ¯æ¬¡æ’åºå°†å°äºæ¢è½´ x çš„å…ƒç´ éƒ½æ”¾åœ¨ x å·¦è¾¹ï¼Œå¤§äº x çš„å…ƒç´ éƒ½æ”¾åœ¨ x å³è¾¹ï¼Œç„¶åé€’å½’ä»¥åŒæ ·æ–¹å¼å¯¹å­æ•°ç»„æ’åº Pseudo Codeé€’å½’æ±‚è§£ä¸¤ä¸ªå­åºåˆ— åˆ’åˆ†åºåˆ—ï¼Œè¿”å›æ¢è½´ x Java Codes1234567891011121314151617181920212223242526272829303132333435363738394041424344public class QuickSort { public void quickSort(double[] array) { quickSort(array, 0, array.length - 1); } public void quickSort(double[] array, int left, int right) { if (left &lt; right) {// æ¢è½´ int pivot = partition(array, left, right); quickSort(array, left, pivot - 1); quickSort(array, pivot + 1, right); } } public int partition(double[] array, int left, int right) { int i = left; int j = right; while (i &lt; j) { while (i &lt; j &amp;&amp; array[i] &lt;= array[j]) { j--; } if (i &lt; j) { double temp = array[j]; array[j] = array[i]; array[i] = temp; i++; } while (i &lt; j &amp;&amp; array[i] &lt;= array[j]) { i++; } if (i &lt; j) { double temp = array[j]; array[j] = array[i]; array[i] = temp; } } return i; }} Test1234567891011121314151617181920212223public static void main(String[] args) {// éšæœºäº§ç”Ÿdoubleæ•°ç»„ int length = 1000000; long start, end; double[] array = new double[length]; for (int i = 0; i &lt; length; i++) { double num = Math.random() * 10;// å°†doubleå€¼ç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸¤ä½ num = new BigDecimal(num).setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue(); array[i] = num; } System.out.println(Arrays.toString(array));// å¿«é€Ÿæ’åºå¼€å§‹ start = System.currentTimeMillis(); // è·å–å¼€å§‹æ—¶é—´ QuickSort quickSort = new QuickSort(); quickSort.quickSort(array); end = System.currentTimeMillis(); // è·å–ç»“æŸæ—¶é—´ System.out.println(&quot;å¿«é€Ÿæ’åºè¿è¡Œæ—¶é—´ï¼š &quot; + (end - start) + &quot;ms&quot;); System.out.println(Arrays.toString(array));} Time Complexitybest-caseå¿«é€Ÿæ’åºæœ€ä¼˜çš„æƒ…å†µå°±æ˜¯æ¯ä¸€æ¬¡å–åˆ°çš„å…ƒç´ éƒ½åˆšå¥½å¹³åˆ†æ•´ä¸ªæ•°ç»„ æ­¤æ—¶çš„æ—¶é—´å¤æ‚åº¦ç­‰å¼ä¸ºï¼š$T(n) = 2T(n/2) + O(n)$ã€‚$T(n/2)$ ä¸ºå¹³åˆ†åçš„å­æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦ï¼Œ$O(n)$ ä¸ºå¹³åˆ†è¿™ä¸ªæ•°ç»„æ—¶æ‰€èŠ±çš„æ—¶é—´ æ ¹æ®ç®—æ³•æ—¶é—´å¤æ‚åº¦çš„ master æ–¹æ³•ï¼Œæ­¤æ—¶ $a = 2, b = 2, \\log_b{a} = 1$ ç”±äº $f(n) = n = \\Theta(n^{\\log_b{a}})$ ï¼ˆç®€å•èµ·è§ï¼Œå‡å®š$f(n) = O(n) = n$ï¼‰, æ»¡è¶³ master æ–¹æ³•çš„ case 2, æ•…æ—¶é—´å¤æ‚åº¦ä¸ºï¼š $T(n) = \\Theta(n^{\\log_b{a}}logn) = \\Theta(nlogn)$ æ•…æœ€ä¼˜æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ä¸ºï¼š$O(nlogn)$ worst-caseæœ€å·®çš„æƒ…å†µå°±æ˜¯æ¯ä¸€æ¬¡å–åˆ°çš„å…ƒç´ åˆšå¥½æ˜¯æ•°ç»„ä¸­æœ€å°/æœ€å¤§çš„ï¼Œè¿™ç§æƒ…å†µå°±é€€åŒ–æˆå†’æ³¡æ’åºäº†(æ¯ä¸€æ¬¡éƒ½é€‰å¥½ä¸€ä¸ªå…ƒç´ çš„ä½ç½®) æ•…æœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ä¸ºï¼š$O(n^2)$ å¯ä»¥é€šè¿‡éšæœºé€‰æ‹©æ¢è½´æ¥é¿å…æœ€åæƒ…å†µçš„å‘ç”Ÿ average-caseå¹³å‡å¤æ‚åº¦: $O(nlogn)$","link":"/2020/02/02/algo-quick-sort/"},{"title":"Java åˆ†æ²»ç­–ç•¥å®ç°å½’å¹¶æ’åº","text":"Thoughtèƒ½ä¸èƒ½ä½¿ç”¨åˆ†æ²»ç­–ç•¥çš„å…³é”®æ˜¯ å­é—®é¢˜çš„æœ€ä¼˜è§£æ˜¯å¦å¯ä»¥é€šè¿‡æŸç§æ‰‹æ®µå¾—åˆ°åŸé—®é¢˜çš„æœ€ä¼˜è§£ã€‚å¯¹äºå½’å¹¶æ’åºï¼Œå°†ä¸¤ä¸ªå·²ç»æœ‰åºçš„å­é—®é¢˜åºåˆ—è¿›è¡Œåˆå¹¶ï¼Œå°±å¯å¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œä»¥æ­¤ç±»æ¨ï¼Œæœ€ç»ˆå¯å°†æ‰€æœ‰å­é—®é¢˜åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œè€Œå¾—åˆ°çš„æœ‰åºåºåˆ—å°±æ˜¯æœ€ç»ˆç­”æ¡ˆã€‚ å›¾ç‰‡æ¥è‡ªç®€ä¹¦ï¼Œé“¾æ¥ï¼šhttps://www.cnblogs.com/chengxiao/p/6194356.html è‡³äºå¦‚ä½•åˆå¹¶ï¼Œç›´æ¥æƒ³åˆ°çš„å°±æ˜¯å¼€è¾Ÿä¸€ä¸ªæ–°ç©ºé—´ï¼Œæ‹¿è¿™ä¸¤ä¸ªå­é—®é¢˜åºåˆ—å…ƒç´ ä¸€ä¸€æ¯”å¯¹ï¼Œå°†å…ƒç´ æœ‰åºæ”¾åˆ°æ–°ç©ºé—´é‡Œã€‚ å›¾ç‰‡æ¥è‡ªç®€ä¹¦ï¼Œé“¾æ¥ï¼šhttps://www.cnblogs.com/chengxiao/p/6194356.html Java Codes12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455public class MergeSort { public MergeSort() { } public void mergeSort(double[] array) {// å¼€è¾Ÿä¸€ä¸ªä¸´æ—¶æ•°ç»„ï¼Œé¿å…åœ¨é€’å½’ä¸­é¢‘ç¹å¼€è¾Ÿç©ºé—´ double[] result = new double[array.length]; mergeSort(array, 0, array.length - 1, result); } public void mergeSort(double[] array, int left, int right, double[] result) { if (left &lt; right) { int mid = (left + right) / 2; mergeSort(array, left, mid, result); mergeSort(array, mid + 1, right, result);// å°†ä¸¤ä¸ªå­é—®é¢˜åºåˆ—åˆå¹¶ merge(array, left, mid, right, result); } } private void merge(double[] array, int left, int mid, int right, double[] result) { int i = left; int j = mid + 1; int k = 0; while (i &lt;= mid &amp;&amp; j &lt;= right) { if (array[i] &gt;= array[j]) { result[k++] = array[j++]; } else { result[k++] = array[i++]; } }// å°†å‰©ä½™çš„å·¦å­é—®é¢˜åºåˆ—å¡«å……åˆ°resultä¸­ while (i &lt;= mid) { result[k++] = array[i++]; }// å°†å‰©ä½™çš„å³å­é—®é¢˜åºåˆ—å¡«å……åˆ°resultä¸­ while (j &lt;= right) { result[k++] = array[j++]; }// å°†resultä¸­å…ƒç´ å¡«å……åˆ°åŸåºåˆ—ä¸­ï¼Œä»¥ä¾¿ç»§ç»­æ’åº i = left; k = 0; while (i &lt;= right) { array[i++] = result[k++]; } }} Test1234567891011121314151617181920212223public static void main(String[] args) {// éšæœºäº§ç”Ÿdoubleæ•°ç»„ int length = 1000000; long start, end; double[] array = new double[length]; for (int i = 0; i &lt; length; i++) { double num = Math.random() * 10;// å°†doubleå€¼ç²¾ç¡®åˆ°å°æ•°ç‚¹åä¸¤ä½ num = new BigDecimal(num).setScale(2, BigDecimal.ROUND_HALF_UP).doubleValue(); array[i] = num; } System.out.println(Arrays.toString(array));// å½’å¹¶æ’åºå¼€å§‹ start = System.currentTimeMillis(); // è·å–å¼€å§‹æ—¶é—´ MergeSort mergeSort = new MergeSort(); mergeSort.mergeSort(array); end = System.currentTimeMillis(); // è·å–ç»“æŸæ—¶é—´ System.out.println(&quot;å½’å¹¶æ’åºè¿è¡Œæ—¶é—´ï¼š &quot; + (end - start) + &quot;ms&quot;); System.out.println(Arrays.toString(array));} Time Complexityå½’å¹¶æ’åºçš„å¼€é”€é™¤äº†é€’å½’æ±‚è§£å­é—®é¢˜å¤–ï¼Œè¿˜éœ€è¦å°†å­é—®é¢˜åˆå¹¶ï¼Œå¼€é”€ä¸º $O(n)$ æ•…ï¼Œå½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦ç­‰å¼ä¸ºï¼š$T(n) = 2T(n/2) + O(n)$ æ ¹æ®ç®—æ³•æ—¶é—´å¤æ‚åº¦çš„ master æ–¹æ³•ï¼Œæ­¤æ—¶ $a = 2, b = 2, \\log_b{a} = 1$ ç”±äº $f(n) = n = \\Theta(n^{\\log_b{a}})$ ï¼ˆç®€å•èµ·è§ï¼Œå‡å®š$f(n) = O(n) = n$ï¼‰, æ»¡è¶³ master æ–¹æ³•çš„ case 2, æ•…æ—¶é—´å¤æ‚åº¦ä¸ºï¼š $T(n) = \\Theta(n^{\\log_b{a}}logn) = \\Theta(nlogn)$ å½’å¹¶æ’åºæ— è®ºåœ¨ä»€ä¹ˆæƒ…å†µä¸‹éƒ½éœ€è¦å¯¹æ¯ä¸€ä¸ªå­é—®é¢˜è¿›è¡Œæ’åºï¼Œæ‰€ä»¥å®ƒçš„æœ€å¥½ã€æœ€åã€å¹³å‡æƒ…å†µçš„æ—¶é—´å¤æ‚åº¦å‡ä¸º $O(nlogn)$","link":"/2020/02/02/algo-merge-sort/"},{"title":"é˜¿é‡Œäº‘ CentOS æ­å»º Hexo è¯¦ç»†æ•™ç¨‹","text":"æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨ CentOS 7 æ­å»º hexo åšå®¢ 1. å®‰è£… Gitè¿™é‡Œä½¿ç”¨å‹ç¼©åŒ…çš„æ–¹å¼è¿›è¡Œå®‰è£…ï¼Œå°½ç®¡ä¸€é”® yum install -y æ›´åŠ ç®€å•ç²—æš´ï¼Œä½†æ˜¯è¿™æ ·ä¼šæŠŠæ–‡ä»¶æ‰“æ•£ï¼Œä½¿ç”¨å‹ç¼©åŒ…çš„æ–¹å¼å®‰è£…è¿˜èƒ½é¡ºä¾¿å­¦ä¹ è®¸å¤šå‘½ä»¤å’Œé…ç½® å®‰è£…ä¾èµ–åº“å’Œç¼–è¯‘å·¥å…· 1yum install -y curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker ä¸‹è½½ git æœ€æ–°ç‰ˆæœ¬ï¼ˆtmp ç›®å½•ç”¨æ¥å­˜æ”¾ä¸´æ—¶æ–‡ä»¶ï¼ŒæœåŠ¡å™¨é‡å¯åä¼šè‡ªåŠ¨æ¸…é™¤ï¼‰ 1cd /tmp &amp;&amp; wget https://www.kernel.org/pub/software/scm/git/git-2.25.2.tar.gz è§£å‹ 1tar -zvxf git-2.25.2.tar.gz ç¼–è¯‘ 1cd git-2.25.2 &amp;&amp; make all prefix=/usr/local/git å®‰è£… 1make install prefix=/usr/local/git é…ç½®ç¯å¢ƒå˜é‡ 1echo 'export PATH=$PATH:/usr/local/git/bin' &gt;&gt; /etc/bashrc ä½¿ç¯å¢ƒå˜é‡é…ç½®ç”Ÿæ•ˆ 1source /etc/bashrc æŸ¥çœ‹ç‰ˆæœ¬ 1git version é…ç½®ç”¨æˆ·åå’Œé‚®ç®± 12git config --global user.name &quot;ä½ çš„è´¦å·&quot;git config --global user.email &quot;ä½ çš„é‚®ç®±&quot; æŸ¥çœ‹é…ç½®ä¿¡æ¯ 1git config -l ç”Ÿæˆ ssh å¯†é’¥ 1ssh-keygen -t rsa -C &quot;ä½ çš„ github é‚®ç®±&quot; æ‰“å¼€ /root/.ssh/id_rsa.pub ï¼Œå°†å…¶ä¸­å†…å®¹æ·»åŠ åˆ° GitHub çš„ SSH Key å°è¯•ä½¿ç”¨ ssh clone ä½ çš„ä»“åº“ 1git clone git@github.com:yourgithubid/repo.git å¦‚æœ clone æˆåŠŸåˆ™è¯´æ˜ ssh è®¾ç½®æˆåŠŸ 2. å®‰è£… Nodejsè¿™é‡ŒåŒæ ·ä½¿ç”¨å‹ç¼©åŒ…çš„æ–¹å¼è¿›è¡Œå®‰è£… ä¸‹è½½ nodejs æœ€æ–°ç‰ˆæœ¬ 1cd /tmp &amp;&amp; wget https://nodejs.org/dist/v12.16.0/node-v12.16.0-linux-x64.tar.xz è§£å‹ 1tar xvJf node-v12.16.0-linux-x64.tar.xz å°† /tmp/node-v12.16.0-linux-x64 æ–‡ä»¶å¤¹ç§»åŠ¨åˆ° /usr/local ç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åä¸º node 1mv node-v12.16.0-linux-x64 /usr/local/node æ·»åŠ è½¯è¿æ¥åˆ° /bin ç›®å½• 123ln -s /usr/local/node/bin/node /bin/nodeln -s /usr/local/node/bin/npm /bin/npm é…ç½®ç¯å¢ƒå˜é‡ 1echo 'export PATH=/usr/local/node/bin:$PATH' &gt;&gt; /etc/profile ä½¿ç¯å¢ƒå˜é‡é…ç½®ç”Ÿæ•ˆ 1source /etc/profile æŸ¥çœ‹ nodejs å’Œ npm ç‰ˆæœ¬ 123node -vnpm -v å¦‚æœæ­£å¸¸æ˜¾ç¤ºï¼Œåˆ™å®‰è£…æˆåŠŸ 3. å®‰è£… Hexoè®¾ç½® npm æºä¸ºæ·˜å®æº 1npm config set registry https://registry.npm.taobao.org å®‰è£… hexo 1npm install -g hexo-cli æŸ¥çœ‹ç‰ˆæœ¬ 1hexo -v 4. åˆ›å»º Hexo åšå®¢è¿™é‡Œå°†åšå®¢æ”¾åœ¨ /data/blog ç›®å½•ä¸‹ åˆ›å»ºæ–‡ä»¶å¤¹ 1mkdir -p /data/blog &amp;&amp; cd /data/blog åˆå§‹åŒ– hexo 1hexo init ç”Ÿæˆ hexo é¡µé¢ 1hexo g æ­¤æ—¶ä¼šåœ¨ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª public æ–‡ä»¶ï¼Œå…¶ä¸­çš„ index.html å°±æ˜¯åšå®¢çš„ä¸»é¡µé¢ 5. å®‰è£… Nginxè¿™é‡ŒåŒæ ·ä½¿ç”¨å‹ç¼©åŒ…çš„æ–¹å¼è¿›è¡Œå®‰è£… å®‰è£…ä¾èµ– 1yum install -y gcc gcc-c++ pcre pcre-devel zlib zlib-devel openssl openssl-devel åŒæ ·åœ¨ /tmp ç›®å½•ä¸‹ï¼Œä¸‹è½½ nginx æœ€æ–°ç‰ˆæœ¬ 1cd /tmp &amp;&amp; wget http://nginx.org/download/nginx-1.16.1.tar.gz è§£å‹ 1tar -zxvf nginx-1.16.1.tar.gz ç¼–è¯‘ 1cd nginx-1.16.1 &amp;&amp; ./configure --with-http_ssl_module --with-http_ssl_module : é…ç½® ssl æ¨¡å— ç¼–è¯‘å®Œåï¼Œä¼šæ˜¾ç¤ºé…ç½®ä¿¡æ¯ï¼Œé»˜è®¤å°† nginx å®‰è£…åˆ° /usr/local/nginx å®‰è£… 1make &amp;&amp; make install nginx çš„é…ç½®æ–‡ä»¶åœ¨ /usr/local/nginx/conf ç›®å½•ä¸‹ï¼Œç¼–è¾‘ nginx.confï¼ŒæŒ‰ i è¿›å…¥ INSERT æ¨¡å¼ 1234567vi /usr/local/nginx/conf/nginx.conf# ä¿å­˜å¹¶é€€å‡º:wq# é€€å‡ºä½†ä¸ä¿å­˜:q! éœ€åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ç›‘å¬çš„ server_name ä¸ºä½ çš„åŸŸåï¼Œä»¥åŠ ssl è¯ä¹¦çš„ç›®å½•å’Œåšå®¢çš„ç›®å½• 12345678910111213141516171819202122server { listen 443 ssl; # ä¿®æ”¹åŸŸåæˆ–ip server_name blog.tsund.cn; # ä¿®æ”¹sslè¯ä¹¦ç›®å½• ssl_certificate /data/ssl/blog_tsund_cn/chain.crt; ssl_certificate_key /data/ssl/blog_tsund_cn/key.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 10m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; ssl_prefer_server_ciphers on; # ä¿®æ”¹åšå®¢ç›®å½• location / { root /data/blog/public; index index.html index.htm; } } é‡å¯ nginx 123456789cd /usr/local/nginx/sbin./nginx -s reload# å¯åŠ¨ nginx./nginx# å…³é—­ nginx./nginx -s stop è®¿é—®åšå®¢åœ°å€ï¼Œå‡ºç° hexo ç•Œé¢ æ¥ä¸‹æ¥ï¼Œå°±å¯ä»¥å°† GitHub çš„åšå®¢è¿ç§»åˆ°æœåŠ¡å™¨äº†","link":"/2020/02/18/blog-hexo/"},{"title":"Cloudflare Workers å®ç°301ç½‘å€è·³è½¬","text":"æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åŸºäº Cloudflare Workers ä½¿ç”¨ Node.js å®ç°ä¸€ä¸ªç½‘å€è·³è½¬æœåŠ¡ï¼Œå¹¶è‡ªå®šä¹‰åŸŸå Cloudflare Workers åœ¨è¾¹ç¼˜è¿è¡Œä»£ç ï¼Œæä¾›å¼ºå¤§çš„ Web å¯æ‰©å±•æ€§ åœ¨è¾¹ç¼˜åº”ç”¨ è‡ªå®šä¹‰å®‰å…¨è§„åˆ™ å’Œ è¿‡æ»¤é€»è¾‘ æ¥æ£€æµ‹æ¶æ„ Bots ç—…æ¯’å¹¶é˜²æ­¢å®ƒä»¬æ¶ˆè€—èµ„æºï¼Œä»è€Œæé«˜å®‰å…¨æ€§ã€‚ å°†æ›´å¤šä¸ªæ€§åŒ–å’Œäº¤äº’æ€§çº³å…¥é™æ€ HTML é¡µé¢ï¼Œå¹¶åœ¨è¾¹ç¼˜è¿è¡ŒåŠ¨æ€è¯·æ±‚ï¼Œä»è€Œæ”¹å–„ç”¨æˆ·ä½“éªŒã€‚ å°†æ›´å¤šæ“ä½œæµç¨‹å’Œè¯·æ±‚å¤„ç†è½¬ç§»åˆ°è¾¹ç¼˜ï¼Œä»¥æé«˜ç¼“å­˜å‘½ä¸­ç‡å¹¶é™ä½å¸¦å®½æˆæœ¬ï¼Œä»è€Œé™ä½è¿è¥æˆæœ¬ã€‚ Cloudflare Workers å¯ä»¥é€šè¿‡è‡ªå®šä¹‰å®‰å…¨è§„åˆ™å’Œè¿‡æ»¤é€»è¾‘æ¥æé«˜ç½‘ç«™çš„å®‰å…¨æ€§ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ t.domain1.com\\blog 301é‡å®šå‘åˆ°çœŸå®åœ°å€ï¼Œå¦‚ï¼šblog.domain2.comï¼Œè¾¾åˆ°éšè—çœŸå®åœ°å€çš„ç›®çš„ æ­¥éª¤1. åˆ›å»º Workers ç‚¹å‡»åˆ›å»º Worker ä»£ç çš„ä¸»è¦æ€æƒ³æ˜¯ï¼šå¯¹äºè¯¸å¦‚ to.domain1.com\\/blog è¿™æ ·çš„è¯·æ±‚ï¼Œæˆªå– / åé¢çš„å†…å®¹å¹¶æŸ¥è¯¢ redirectMapï¼Œç„¶å 301 è·³è½¬åˆ°ç›¸åº”ç½‘å€ï¼Œå¦‚ blog.domain2.com ä»£ç å¦‚ä¸‹ï¼Œåªéœ€è¦æ ¹æ®éœ€æ±‚è‡ªå·±ä¿®æ”¹ redirectMap çš„å†…å®¹å°±è¡Œäº† 12345678910111213141516async function handleRequest(request) { let requestURL = new URL(request.url) let path = requestURL.pathname.split('/')[1] let location = redirectMap[path] if (location) { return Response.redirect(location, 301) } return fetch(request)}addEventListener('fetch', async event =&gt; { event.respondWith(handleRequest(event.request))})const redirectMap = { blog: 'https://blog.tsund.cn/'} 2. è‡ªå®šä¹‰åŸŸåæ³¨æ„ï¼šè¦ä½¿ç”¨çš„åŸŸåå¿…é¡»æ˜¯ç”± Cloudflare ç®¡ç†çš„ è¿›å…¥ Cloudflare çš„åŸŸåç•Œé¢åï¼Œç‚¹å‡» Workers æ ‡ç­¾ï¼Œå¹¶æ·»åŠ ä¸€æ¡ route ç„¶åæ˜¯é…ç½® routeï¼Œå¯ä»¥ä½¿ç”¨é€šé…ç¬¦ æ³¨æ„ï¼šå¦‚æœæ˜¯äºŒçº§åŸŸåï¼Œéœ€è¦å…ˆç»™è¿™ä¸ªäºŒçº§åŸŸåæ·»åŠ ä¸€æ¡ CNAME è®°å½•ï¼Œå¦åˆ™è·³è½¬ä¼šæœ‰é—®é¢˜ã€‚Workers ä¼šåœ¨ CNAME ä¹‹å‰æ‹¦æˆªè¯·æ±‚ï¼Œåªæœ‰æœªè¢«æ‹¦æˆªçš„æ‰ä¼šèµ° CNAME è®°å½•çš„åœ°å€ã€‚ æ‰€ä»¥è¿™ä¸ªæ ¹æ®è‡ªå·±éœ€æ±‚å°±å¯ä»¥äº† è‡³æ­¤ï¼Œå°±å®ç°äº†é€šè¿‡ Cloudflare Workers å®ç° 301 ç½‘å€è·³è½¬ï¼Œè¾¾åˆ°éšè—ç›®æ ‡ç½‘å€çš„ç›®çš„ å¦‚ï¼šhttps://t.shenke.codes/blog ä¼šè·³è½¬åˆ° https:\\/\\/blog.tsund.cn æ›´æ–°ï¼šå¦‚æœ CNAME è®°å½•æŒ‡å‘çš„æ˜¯ GitHub Pages çš„é¡µé¢ï¼Œå¯èƒ½å‡ºç° 404 é”™è¯¯ï¼Œå°½ç®¡ä»“åº“ä¸­å·²ç»å®šä¹‰å¥½ 404 é¡µé¢ï¼Œä½†æ˜¯ä¾ç„¶è¿˜æ˜¯æ˜¾ç¤ºé»˜è®¤çš„ 404 é¡µé¢ï¼Œå½±å“æµè§ˆä½“éªŒã€‚è¿™æ—¶å¯ä»¥é€šè¿‡ä¿®æ”¹ Workers ä»£ç è®©æ‰€æœ‰çš„è¯·æ±‚å°±éƒ½ç» Cloudflare Workers å¤„ç†ï¼Œä½†æ˜¯ CNAME è®°å½•ä¾ç„¶ä¸å¯ä»¥åˆ æ‰ï¼ˆå¥½åƒæ˜¯è¯¥æ¡ DNS è®°å½•å¿…é¡»å­˜åœ¨ ğŸ˜›ï¼‰ã€‚ä¿®æ”¹åçš„ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718async function handleRequest(request) { let requestURL = new URL(request.url) let path = requestURL.pathname.split('/')[1] let location = redirectMap[path] if (location) { return Response.redirect(location, 301) } else { return Response.redirect('https://tsund.cn/404/', 301) }}addEventListener('fetch', async event =&gt; { event.respondWith(handleRequest(event.request))})const redirectMap = { '': 'https://tsund.cn/', 'blog': 'https://blog.tsund.cn/'} è¿™æ ·ï¼Œè®¿é—® https://t.shenke.codes å°±ä¼šè·³è½¬åˆ° https:\\/\\/tsund.cnï¼Œå¹¶ä¸”å¯¹äº redirectMap ä¸­å°šæœªå®šä¹‰çš„è·³è½¬è§„åˆ™ï¼Œä¼šè·³è½¬åˆ°è‡ªå®šä¹‰çš„ 404 é¡µé¢ï¼Œä»è€Œæé«˜ç”¨æˆ·æµè§ˆä½“éªŒ","link":"/2020/02/02/cf-workers-redirect/"},{"title":"è®°å½•æ•´æ•°åè½¬çš„æº¢å‡ºé—®é¢˜","text":"Leetcode simple problem: Reverse Integerç»™å‡ºä¸€ä¸ª 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œä½ éœ€è¦å°†è¿™ä¸ªæ•´æ•°ä¸­æ¯ä½ä¸Šçš„æ•°å­—è¿›è¡Œåè½¬ã€‚æ³¨æ„ï¼šå‡è®¾æˆ‘ä»¬çš„ç¯å¢ƒåªèƒ½å­˜å‚¨å¾—ä¸‹ 32 ä½çš„æœ‰ç¬¦å·æ•´æ•°ï¼Œåˆ™å…¶æ•°å€¼èŒƒå›´ä¸º [Integer.MIN_VALUE, Integer.MAX_VALUE]ã€‚è¯·æ ¹æ®è¿™ä¸ªå‡è®¾ï¼Œå¦‚æœåè½¬åæ•´æ•°æº¢å‡ºé‚£ä¹ˆå°±è¿”å› 0 Thought å…ˆä¸è€ƒè™‘æº¢å‡ºé—®é¢˜ï¼Œå¯¹æ•´æ•°å–åå¾ˆç®€å•ï¼Œå…ˆæŠŠ x ä¸æ–­å¯¹ 10 å–ä½™ï¼Œç„¶å result ä¹˜ 10 åŠ ä¸Šä½™æ•°è¦†ç›–æ‰åŸæ¥çš„ resultï¼Œæœ€å x /= 10 å¯¹äºæº¢å‡ºé—®é¢˜ï¼Œå°±éœ€è¦åˆ¤æ–­æœ€ç»ˆå¾—åˆ°çš„ result çš„èŒƒå›´æ˜¯å¦åˆæ³•ï¼Œè€Œé—®é¢˜æ˜¯å¦‚æœ result å·²ç»æº¢å‡ºï¼Œé‚£ä¹ˆ result å°±ä¸èƒ½æ˜¯ int ç±»å‹ï¼Œè¦æ‰©å……ä¸€ä¸‹çš„å®ƒçš„å­˜å‚¨ç©ºé—´ï¼Œè®©å®ƒè¡¨ç¤ºæ¯” int è¿˜è¦å¤§çš„æ•°ï¼Œé‚£ä¹ˆå®ƒçš„ç±»å‹å°±å¿…é¡»æ˜¯ longï¼ˆæˆ‘æ²¡æƒ³åˆ°è¿™ç‚¹ï¼Œæäº¤äº†ä¸‰ééƒ½ä¸å¯¹ï¼Œæœ€åçœ‹äº†è¯„è®ºæ‰æ‚Ÿå‡ºæ¥â€¦ï¼‰ å¦å¤–ï¼Œå®˜æ–¹ç»™å‡ºçš„ç­”æ¡ˆæœ‰ç‚¹å¤æ‚çš„å‘³é“ï¼š å›¾ç‰‡æ¥è‡ª Leetcode å®˜æ–¹ç­”æ¡ˆï¼Œé“¾æ¥ï¼šhttps://leetcode-cn.com/problems/reverse-integer/solution/zheng-shu-fan-zhuan-by-leetcode/ å…¶å®ä¸ªäººæ„Ÿè§‰æ‰æ˜¯æœ€ç¨³å¦¥æœ€ä¸‡èƒ½çš„åšæ³•ï¼Œå› ä¸ºå¦‚æœæŒ‰åˆšæ‰çš„åšæ³•ï¼Œç”¨ä¸€ä¸ª long ç±»å‹æ¥ä¿å­˜ç»“æœï¼Œé‚£å¦‚æœé¢˜ç›®æ”¹æˆæ˜¯å¯¹ long ç±»å‹çš„æ•°è¿›è¡Œå–åå‘¢ï¼Œå†å»ç”¨ long long ç±»å‹ä¿å­˜ç»“æœå—ï¼Œä½†æ˜¯å¯¹äºè¿™ä¸ªé¢˜ç›®æ¥è¯´è¿™ç¡®å®æ˜¯æœ€å·§å¦™çš„è§£æ³•äº† Java Codes12345678910111213public int reverse(int x) { // ç”¨longç±»å‹åˆ¤æ–­æº¢å‡º long result = 0; while (x != 0) { result = result * 10 + x % 10; x /= 10; } return (int) ((result &gt;= Integer.MIN_VALUE &amp;&amp; result &lt;= Integer.MAX_VALUE) ? result : 0);} Notes Integer.MIN_VALUE(-2^31)ï¼š -2147483648\\Integer.MAX_VALUE(2^31-1)ï¼š 2147483647 å‡½æ•° Math.pow(a, b)ï¼Œè¿”å›çš„æ˜¯ a çš„ b æ¬¡æ–¹ï¼Œç±»å‹æ˜¯ Double\\a ^ b å¾—åˆ°çš„ä¹Ÿæ˜¯ a çš„ b æ¬¡æ–¹ï¼Œä½†æ˜¯è¿”å›çš„æ˜¯ Integer ç±»å‹","link":"/2020/02/02/algo-reverse-integer/"},{"title":"é€šè¿‡ Docker æ­å»º Chevereto å›¾åºŠ","text":"Chevereto æ˜¯ä¸€å¥—åŸºäº PHP æ„å»ºï¼Œæ˜“äºå®‰è£…å’Œé…ç½®ä½¿ç”¨çš„å¼€æºåœ¨çº¿å›¾ç‰‡å­˜å‚¨åˆ†äº«æœåŠ¡ç³»ç»Ÿ ç»“åˆä¸Šç¯‡ é€šè¿‡ Docker æ­å»º Typecho è¯¦ç»†æ•™ç¨‹ï¼Œé€šè¿‡ Docker Compose ç¼–æ’ Mysqlã€PHPã€Nginx å®¹å™¨ï¼ŒåŒæ—¶éƒ¨ç½² Typecho å’Œ Chevereto 1. æ„å»º PHP é•œåƒDockerfile å†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112FROM php:7.2.3-fpmLABEL maintainer=&quot;tsund&quot; \\ email=&quot;tsund@qq.com&quot; \\ version=&quot;7.2.3-fpm&quot;RUN apt-get update \\ &amp;&amp; apt-get install -y libgd-dev libzip-dev \\ &amp;&amp; apt-get clean &amp;&amp; rm -rf /tmp/* &amp;&amp; rm -rf /var/lib/apt/lists/* \\ &amp;&amp; docker-php-ext-configure gd --with-freetype-dir=/usr/include/ --with-jpeg-dir=/usr/include/ --with-png-dir=/usr/include \\ &amp;&amp; docker-php-ext-install gd pdo pdo_mysql mysqli zipCOPY ./php.ini /usr/local/etc/php/conf.d/ å¯é€šè¿‡ä»¥ä¸Š Dockerfile è‡ªè¡Œæ„å»ºï¼Œæ„å»ºæ–¹æ³•å¦‚ä¸‹ã€‚äº¦å¯ç›´æ¥ä½¿ç”¨æˆ‘æ„å»ºå¥½çš„é•œåƒ tsund/php:7.2.3-fpm ä¸‹è½½ GitHub ä»“åº“ ä¸­çš„ 7.2.3-fpm æ–‡ä»¶å¤¹ï¼Œcd åˆ°è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ„å»ºé•œåƒ 1docker build username/repo:tag . push åˆ° Docker Hub 1docker push username/repo:tag 2. é…ç½®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š 12345678910[root@shenke web]# tree -L 1.â”œâ”€â”€ docker-compose.ymlâ”œâ”€â”€ htmlâ”œâ”€â”€ mysqlâ”œâ”€â”€ mysql.envâ”œâ”€â”€ nginxâ””â”€â”€ ssl4 directories, 2 files 2.1 é…ç½® Nginxç¼–å†™å›¾åºŠé¡µé¢çš„é…ç½®æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960server { listen 443 ssl; server_name img.tsund.cn; root /var/www/html/chevereto; index index.php; access_log /var/log/nginx/typecho_access.log main; ssl_certificate /var/www/ssl/img_tsund_cn.crt; ssl_certificate_key /var/www/ssl/img_tsund_cn.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 5m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; location ~ .*\\.php(\\/.*)*$ { fastcgi_pass php:9000; fastcgi_index index.php; # fastcgi_connect_timeout 60s; # fastcgi_send_timeout 60s; # fastcgi_read_timeout 60s; fastcgi_param PATH_INFO $fastcgi_path_info; fastcgi_param PATH_TRANSLATED $document_root$fastcgi_path_info; fastcgi_param SCRIPT_NAME $fastcgi_script_name; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; } # Chevereto NGINX generated rules for https://img.tsund.cn/ # Context limits client_max_body_size 20M; # Disable access to sensitive files location ~* /(app|content|lib)/.*\\.(po|php|lock|sql)$ { deny all; } # Image not found replacement location ~ \\.(jpe?g|png|gif|webp)$ { log_not_found off; error_page 404 /content/images/system/default/404.gif; } # CORS header (avoids font rendering issues) location ~* /.*\\.(ttf|ttc|otf|eot|woff|woff2|font.css|css|js)$ { add_header Access-Control-Allow-Origin &quot;*&quot;; } # Pretty URLs location / { index index.php; try_files $uri $uri/ /index.php$is_args$query_string; } # END Chevereto NGINX rules} 2.2 ç¼–å†™ docker-compose.ymlå†…å®¹å‚è€ƒå¦‚ä¸‹: 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152version: &quot;3&quot;services: nginx: image: nginx container_name: nginx ports: - &quot;80:80&quot; - &quot;443:443&quot; restart: always volumes: - ./html:/var/www/html - ./ssl:/var/www/ssl - ./nginx/conf.d:/etc/nginx/conf.d - ./nginx/nginx.conf:/etc/nginx/nginx.conf depends_on: - php networks: - web php: image: tsund/php:7.2.3-fpm container_name: php restart: always ports: - &quot;9000:9000&quot; volumes: - ./html:/var/www/html environment: - TZ=Asia/Shanghai depends_on: - mysql networks: - web mysql: image: mysql:5.7 container_name: mysql restart: always ports: - &quot;3306:3306&quot; volumes: - ./mysql/data:/var/lib/mysql - ./mysql/logs:/var/log/mysql - ./mysql/conf:/etc/mysql/conf.d env_file: - mysql.env networks: - webnetworks: web: ä»¥ä¸Šå†…å®¹è¯¦è§£å¯å‚è€ƒ é€šè¿‡ Docker æ­å»º Typecho è¯¦ç»†æ•™ç¨‹ 3. å¯åŠ¨å®¹å™¨åœ¨å­˜æ”¾ç›®å½•ä¸‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨å®¹å™¨ 1docker-compose up -d ä¹‹åï¼Œæµè§ˆå™¨è¿›å…¥å›¾åºŠé¡µé¢å¼€å§‹é…ç½®å³å¯","link":"/2020/09/16/docker-chevereto/"},{"title":"Docker å…¥é—¨åŠå¸¸ç”¨å‘½ä»¤","text":"1. Docker åŸºç¡€çŸ¥è¯† Build, Ship and Run Any App, Anywhere. Docker æ˜¯ä¸€ä¸ªå¼€æºçš„åº”ç”¨å®¹å™¨å¼•æ“ï¼Œè®©å¼€å‘è€…å¯ä»¥æ‰“åŒ…ä»–ä»¬çš„åº”ç”¨ä»¥åŠä¾èµ–åŒ…åˆ°ä¸€ä¸ªå¯ç§»æ¤çš„é•œåƒä¸­ï¼Œç„¶åå‘å¸ƒåˆ°ä»»ä½•æµè¡Œçš„ Linux æˆ– Windows æœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥å®ç°è™šæ‹ŸåŒ–ã€‚å®¹å™¨æ˜¯å®Œå…¨ä½¿ç”¨æ²™ç®±æœºåˆ¶ï¼Œç›¸äº’ä¹‹é—´ä¸ä¼šæœ‰ä»»ä½•æ¥å£ Docker çš„ä¸‰ä¸ªé‡è¦æ¦‚å¿µï¼š Imageï¼ˆé•œåƒï¼‰ Containerï¼ˆå®¹å™¨ï¼‰ Repositoryï¼ˆä»“åº“ï¼‰ å…¶ä¸­ï¼ŒImage æ˜¯ Docker çš„æ ¸å¿ƒï¼Œå®ƒå¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ç³»ç»Ÿï¼Œé™¤äº†æä¾›å®¹å™¨è¿è¡Œæ—¶æ‰€éœ€çš„ç¨‹åºã€åº“ã€èµ„æºã€é…ç½®ç­‰æ–‡ä»¶å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€äº›ä¸ºè¿è¡Œæ—¶å‡†å¤‡çš„ä¸€äº›é…ç½®å‚æ•°ï¼ˆå¦‚åŒ¿åå·ã€ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ç­‰ï¼‰ã€‚é•œåƒä¸åŒ…å«ä»»ä½•åŠ¨æ€æ•°æ®ï¼Œå…¶å†…å®¹åœ¨æ„å»ºä¹‹åä¹Ÿä¸ä¼šè¢«æ”¹å˜ Containerï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œå…¶ä¸­è£…çš„å°±æ˜¯ Image é•œåƒï¼Œå®ƒä¸ Image çš„å…³ç³»å°±å¥½æ¯”æ˜¯é¢å‘å¯¹è±¡ä¸­çš„å®ä¾‹å’Œç±»ï¼ŒImage æ˜¯é™æ€çš„å®šä¹‰ï¼ŒContainer æ˜¯ Image è¿è¡Œæ—¶çš„å®ä¾‹ã€‚Image è¯´ç™½äº†åªæ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè€Œè£…è½½ Image çš„ Container å¯ä»¥è¢«åˆ›å»ºã€å¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€æš‚åœç­‰ Repository æ˜¯ä¸€ä¸ªä»£ç æ§åˆ¶ä¸­å¿ƒï¼Œç”¨æ¥ä¿å­˜é•œåƒã€‚æ¯ä¸ªä»“åº“å¯ä»¥åŒ…å«å¤šä¸ª Tagï¼ˆæ ‡ç­¾ï¼‰ï¼Œæ¯ä¸ª Tag å¯¹åº”ä¸€ä¸ªé•œåƒã€‚é€šå¸¸ï¼Œä¸€ä¸ª Repository ä¼šåŒ…å«åŒä¸€ä¸ªè½¯ä»¶ä¸åŒç‰ˆæœ¬çš„ Imageï¼Œè€Œ Tag å°±å¸¸ç”¨äºå¯¹åº”è¯¥è½¯ä»¶çš„å„ä¸ªç‰ˆæœ¬ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ &lt;ä»“åº“å&gt;:&lt;æ ‡ç­¾&gt; çš„æ ¼å¼æ¥æŒ‡å®šå…·ä½“æ˜¯è¿™ä¸ªè½¯ä»¶å“ªä¸ªç‰ˆæœ¬çš„ Imageã€‚å¦‚æœä¸ç»™å‡º Tagï¼Œå°†ä»¥ latest ä½œä¸ºé»˜è®¤æ ‡ç­¾ 2. Docker åŸºæœ¬å‘½ä»¤2.1 å®¹å™¨ç®¡ç† docker run ï¼šé€šè¿‡é•œåƒåˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œä¸€ä¸ªå‘½ä»¤ 1docker run [OPTIONS] IMAGE [COMMAND] [ARG...] å¸¸ç”¨ OPTIONSï¼š -d ï¼šåå°è¿è¡Œ Container -i ï¼šä»¥äº¤äº’æ¨¡å¼è¿è¡Œ Containerï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ -t ï¼šä¸º Container é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ï¼ˆå³ -itï¼‰ -p ï¼šæŒ‡å®š Container ä¸ä¸»æœºçš„ç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼šä¸»æœº(å®¿ä¸»)ç«¯å£:å®¹å™¨ç«¯å£ --name=&quot;container-name&quot;: ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§° docker start ï¼šå¯åŠ¨ä¸€ä¸ªæˆ–å¤šä¸ªå·²ç»è¢«åœæ­¢çš„å®¹å™¨ 1docker start CONTAINER docker stop ï¼šåœæ­¢ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ 1docker stop CONTAINER docker restart ï¼šé‡å¯ä¸€ä¸ªè¿è¡Œä¸­çš„å®¹å™¨ 1docker restart CONTAINER docker rm ï¼šåˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ å¸¸ç”¨ OPTIONSï¼š -f ï¼šå¼ºåˆ¶åˆ é™¤ Container åˆ é™¤æ‰€æœ‰å·²åœæ­¢çš„ Container 1docker rm $(docker ps -a -q) docker exec ï¼šåœ¨æŒ‡å®šè¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œæ“ä½œï¼Œexit åå®¹å™¨ä¸ä¼šåœæ­¢è¿è¡Œ 1docker exec [OPTIONS] CONTAINER COMMAND [ARG...] å¸¸ç”¨ -it è¿›å…¥å®¹å™¨å¹¶æ‰§è¡Œå‘½ä»¤ï¼ˆåœ¨ä¼ªç»ˆç«¯ä¸­è¾“å…¥ exit é€€å‡ºï¼‰ 1docker exec -it CONTAINER /bin/bash 2.2 å®¹å™¨æ“ä½œ docker ps ï¼šæŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨ å¸¸ç”¨ OPTIONSï¼š -a ï¼šåˆ—å‡ºæ‰€æœ‰ Containerï¼ŒåŒ…æ‹¬æœªè¿è¡Œçš„ -q ï¼šåªåˆ—å‡º Container ID -s ï¼šæ˜¾ç¤ºæ€»çš„æ–‡ä»¶å¤§å° docker inspect ï¼šè·å–æŒ‡å®šå®¹å™¨/é•œåƒçš„å…ƒæ•°æ®ï¼Œè¿”å›å†…å®¹æ ¼å¼é»˜è®¤ä¸º json 1docker inspect CONTAINER docker port ï¼šåˆ—å‡ºæŒ‡å®šå®¹å™¨çš„ç«¯å£æ˜ å°„ 1docker port CONTAINER docker top ï¼šæŸ¥çœ‹æŒ‡å®šè¿è¡Œå®¹å™¨ä¸­çš„è¿›ç¨‹ä¿¡æ¯ï¼Œæ”¯æŒ ps å‘½ä»¤å‚æ•° 1docker top [OPTIONS] CONTAINER [ps OPTIONS] 2.3 é•œåƒç®¡ç† docker images ï¼šåˆ—å‡ºæœ¬åœ°é•œåƒ å¸¸ç”¨ OPTIONSï¼š -a ï¼šåˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„é•œåƒï¼ˆå«ä¸­é—´æ˜ åƒå±‚ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿‡æ»¤æ‰ä¸­é—´æ˜ åƒå±‚ï¼‰ -q ï¼šåˆ—å‡ºæœ¬åœ°é•œåƒ ID docker rmi ï¼šåˆ é™¤æœ¬åœ°ä¸€ä¸ªæˆ–å¤šä¸ªé•œåƒ 1docker rmi [OPTIONS] IMAGE [IMAGE...] å¸¸ç”¨ OPTIONSï¼š -f ï¼šå¼ºåˆ¶åˆ é™¤ Image docker tag ï¼šæ ‡è®°æœ¬åœ°é•œåƒï¼Œå°†å…¶å½’å…¥æŸä¸€ä»“åº“ 1docker tag [OPTIONS] IMAGE[:TAG] [REGISTRYHOST/][USERNAME/]NAME[:TAG] docker build ï¼šä½¿ç”¨ Dockerfile åˆ›å»ºé•œåƒ 1docker build [OPTIONS] PATH | URL | - å¸¸ç”¨ OPTIONSï¼š -t ï¼šé•œåƒçš„åå­—åŠæ ‡ç­¾ï¼Œé€šå¸¸ name:tag æˆ–è€… name æ ¼å¼ï¼Œå¯ä»¥åœ¨ä¸€æ¬¡æ„å»ºä¸­ä¸ºä¸€ä¸ªé•œåƒè®¾ç½®å¤šä¸ªæ ‡ç­¾ -f ï¼šæŒ‡å®šè¦ä½¿ç”¨çš„ Dockerfile è·¯å¾„ 2.4 ä»“åº“æ“ä½œ docker pull ï¼šä»é•œåƒä»“åº“ä¸­æ‹‰å–æˆ–è€…æ›´æ–°æŒ‡å®šé•œåƒ 1docker pull ubuntu docker search ï¼šä» Docker Hub ä¸­æŸ¥æ‰¾é•œåƒ 1docker search [OPTIONS] TERM å¸¸ç”¨ OPTIONSï¼š --automated ï¼šåªåˆ—å‡º automated buildç±»å‹çš„é•œåƒ --no-trunc ï¼šæ˜¾ç¤ºå®Œæ•´çš„é•œåƒæè¿° -s ï¼šåˆ—å‡º star æ•°ä¸å°äºæŒ‡å®šå€¼çš„é•œåƒ","link":"/2020/02/21/docker-introduce/"},{"title":"Nginx çš„ Docker é•œåƒä½¿ç”¨æ•™ç¨‹","text":"å®˜æ–¹é•œåƒè¯´æ˜ç”¨æˆ·å¯ä»¥å°†å®¿ä¸»ä¸»æœºä¸Šçš„ç½‘é¡µæ–‡ä»¶ã€config æ–‡ä»¶æŒ‚è½½åˆ°å®˜æ–¹é•œåƒä¸­ å®˜æ–¹é•œåƒä¸­ nginx çš„å®‰è£…ç›®å½•ä¸ºï¼š/etc/nginxï¼Œé…ç½®æ–‡ä»¶ç›®å½•ä¸ºï¼š/etc/nginx/config.d/default.confï¼Œç½‘é¡µæ–‡ä»¶ç›®å½•ä¸ºï¼š/usr/share/nginx/html å¯ä»¥é€šè¿‡ä¸‹é¢å‘½ä»¤è¿›å…¥å®¹å™¨æŸ¥çœ‹ 1docker exec -it CONTAINER /bin/bash å®˜æ–¹é•œåƒåœ°å€ï¼šhttps://hub.docker.com/_/nginx ä½¿ç”¨æ•™ç¨‹ æ‹‰å–é•œåƒ 1docker pull nginx è¿è¡Œå®¹å™¨ï¼Œè¿™é‡Œå°† /data/web æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„ /usr/share/nginx/html 1docker run -d --name nginx -p 80:80 -p 443:443 -v /data/web:/usr/share/nginx/html nginx å…¶ä¸­ï¼Œå„å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š -d: è¡¨ç¤ºä½¿å®¹å™¨åœ¨åå°è¿è¡Œ--name: æŒ‡å®šå®¹å™¨åç§°-p: æŒ‡å®šå®¹å™¨ä¸å®¿ä¸»ä¸»æœºçš„ç«¯å£æ˜ å°„ï¼Œæ ¼å¼ä¸ºï¼šå®¿ä¸»ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£-v: æŒ‡å®šå®¹å™¨ä¸å®¿ä¸»ä¸»æœºçš„æ–‡ä»¶æŒ‚è½½ï¼Œæ ¼å¼ä¸ºï¼šå®¿ä¸»ä¸»æœºç›®å½•:å®¹å™¨ç›®å½• å°†å®¹å™¨ä¸­çš„ nginx ç›®å½•æ‹·è´åˆ° /usr/local/ ç›®å½•ä¸‹ 1docker cp nginx:/etc/nginx /usr/local/ åœæ­¢å¹¶åˆ é™¤å®¹å™¨ 123docker stop nginxdocker rm nginx æ³¨æ„ï¼šä»¥ä¸Šæ­¥éª¤å¿…é¡»æ‰§è¡Œï¼Œå› ä¸ºå®¹å™¨çš„è¿è¡Œä¾èµ– /etc/nginxï¼Œå¦‚æœå°†ä¸€ä¸ªç©ºæ–‡ä»¶ç›®å½•æŒ‚è½½åˆ°è¯¥ç›®å½•ï¼Œå®¹å™¨å°†æ— æ³•å¯åŠ¨ï¼Œæ‰€ä»¥éœ€è¦å…ˆå°†è¯¥æ–‡ä»¶ç›®å½•æ‹·è´åˆ°ä¸»æœºä¸­ï¼Œå†æŒ‚è½½ä¸Šå» é‡æ–°è¿è¡Œä¸€ä¸ªæ–°å®¹å™¨ï¼Œè¿™é‡Œå°† /usr/local/nginx æŒ‚è½½åˆ°å®¹å™¨ä¸­çš„ /etc/nginx 1docker run -d --name nginx -p 80:80 -p 443:443 -v /usr/local/nginx:/etc/nginx -v /data/web:/usr/share/nginx/html nginx ç¼–è¾‘é…ç½®æ–‡ä»¶ åœ¨å®¿ä¸»ä¸»æœºä¸­ï¼Œç¼–è¾‘ /usr/local/nginx/config.d/default.confï¼Œä¿®æ”¹ç½‘é¡µæ–‡ä»¶è·¯å¾„ï¼Œä¾‹å¦‚ç½‘é¡µæ–‡ä»¶å­˜æ”¾åœ¨å®¿ä¸»ä¸»æœºä¸­çš„ /data/web/homepageï¼Œä¸»é¡µä¸º /data/web/homepage/index.htmlï¼Œç”±äºå°† /data/web æŒ‚è½½åˆ°äº† /usr/share/nginx/htmlï¼Œæ•…é…ç½®æ–‡ä»¶ä¸­åº”è¯¥å†™ä¸º 1234location / { root /usr/share/nginx/html/homepage; index index.html index.htm;} HTTPS é…ç½® åœ¨ /usr/local/nginx/config.d/default.conf ä¸­è¿½åŠ ä»¥ä¸‹å†…å®¹ï¼š 12345678910111213141516171819server { listen 443 ssl http2; server_name tsund.me; ssl on; ssl_certificate /usr/share/nginx/html/ssl/tsund_me/tsund.pem; ssl_certificate_key /usr/share/nginx/html/ssl/tsund_me/tsund.key; ssl_session_timeout 5m; ssl_ciphers HIGH:!aNULL:!MD5; ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; location / { root /usr/share/nginx/html/homepage; index index.html index.htm; }} å…¶ä¸­ï¼Œserver_name ä¸ºåŸŸåï¼Œssl_certificate ä¸º ssl è¯ä¹¦çš„è·¯å¾„ï¼Œssl_certificate_key ä¸º ssl è¯ä¹¦ç§é’¥çš„è·¯å¾„ é‡å¯å®¹å™¨ é…ç½®å®Œåï¼Œéœ€è¦é‡å¯å®¹å™¨ 1docker restart nginx è‡³æ­¤ï¼Œæ‰“å¼€ https://your-domain.com å°±å¯ä»¥çœ‹åˆ°ç½‘é¡µå†…å®¹äº†","link":"/2020/07/21/docker-nginx/"},{"title":"é€šè¿‡ Docker æ­å»º Typecho è¯¦ç»†æ•™ç¨‹","text":"ä¸‹é¢ä»¥ Centos 7 ä¸ºä¾‹ 1. å®‰è£… Docker å’Œ Docker Compose1.1 å®‰è£… Dockerå®‰è£…ä¾èµ– 1yum install -y yum-utils device-mapper-persistent-data lvm2 è®¾ç½®yumæº 1yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo æŸ¥çœ‹æ‰€æœ‰ä»“åº“ä¸­æ‰€æœ‰dockerç‰ˆæœ¬ 1yum list docker-ce --showduplicates | sort -r å®‰è£…docker 1yum install -y docker-ce è®¾ç½®å¼€æœºå¯åŠ¨ 1systemctl enable docker å¯åŠ¨ Docker 1systemctl start docker æŸ¥çœ‹ç‰ˆæœ¬ 1docker version æµ‹è¯• 1docker pull ubuntu 1.2 å®‰è£… Docker Composeä¸‹è½½ 1curl -L https://github.com/docker/compose/releases/download/1.26.2/docker-compose-$(uname -s)-$(uname -m) &gt; /usr/bin/docker-compose èµ‹äºˆæ‰§è¡Œæƒé™ 1chmod +x /usr/bin/docker-compose æŸ¥çœ‹ç‰ˆæœ¬ 1docker-compose --version 2. æ„å»ºé•œåƒè¿™é‡Œä½¿ç”¨å¦‚ä¸‹ä¸‰ä¸ªé•œåƒ nginx tsund/php:7.2.3-fpm mysql:5.7 å…¶ä¸­ nginx ä¸ºå®˜æ–¹æœ€æ–°é•œåƒï¼Œmysql:5.7 ä¸ºå®˜æ–¹ 5.7 é•œåƒï¼Œtsund/php:7.2.3-fpm çš„ Dockerfile å¦‚ä¸‹ï¼š 12345678FROM php:7.2.3-fpmLABEL maintainer=&quot;tsund&quot; \\ email=&quot;tsund@qq.com&quot; \\ version=&quot;7.2.3&quot;RUN apt-get update \\ &amp;&amp; docker-php-ext-install pdo_mysql \\ &amp;&amp; echo &quot;output_buffering = 4096&quot; &gt; /usr/local/etc/php/conf.d/php.ini åœ¨å®˜æ–¹é•œåƒçš„åŸºç¡€ä¸Šï¼Œæ·»åŠ äº† PDO_MYSQLï¼ˆå¦‚æœä½¿ç”¨ MySQL ä½œä¸º Typecho çš„æ•°æ®åº“ï¼Œåˆ™éœ€å®‰è£…æ­¤æ‰©å±•ï¼‰ï¼Œå¹¶è®¾ç½® buffer ä¸º 4kbï¼Œå³ä¸€ä¸ªå†…å­˜é¡µ 3. é…ç½®æ–°å»º blog æ–‡ä»¶å¤¹ï¼Œå…¶ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š 1234567.â”œâ”€â”€ docker-compose.yml Docker Compose é…ç½®æ–‡ä»¶â”œâ”€â”€ mysql mysql æŒä¹…åŒ–ç›®å½•â”œâ”€â”€ mysql.env mysql é…ç½®ä¿¡æ¯â”œâ”€â”€ nginx nginx é…ç½®æ–‡ä»¶çš„æŒä¹…åŒ–ç›®å½•â”œâ”€â”€ ssl ssl è¯ä¹¦ç›®å½•â””â”€â”€ typecho ç«™ç‚¹æ ¹ç›®å½• 3.1 é…ç½® docker-compose.yml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748version: &quot;3&quot;services: nginx: image: nginx ports: - &quot;80:80&quot; - &quot;443:443&quot; restart: always volumes: - ./typecho:/var/www/html - ./ssl:/var/www/ssl - ./nginx:/etc/nginx/conf.d depends_on: - php networks: - web php: image: tsund/php:7.2.3-fpm restart: always ports: - &quot;9000:9000&quot; volumes: - ./typecho:/var/www/html environment: - TZ=Asia/Shanghai depends_on: - mysql networks: - web mysql: image: mysql:5.7 restart: always ports: - &quot;3306:3306&quot; volumes: - ./mysql/data:/var/lib/mysql - ./mysql/logs:/var/log/mysql - ./mysql/conf:/etc/mysql/conf.d env_file: - mysql.env networks: - webnetworks: web: å…¶ä¸­ version æŒ‡å®š docker-compose ç‰ˆæœ¬ image æŒ‡å®šé•œåƒåç§° volumes æŒ‡å®šæ–‡ä»¶æŒ‚è½½æ˜ å°„ ports æŒ‡å®šç«¯å£æ˜ å°„ depends_on æŒ‡å®šæœåŠ¡å¯åŠ¨æ—¶çš„å…ˆåé¡ºåºï¼ŒæŒ‡å®šçš„æœåŠ¡ä¼šå…ˆäºå½“å‰æœåŠ¡å¯åŠ¨ networks æŒ‡å®šå®¹å™¨è¿æ¥çš„è™šæ‹Ÿç½‘ç»œï¼Œè¿æ¥åœ¨åŒä¸€ç½‘ç»œçš„æœåŠ¡å¯ä»¥ä½¿ç”¨æœåŠ¡åè¿›è¡Œé€šä¿¡ã€‚version 3 ä¸æ¨èä½¿ç”¨ --linkï¼Œä½¿ç”¨ network æ›¿ä»£å…¶åŠŸèƒ½ï¼Œä¹Ÿæ›´æ–¹ä¾¿ç®¡ç† ä¸€çº§æ ‡ç­¾çš„ networks æ˜¯è™šæ‹Ÿç½‘ç»œçš„å®šä¹‰ï¼Œå¯ä»¥æŒ‡å®šç½‘ç»œç±»å‹å’Œå‚æ•°ç­‰ï¼Œè¿™é‡Œä½¿ç”¨äº†é»˜è®¤çš„ç½‘ç»œç±»å‹ï¼Œå‚æ•°éƒ¨åˆ†ç•™ç©ºå³å¯ 3.2 é…ç½® nginxåœ¨ ./nginx ç›®å½•ä¸‹æ–°å»º default.conf æ–‡ä»¶ï¼Œå‚è€ƒå†…å®¹å¦‚ä¸‹ï¼š 1234567891011121314151617181920212223242526272829303132333435363738server { listen 80; server_name tsund.cn; rewrite ^(.*) https://tsund.cn$1 permanent;}server { listen 443 ssl http2 reuseport; server_name tsund.cn; root /var/www/html; index index.php; access_log /var/log/nginx/typecho_access.log main; ssl_certificate /var/www/ssl/tsund_cn.crt; ssl_certificate_key /var/www/ssl/tsund_cn.key; ssl_session_cache shared:SSL:1m; ssl_session_timeout 5m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; if (!-e $request_filename) { rewrite ^(.*)$ /index.php$1 last; } location ~ .*\\.php(\\/.*)*$ { fastcgi_pass php:9000; fastcgi_index index.php; fastcgi_param PATH_INFO $fastcgi_path_info; fastcgi_param PATH_TRANSLATED $document_root$fastcgi_path_info; fastcgi_param SCRIPT_NAME $fastcgi_script_name; fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name; include fastcgi_params; } } 3.3 é…ç½® mysqlmysql.env å‚è€ƒå†…å®¹å¦‚ä¸‹ï¼š 12345678910# MySQLçš„rootç”¨æˆ·é»˜è®¤å¯†ç ï¼Œè¿™é‡Œè‡ªè¡Œæ›´æ”¹MYSQL_ROOT_PASSWORD=password# MySQLé•œåƒåˆ›å»ºæ—¶è‡ªåŠ¨åˆ›å»ºçš„æ•°æ®åº“åç§°MYSQL_DATABASE=blog# MySQLé•œåƒåˆ›å»ºæ—¶è‡ªåŠ¨åˆ›å»ºçš„ç”¨æˆ·åMYSQL_USER=shenke# MySQLé•œåƒåˆ›å»ºæ—¶è‡ªåŠ¨åˆ›å»ºçš„ç”¨æˆ·å¯†ç MYSQL_PASSWORD=password# æ—¶åŒºTZ=Asia/Shanghai 4. å®‰è£…4.1 ç¼–æ’å®¹å™¨åœ¨ blog ç›®å½•ä¸‹ 1docker-compose up -d æŸ¥çœ‹è¿›ç¨‹ 1docker-compose ps 4.2 å®‰è£… Typechoç¼–æ’æˆåŠŸåï¼Œæµè§ˆå™¨è¾“å…¥ URLï¼Œè¿›å…¥ typecho å®‰è£…é¡µé¢ éœ€æ³¨æ„çš„æ˜¯ï¼Œæ•°æ®åº“åœ°å€éœ€å¡«å…¥ mysql é•œåƒçš„åç§°ï¼ˆä¸ docker-compose.yml ä¸­çš„é…ç½®ç›¸å¯¹åº”ï¼‰ï¼Œæ•°æ®åº“åä¸ mysql.env ä¸­åˆ›å»ºçš„æ•°æ®åº“åä¸€è‡´ è‹¥å‡ºç°ä»¥ä¸Šé¡µé¢ï¼Œåªéœ€æŒ‰ç…§æç¤ºåœ¨ ./typecho ç›®å½•ä¸‹æ–°å»º config.inc.php æ–‡ä»¶ï¼Œå¹¶å†™å…¥å†…å®¹å³å¯ 5. åšå®¢è¿ç§»è¿ç§»æ—¶åªéœ€å°†æ•´ä¸ª blog ç›®å½•æ‰“åŒ…ä¼ è¾“è‡³å®‰è£…æœ‰ Docker å’Œ Docker Compose çš„æ–°æœåŠ¡å™¨ï¼Œç„¶åé‡æ–°ç¼–æ’å®¹å™¨å³å¯ 1docker-compose up -d 6. å‚è€ƒèµ„æ–™ ä½¿ç”¨ Docker æ­å»º Typecho ä¸ªäººåšå®¢ Dockerå®‰è£…typecho ä½¿ç”¨Dockeræ­å»ºCaddy+Typechoä¸ªäººåšå®¢ç½‘ç«™","link":"/2020/08/29/docker-typecho/"},{"title":"frp è¿œç¨‹è¿æ¥å†…ç½‘ä¸»æœºè¯¦ç»†æ•™ç¨‹","text":"1. å‡†å¤‡å·¥ä½œ ä¸€å°æœ‰å…¬ç½‘ ip çš„ server ä¸€å°å†…ç½‘ä¸»æœºæˆ–è·¯ç”±å™¨ 2. æœåŠ¡ç«¯é…ç½®ï¼ˆè¿œç¨‹ serverï¼‰è¿™é‡Œä»¥é˜¿é‡Œäº‘ Centos 7 ä¸ºä¾‹ 2.1 ä¸‹è½½ä¸å®‰è£…è¿›å…¥ /tmp ç›®å½• 1cd /tmp åœ¨ Releases é¡µé¢ä¸‹è½½ä¸ server ç³»ç»Ÿã€æ¶æ„ç›¸ç¬¦çš„ frp ç‰ˆæœ¬ 1wget https://github.com/fatedier/frp/releases/download/v0.33.0/frp_0.33.0_linux_amd64.tar.gz è§£å‹ 1tar -zxvf frp_0.33.0_linux_amd64.tar.gz ç§»åŠ¨åˆ° /usr/local ç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åä¸º frp 1mv frp_0.33.0_linux_amd64 /usr/local/frp 2.2 é…ç½®è¿›å…¥å®‰è£…ç›®å½• /usr/local/frpï¼Œå¹¶åˆ é™¤å®¢æˆ·ç«¯ç›¸å…³æ–‡ä»¶ 1cd /usr/local/frp &amp;&amp; rm -rf frpc* ç¼–è¾‘é…ç½®æ–‡ä»¶ 1vi frps.ini å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š 123456[common]bind_port = 7000privilege_token = 123456dashboard_port = 7500dashboard_user = admindashboard_pwd = admin å…¶ä¸­ï¼Œbind_port ä¸ºå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯è¿›è¡Œé€šä¿¡çš„ç«¯å£ï¼›privilege_token ä¸ºç‰¹æƒæ¨¡å¼å¯†é’¥ï¼Œéœ€ä¸å®¢æˆ·ç«¯é…ç½®ä¸€è‡´ï¼›dashboard_port ä¸ºå¯è§†åŒ–é¢æ¿çš„ç«¯å£å·ï¼›dashboard_user ä¸ºç™»å½•é¢æ¿çš„ç”¨æˆ·åï¼›dashboard_pwd ä¸ºç™»å½•å¯†ç  privilege_token å‚æ•°çš„ä½œç”¨æ˜¯æä¾›èº«ä»½éªŒè¯æœºåˆ¶ï¼Œé¿å…å…¶ä»–å®¢æˆ·ç«¯éšæ„è¿æ¥æœåŠ¡ç«¯ 2.3 è®¾ç½®å¼€æœºå¯åŠ¨å’Œåå°è¿è¡Œæ–°å»ºæ–‡ä»¶ 1vi /etc/systemd/system/frps.service å†™å…¥ä»¥ä¸‹å†…å®¹ 12345678910111213[Unit]Description=frps daemonAfter=syslog.target network.targetWants=network.target[Service]Type=simpleExecStart=/usr/local/frp/frps -c /usr/local/frp/frps.iniRestart=alwaysRestartSec=1min[Install]WantedBy=multi-user.target æ³¨æ„ä¿®æ”¹ç¬¬ 8 è¡Œçš„è·¯å¾„ è®¾ç½®å¼€æœºå¯åŠ¨ 1systemctl enable frps å¯åŠ¨ frps 1systemctl start frps 3. å®¢æˆ·ç«¯é…ç½®ï¼ˆæœ¬åœ°ä¸»æœºï¼‰è¿™é‡Œä»¥ win10 ä¸ºä¾‹ 3.1 ä¸‹è½½ä¸å®‰è£…åœ¨ Releases é¡µé¢ä¸‹è½½ windows_amd64 ç‰ˆæœ¬ï¼Œå¹¶è§£å‹ åˆ é™¤ frpsã€frps.iniã€frps_full.ini 3.2 é…ç½®ç¼–è¾‘ frpc.ini æ–‡ä»¶ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š 12345678910[common]server_addr = tsund.meserver_port = 7000privilege_token = 123456[rdp]type = tcplocal_ip = 0.0.0.0local_port = 3389remote_port = 3389 å…¶ä¸­ï¼Œserver_addr ä¸º server ip åœ°å€æˆ–è§£æåˆ°è¯¥ ip çš„åŸŸåï¼Œserver_port éœ€ä¸æœåŠ¡ç«¯ bind_port ä¿æŒä¸€è‡´ï¼Œprivilege_token éœ€ä¸æœåŠ¡ç«¯ privilege_token ä¿æŒä¸€è‡´ï¼Œä¸‹é¢çš„ rdp æ ‡ç­¾è®¾å®šäº†è¿œç¨‹æ¡Œé¢è¿æ¥çš„ç«¯å£æ˜ å°„ 3.3 è®¾ç½®å¼€æœºå¯åŠ¨åœ¨ frp ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ frp.vbsï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š 123dim objShell set objShell=wscript.createObject(&quot;WScript.Shell&quot;) iReturnCode=objShell.Run(&quot;D:\\frp\\frpc.exe -c D:\\frp\\frpc.ini&quot;, 0, TRUE) æ³¨æ„ä¿®æ”¹ç¬¬ 3 è¡Œçš„è·¯å¾„ å°† frp.vbs æ”¾å…¥ C:\\Users\\shenke\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup ç›®å½•ä¸‹ï¼Œå³å¯å®ç°å¼€æœºå¯åŠ¨ åŒå‡»è¿è¡Œ frp.vbs ï¼Œå³å¯å¯åŠ¨ frpc æœåŠ¡ 3.4 å…è®¸è¿œç¨‹æ¡Œé¢è¿æ¥ã€Œå³é”®æ­¤ç”µè„‘ã€-&gt;ã€Œå±æ€§ã€-&gt;ã€Œé«˜çº§ç³»ç»Ÿè®¾ç½®ã€-&gt;ã€Œè¿œç¨‹ã€-&gt;ã€Œå…è®¸è¿œç¨‹è¿æ¥åˆ°æ­¤è®¡ç®—æœºã€ 4. å®¢æˆ·ç«¯é…ç½®ï¼ˆè·¯ç”±å™¨ï¼‰è¿™é‡Œä»¥ Padavan å›ºä»¶çš„ PHICOMM K2 è·¯ç”±å™¨ä¸ºä¾‹ã€‚Padavan å›ºä»¶å†…ç½®äº† frps å’Œ frpcï¼Œè¿™é‡Œä»¥ frpc ä¸ºä¾‹ ç»‘å®šæœ¬åœ°ä¸»æœºçš„ ip åœ°å€å’Œ mac åœ°å€ ã€Œé«˜çº§è®¾ç½®ã€-&gt;ã€Œå†…éƒ¨ç½‘ç»œï¼ˆLANï¼‰ã€-&gt;ã€ŒDHCP æœåŠ¡å™¨ã€-&gt;ã€Œæ‰‹åŠ¨æŒ‡å®š IP çš„ DHCP åˆ—è¡¨ã€ é…ç½® frpc ã€Œæ‰©å±•åŠŸèƒ½ã€-&gt;ã€ŒèŠ±ç”Ÿå£³å†…ç½‘ç‰ˆã€-&gt;ã€Œfrpã€ é…ç½®æ–¹æ³•åŒ 3.2ï¼Œåªéœ€ä¿®æ”¹ local_ip ä¸º DHCP æœåŠ¡å™¨åˆ†é…ç»™æœ¬åœ°ä¸»æœºçš„ ip 5. æµ‹è¯•è®¿é—® http://your-ip:7500ï¼Œè¿›å…¥ frp çš„ dashboard é¡µé¢ï¼Œå¦‚æœæ— æ³•è®¿é—®ï¼Œè¯´æ˜ frp å°šæœªå¯åŠ¨æˆåŠŸæˆ–è€… server çš„ç«¯å£æœªæˆåŠŸå¼€æ”¾ æŸ¥çœ‹ frp è¿›ç¨‹æ˜¯å¦è¿è¡Œ 1top å¦‚æœ frp è¿›ç¨‹æ²¡æœ‰è¿è¡Œï¼Œå¯èƒ½æ˜¯å› ä¸º frp ç‰ˆæœ¬ä¸ server çš„æ“ä½œç³»ç»Ÿæˆ–æ¶æ„ä¸ç¬¦ï¼Œå†æ¬¡ä¸‹è½½ç›¸ç¬¦çš„ç‰ˆæœ¬é‡æ–°é…ç½®å³å¯ æŸ¥çœ‹ server ç«¯å£å ç”¨æƒ…å†µ 12345# linuxnetstat -nltp# windowsnetstat -an é€šè¿‡ç«™é•¿å·¥å…·çš„ ç«¯å£æ‰«æ æŸ¥çœ‹ server ç«¯å£æ˜¯å¦å¯¹å¤–å¼€æ”¾ å¦‚æœ server ä¸­ç«¯å£å¼€æ”¾ï¼Œä½†æ˜¯ç«¯å£æ‰«ææ˜¾ç¤ºå…³é—­ï¼Œåªéœ€å»æ§åˆ¶å°é…ç½®å®‰å…¨ç»„å³å¯ 6. è¿æ¥è¿™é‡Œä»¥ win10 ç”µè„‘ä¸ºä¾‹ï¼Œè¿œç¨‹è¿æ¥å†…ç½‘ä¸­çš„ win10 ä¸»æœº win + rï¼Œè¾“å…¥ mstscï¼Œè¿›å…¥è¿œç¨‹æ¡Œé¢è¿æ¥ è¾“å…¥è®¡ç®—æœºï¼šip:port æˆ– domain:portï¼Œæ ¹æ®å‰é¢çš„é…ç½®ï¼Œæˆ‘è¿™é‡Œè¾“å…¥çš„æ˜¯ tsund.me:3389 ç”¨æˆ·åå’Œå¯†ç å¡«å†™çš„æ˜¯å†…ç½‘ä¸»æœºçš„ç”¨æˆ·åå’Œå¯†ç ï¼ˆå†…ç½‘ä¸»æœºä¸­æˆ‘ç™»å½•çš„æ˜¯ MicroSoft è´¦æˆ·ï¼Œå¼€æœºå¯†ç æ˜¯å…­ä½ PIN ç ï¼Œä½†æ˜¯è¾“å…¥äº†ç”µè„‘ç”¨æˆ·åå’Œ MicroSoft è´¦æˆ·å¯†ç æ‰è¿›å»çš„ï¼‰","link":"/2020/07/24/frp-remote-desktop/"},{"title":"Docker å…¥é—¨ä¹‹ Dockerfile","text":"1. Dockerfileé€šå¸¸ä½¿ç”¨ Dockerfile åˆ›å»ºé•œåƒï¼ŒDockerfileæ˜¯ä¸€ä¸ª Docker é•œåƒçš„æè¿°æ–‡ä»¶ï¼Œå…¶å†…éƒ¨åŒ…å«äº†ä¸€æ¡æ¡çš„æŒ‡ä»¤ï¼Œæ¯ä¸€æ¡æŒ‡ä»¤æ„å»ºä¸€å±‚ï¼Œæ¯ä¸€æ¡æŒ‡ä»¤çš„å†…å®¹ï¼Œå°±æ˜¯æè¿°è¯¥å±‚åº”å½“å¦‚ä½•æ„å»ºã€‚æ¯æ¡æŒ‡ä»¤æŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œ 2. æŒ‡ä»¤è¯¦è§£2.1 FROMæŒ‡å®šåŸºç¡€é•œåƒï¼Œå¹¶ä¸”å¿…é¡»æ˜¯ Dockerfile çš„ç¬¬ä¸€æ¡æŒ‡ä»¤ï¼Œå¦‚æœä¸ä»¥ä»»ä½•é•œåƒä¸ºåŸºç¡€ï¼Œé‚£ä¹ˆå†™æ³•ä¸ºï¼šFROM scratch 12345678FROM &lt;image&gt;FROM &lt;image&gt;:&lt;tag&gt;FROM &lt;image&gt;:&lt;digest&gt;# ä¾‹å¦‚FROM scratchFROM centos:6FROM ubuntu 2.2 MAINTAINERæŒ‡å®šä½œè€…ä¿¡æ¯ 1234MAINTAINER &lt;name&gt;# ä¾‹å¦‚MAINTAINER shenke &lt;shenkebug@gmail.com&gt; æ³¨ï¼šæ–°ç‰ˆ docker å»ºè®®ä½¿ç”¨ LABEL å£°æ˜ 2.3 LABELä¸ºé•œåƒæŒ‡å®šæ ‡ç­¾ 12345678LABEL &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; Â·Â·Â·# ä¾‹å¦‚# å†…å®¹è¿‡é•¿å¯ç”¨ \\ æ¢è¡ŒLABEL maintainer=&quot;shenke&quot; \\version=&quot;1.0&quot; \\desc=&quot;This is \\a short description.&quot; 2.4 RUNæ„å»ºé•œåƒæ—¶æ‰§è¡Œçš„ Shell å‘½ä»¤ 1234567RUN &lt;command&gt;RUN [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;]# ä¾‹å¦‚RUN sh run.shRUN [&quot;sh&quot;, &quot;run.sh&quot;]RUN [&quot;yum&quot;, &quot;install&quot;, &quot;nginx&quot;] 2.5 CMDå¯åŠ¨å®¹å™¨æ—¶æ‰§è¡Œçš„ Shell å‘½ä»¤ 12345678CMD command param1 param2CMD [&quot;param1&quot;,&quot;param2&quot;]CMD [&quot;executable&quot;,&quot;param1&quot;,&quot;param2&quot;]# ä¾‹å¦‚CMD echo $HOMECMD [&quot;sh&quot;, &quot;run.sh&quot;]CMD [ &quot;sh&quot;, &quot;-c&quot;, &quot;echo $HOME&quot;] RUN ä¸ CMD çš„åŒºåˆ«ï¼š RUN æŒ‡å®šçš„æ˜¯æ„å»ºé•œåƒæ—¶è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå³ docker build è¿‡ç¨‹ä¸­è¦æ‰§è¡Œçš„å‘½ä»¤ CMD æŒ‡å®šçš„æ˜¯å¯åŠ¨å®¹å™¨æ—¶è¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œå³ docker run æ—¶è¦æ‰§è¡Œçš„å‘½ä»¤ã€‚CMD æŒ‡ä»¤çš„é¦–è¦ç›®çš„åœ¨äºä¸ºå¯åŠ¨çš„å®¹å™¨æŒ‡å®šé»˜è®¤è¦è¿è¡Œçš„ç¨‹åºï¼Œç¨‹åºè¿è¡Œç»“æŸï¼Œå®¹å™¨ä¹Ÿå°±ç»“æŸã€‚æ³¨æ„ï¼šCMD æŒ‡ä»¤æŒ‡å®šçš„ç¨‹åºå¯è¢« docker run å‘½ä»¤è¡Œå‚æ•°ä¸­æŒ‡å®šè¦è¿è¡Œçš„ç¨‹åºæ‰€è¦†ç›– 2.6 ENTRYPOINTå¯åŠ¨å®¹å™¨æ—¶æ‰§è¡Œçš„ Shell å‘½ä»¤ 12ENTRYPOINT command param1 param2ENTRYPOINT [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;] ENTRYPOINT ä¸ CMD çš„å¼‚åŒï¼š éƒ½æ˜¯åœ¨å¯åŠ¨å®¹å™¨æ—¶æ‰§è¡Œ ENTRYPOINT å¯åŠ¨çš„ç¨‹åºä¸ä¼šè¢« docker run å‘½ä»¤è¡ŒæŒ‡å®šçš„å‚æ•°æ‰€è¦†ç›–ï¼Œè€Œä¸”ï¼Œè¿™äº›å‘½ä»¤è¡Œå‚æ•°ä¼šè¢«å½“ä½œå‚æ•°ä¼ é€’ç»™ ENTRYPOINT æŒ‡ä»¤æŒ‡å®šçš„ç¨‹åº 2.7 EXPOSEæš´éœ²å®¹å™¨ç«¯å£ç»™å¤–éƒ¨ 1234EXPOSE &lt;port&gt;/&lt;tcp/udp&gt;# ä¾‹å¦‚EXPOSE 80/tcp 443/tcp 2.8 ADDå°†ä¸»æœºæ–‡ä»¶æˆ–ç›®å½•æ‹·è´åˆ°é•œåƒä¸­ï¼ŒURL ä¼šè‡ªåŠ¨ä¸‹è½½ï¼Œå‹ç¼©åŒ…ä¼šè‡ªåŠ¨è§£å‹ 123456ADD &lt;src&gt; Â·Â·Â· &lt;dest&gt;ADD [&quot;&lt;src&gt;&quot;, Â·Â·Â· &quot;&lt;dest&gt;&quot;]# ä¾‹å¦‚ADD nginx-1.16.1.tar.gz /usr/local # å°† nginx å‹ç¼©åŒ…è§£å‹åˆ° /usr/local ç›®å½•ä¸‹ï¼Œå³ /usr/local/nginx-1.16.1ADD https://xxx.com/html.tar.gz /var/www/html # ä¸‹è½½å‹ç¼©åŒ…å¹¶è§£å‹åˆ° /var/www/html ç›®å½•ä¸‹ æ³¨æ„ï¼š src ä¸ºä¸€ä¸ªç›®å½•çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨æŠŠç›®å½•ä¸‹çš„æ–‡ä»¶å¤åˆ¶è¿‡å»ï¼Œç›®å½•æœ¬èº«ä¸ä¼šå¤åˆ¶ å¦‚æœ src ä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œdest å¿…é¡»æ˜¯ä¸€ä¸ªç›®å½• 2.9 COPYå°†ä¸»æœºæ–‡ä»¶æˆ–ç›®å½•æ‹·è´åˆ°é•œåƒä¸­ï¼ŒåŒ ADD ç±»ä¼¼ï¼Œåªæ˜¯ä¸æ”¯æŒè‡ªåŠ¨ä¸‹è½½å’Œè§£å‹ 12ADD &lt;src&gt; Â·Â·Â· &lt;dest&gt;ADD [&quot;&lt;src&gt;&quot;, Â·Â·Â· &quot;&lt;dest&gt;&quot;] 2.10 ENVè®¾ç½®ç¯å¢ƒå˜é‡ 123456ENV &lt;key&gt; &lt;value&gt;ENV &lt;key&gt;=&lt;value&gt; Â·Â·Â·# ä¾‹å¦‚ENV JAVA_HOME /usr/local/jdkENV MYSQL_ROOT_PASSWORD=123456 VERSION=1.0 NAME=&quot;Hello docker&quot; 2.11 WORKDIRä¸º RUNã€CMDã€ENTRYPOINT ä»¥åŠ COPY å’Œ ADD è®¾ç½®å·¥ä½œç›®å½• 1234WORKDIR /path/workdir# ä¾‹å¦‚WORKDIR /root 2.12 USERè®¾ç½®å¯åŠ¨å®¹å™¨çš„ç”¨æˆ· 12345USER &lt;user&gt;[:&lt;usergroup&gt;]USER &lt;UID&gt;[:&lt;UID&gt;]# ä¾‹å¦‚USER root 2.13 VOLUMEå®ç°æ–‡ä»¶æŒ‚è½½åŠŸèƒ½ï¼Œå¯ä»¥å°†ä¸»æœºç›®å½•æŒ‚è½½åˆ°å®¹å™¨ä¸­ï¼Œä¸€èˆ¬çš„ä½¿ç”¨åœºæ™¯ä¸ºéœ€è¦æŒä¹…åŒ–å­˜å‚¨æ•°æ®æ—¶ 1VOLUME [&quot;/data&quot;] 2.14 ARGåœ¨æ„å»ºé•œåƒæ—¶ï¼Œä¼ å…¥ä¸€äº›å‚æ•° 123456ARG &lt;name&gt;[=&lt;default value&gt;]# ä¾‹å¦‚ARG version=1.0ARG userUSER $user åœ¨ docker build æ„å»ºé•œåƒçš„æ—¶å€™ï¼Œä½¿ç”¨ --build-arg æ¥æŒ‡å®šå‚æ•°ï¼Œè‹¥æœªæŒ‡å®šå‚æ•°åˆ™ä¼šä½¿ç”¨é»˜è®¤å€¼ï¼Œè‹¥æœªæŒ‡å®šé»˜è®¤å€¼å°±ä¼šæŠ¥é”™ 1docker build --build-arg user=root -t myimage:1.0 . 2.15 HEALTHCHECKå¥åº·æ£€æŸ¥ï¼Œå³æŒ‡å®šå¦‚ä½•æµ‹è¯•å®¹å™¨ä»¥æ£€æŸ¥å®ƒæ˜¯å¦ä»åœ¨å·¥ä½œ 123456HEALTHCHECK [OPTIONS] CMD commandHEALTHCHECK NONE # åœ¨åŸºç¡€é•œåƒä¸­å–æ¶ˆå¥åº·æ£€æŸ¥å‘½ä»¤# ä¾‹å¦‚HEALTHCHECK --interval=5m --timeout=3s --start-period=0s --retries=3 \\ CMD curl -f http:/localhost/ || exit 1 OPTIONSï¼š --interval=DURATION ï¼šæ¯éš”å¤šé•¿æ—¶é—´æ¢æµ‹ä¸€æ¬¡ï¼Œé»˜è®¤30ç§’ --timeout=DURATION ï¼šæœåŠ¡å“åº”è¶…æ—¶æ—¶é•¿ï¼Œé»˜è®¤30ç§’ --start-period=DURATION ï¼šæœåŠ¡å¯åŠ¨å¤šä¹…åå¼€å§‹æ¢æµ‹ï¼Œé»˜è®¤0ç§’ --retries=N ï¼šè®¤ä¸ºæ£€æµ‹å¤±è´¥å‡ æ¬¡ä¸ºå®•æœºï¼Œé»˜è®¤3æ¬¡ è¿”å›å€¼ï¼š 0 ï¼šå®¹å™¨å¥åº·ï¼Œéšæ—¶å¯ä»¥ä½¿ç”¨ 1 ï¼šå®¹å™¨ä¸å¥åº·ï¼Œæ— æ³•ä½¿ç”¨ 2 ï¼šä¿ç•™å€¼","link":"/2020/02/21/dockerfile/"},{"title":"Git ä»“åº“ä¸­è„šæœ¬æ— æ‰§è¡Œæƒé™é—®é¢˜çš„è§£å†³æ–¹æ³•","text":"å‚è€ƒwhy-when-i-use-github-actions-ci-for-a-gradle-project-i-face-gradlew-permiss é—®é¢˜æè¿°ç”±äºåœ¨ Windows ç¯å¢ƒä¸‹å†™è„šæœ¬æ—¶å¯¹æƒé™é—®é¢˜ä¸å¤ªæ•æ„Ÿï¼Œå¹¶æ²¡æœ‰ä¸ºä»“åº“ä¸­çš„è„šæœ¬èµ‹äºˆæ‰§è¡Œæƒé™ï¼Œå› æ­¤åœ¨ actions æ‰§è¡Œè¿‡ç¨‹ä¸­æŠ¥äº†ä»¥ä¸‹é”™è¯¯ 12/home/runner/work/_temp/35b69792-52fd-48f2-9411-ec8be68d25ef.sh: line 1: /home/runner/work/bark-action/bark-action/.//script.sh: Permission deniedError: Process completed with exit code 126. åŸå› æ˜¯å› ä¸º script.sh æ²¡æœ‰æ‰§è¡Œæƒé™ è§£å†³æ–¹æ³•ä½¿ç”¨ --chmod=(+|-)x 12--chmod=(+|-)x Set the execute permissions on the updated files. ä¸ºä»“åº“ä¸­çš„è„šæœ¬èµ‹äºˆæ‰§è¡Œæƒé™ 1git update-index --chmod=+x script.sh commit å¹¶ push åï¼Œé—®é¢˜å°±è§£å†³äº†","link":"/2021/02/07/git-permission-denied/"},{"title":"GitHub Actions ä¸­ python è„šæœ¬è·å–ä»“åº“ secrets","text":"GitHub Actions æä¾›çš„ CI/CDï¼ˆæŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ï¼‰ æœåŠ¡éå¸¸æ–¹ä¾¿ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨å®Œæˆä¸€äº›åŠŸèƒ½ã€‚ä½†æ˜¯å½“æˆ‘ä»¬åœ¨è·‘ä¸€äº›è„šæœ¬çš„æ—¶å€™ï¼Œä¸å…ä¼šå­˜æ”¾ä¸€äº›å¯†ç ã€å¯†é’¥ä¹‹ç±»çš„å†…å®¹ã€‚æˆ‘ä»¬æœŸæœ›è·‘è„šæœ¬çš„åŒæ—¶ï¼Œä¸ä»¥æ˜æ–‡çš„æ–¹å¼å­˜å‚¨è¿™ç±»å¯†ç  å°† GitHub Actions ä¸ GitHub ä»“åº“çš„ Secrets ç»“åˆï¼Œå¯ä»¥è½»æ¾å¸®åŠ©æˆ‘ä»¬æ»¡è¶³è¿™é¡¹éœ€æ±‚ ä¸‹é¢ä»¥åŸºäº ServerChan çš„ LeetCode å‘¨èµ›æé†’åŠŸèƒ½ä¸ºä¾‹ 1. æ·»åŠ  SecretsServerChan çš„æ¨é€åŠŸèƒ½éœ€è¦è®¾ç½® SCKEY å­—æ®µï¼Œä½†æ˜¯è¯¥å­—æ®µä¸åº”ä»¥æ˜æ–‡æ–¹å¼å­˜å‚¨ æ‰“å¼€ä»“åº“ã€ŒSettingsã€ä¸­çš„ã€ŒSecretsã€ï¼Œç‚¹å‡»ã€ŒNew secretã€ 2. é…ç½® GitHub Actionsç”¨æ¥å‘ ServerChan æ¥å£å‘é€è¯·æ±‚çš„æ–‡ä»¶åä¸º main.py git bash ä¸­é”®å…¥å‘½ä»¤ï¼Œæ–°å»ºæ–‡ä»¶ 1mkdir -p .github/workflows &amp;&amp; touch .github/workflows/leetcode-weekly.yml ç¼–è¾‘ leetcode-weekly.ymlï¼Œé”®å…¥ä»¥ä¸‹å†…å®¹ 12345678910111213141516171819202122232425name: 'GitHub Actions LeetCode Weekly Bot'on: push: branches: - master schedule: - cron: '0 2 * * 0'jobs: leetcode-weekly: runs-on: ubuntu-latest steps: - name: 'Checkout' uses: actions/checkout@v2 - name: 'Set up Python' uses: actions/setup-python@v1 with: python-version: 3.7 - name: 'Install requirements' run: pip install -r leetcode-weekly/requirements.txt - name: 'Working' env: SCKEY: ${{ secrets.SCKEY }} run: python leetcode-weekly/main.py å…¶ä¸­ï¼Œåœ¨ Working æ­¥éª¤ä¸­ï¼ŒæŒ‡å®šäº†ç¯å¢ƒå˜é‡ SCKEYï¼Œå¹¶å°†å®ƒçš„ value è®¾ä¸º secrets.SCKEY 3. python è„šæœ¬ä¸­è·å–ç¯å¢ƒå˜é‡1234import osif __name__ == '__main__': SCKEY = os.environ[&quot;SCKEY&quot;] åŒç†ï¼Œå¯¹äºä¸€äº›éœ€è¦ç™»å½•çš„è„šæœ¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸Šæ–¹å¼å®ç°åŠ å¯†","link":"/2020/06/01/github-actions-secret/"},{"title":"GitHub Actions å‘å¸ƒè‡³ GitHub Marketplace","text":"GitHub Actions æ˜¯ GitHub æä¾›çš„ä¸€æ¬¾ CI/CDï¼ˆæŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ï¼‰å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨æ„å»ºã€æµ‹è¯•ã€ç¼–è¯‘ã€æ‰“åŒ…ã€éƒ¨ç½²é¡¹ç›®ï¼ŒåŠŸèƒ½ååˆ†å¼ºå¤§ GitHub Marketplace ä¸­æ”¶å½•äº†è®¸å¤šå®˜æ–¹å’Œç¬¬ä¸‰æ–¹å¼€å‘è€…æ‰€å‘å¸ƒçš„ä¸€ç³»åˆ— actions ä¸‹é¢ä»¥æœ¬äººæ‰€å‘å¸ƒçš„ Bark Notify ä¸ºä¾‹ï¼Œè®²è¿°å°†è‡ªå·±å¼€å‘çš„ action å‘å¸ƒåˆ° GitHub Marketplace çš„è¯¦ç»†è¿‡ç¨‹ä»¥åŠåœ¨å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„å‘ ç¼–å†™ metadata fileaction ç”±ä¸€ä¸ª YAML è¯­æ³•çš„å…ƒæ•°æ®æ–‡ä»¶æ‰€å®šä¹‰ï¼Œå› æ­¤é¡»åœ¨ä»“åº“ä¸­æ–°å»ºä¸€ä¸ª action.yml æˆ– action.yaml æ–‡ä»¶ä½œä¸º action çš„å…¥å£ You can create actions to perform tasks in your repository. Actions require a metadata file that uses YAML syntax. â€”â€”Metadata syntax for GitHub Actions ä»¥ä¸‹æ˜¯å…ƒæ•°æ®æ–‡ä»¶ä¸­çš„å‡ ä¸ªå…³é”®å­—æ®µ name: action çš„åç§°ï¼Œä¹Ÿæ˜¯åœ¨ GitHub Marketplace ä¸­æ‰€å±•ç¤ºçš„åç§° author: ä½œè€…ä¿¡æ¯ description: aciton çš„ç®€çŸ­æè¿° inputs: å®šä¹‰è¾“å…¥å‚æ•°é›†åˆï¼Œå¯ä»¥åŒ…å«å¤šä¸ªå‚æ•° inputParamterName: è¾“å…¥å‚æ•°åç§° description: è¾“å…¥å‚æ•°æè¿° required: æ˜¯å¦å¿…å¡«ï¼Œæ˜¯ä¸€ä¸ª bool å˜é‡ default: é»˜è®¤å€¼ outputs: å®šä¹‰è¾“å‡ºå‚æ•°é›†åˆï¼Œå¯ä»¥åŒ…å«å¤šä¸ªå‚æ•° outputParamterName: è¾“å‡ºå‚æ•°åç§° description: è¾“å‡ºå‚æ•°æè¿° runs: é…ç½® action ä»£ç çš„è·¯å¾„å’Œç”¨äºæ‰§è¡Œä»£ç çš„åº”ç”¨ç¨‹åº branding: åœ¨ GitHub Marketplace ä¸­æ˜¾ç¤ºçš„å›¾æ ‡æ ·å¼ icon: å›¾æ ‡åç§°ï¼Œé¡»ä»Feather ä¸­é€‰å– color: å›¾æ ‡é¢œè‰²ï¼Œå¯ä»¥ä½¿ä»¥ä¸‹ 8 ç§é¢œè‰²ï¼šwhiteã€yellowã€blueã€greenã€orangeã€redã€purple æˆ– gray-dark å®šä¹‰è¾“å…¥å‚æ•°inputs å¯¹è±¡å®šä¹‰äº† action æ‰€ä¾èµ–çš„è¾“å…¥å‚æ•°ï¼Œæ ¹æ® å®˜æ–¹æ–‡æ¡£ ä¸­çš„æè¿°ï¼Œè¾“å…¥å‚æ•°ä¼šè¢«å­˜å‚¨åˆ°åä¸º INPUT_&lt;VARIABLE_NAME&gt; çš„ç¯å¢ƒå˜é‡ä¸­ï¼Œå‚æ•°åç§°ä¼šè¢«è½¬æ¢ä¸ºå¤§å†™ï¼Œç©ºæ ¼æ›¿æ¢ä¸º _ å­—ç¬¦ï¼Œaction ä»£ç ä¸­å¯ä»¥è¯»å–è¯¥ç¯å¢ƒå˜é‡ä»è€Œå¾—åˆ°è¾“å…¥å‚æ•°çš„å€¼ ä¾‹å¦‚ï¼Œinputs ä¸­æ‰€å®šä¹‰çš„ inputParamterNameè¾“å…¥å‚æ•°çš„å€¼ï¼Œä¼šè¢«å­˜å‚¨åˆ°åä¸º INPUT_INPUTPARAMTERNAME çš„ç¯å¢ƒå˜é‡ä¸­ ä½†æ˜¯ï¼Œå°½ç®¡å®˜æ–¹æ–‡æ¡£ä¸­è¿™æ ·è¯´ï¼Œä½†åœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­å´é‡åˆ°äº†å‘ã€‚æ‰€å®šä¹‰çš„è¾“å…¥å‚æ•°å¹¶ä¸èƒ½å¤Ÿç›´æ¥é€šè¿‡è¯»å–è¯¥ç¯å¢ƒå˜é‡å–å€¼ï¼Œäº‹å®ä¸Šé€šè¿‡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‰“å°æ—¥å¿—ï¼Œåœ¨ç¯å¢ƒå˜é‡ä¸­å¹¶æ²¡æœ‰å‘ç°è¾“å…¥å‚æ•° å› æ­¤ï¼Œè§£å†³åŠæ³•æ˜¯æ‰‹åŠ¨å°†å…¶å®šä¹‰åˆ° env å¯¹è±¡ä¸­ï¼Œè¿™æ ·åœ¨è„šæœ¬ä¸­å°±å¯ä»¥é€šè¿‡ $INPUT_&lt;PARAMTER_NAME&gt; è·å–åˆ°è¾“å…¥å˜é‡çš„å€¼äº† 12345678910111213steps: - name: Run script shell: bash run: $GITHUB_ACTION_PATH/script.sh env: INPUT_KEY: ${{ inputs.key }} INPUT_TITLE: ${{ inputs.title }} INPUT_BODY: ${{ inputs.body }} INPUT_SOUND: ${{ inputs.sound }} INPUT_ISARCHIVE: ${{ inputs.isArchive }} INPUT_URL: ${{ inputs.url }} INPUT_AUTOMATICALLYCOPY: ${{ inputs.automaticallyCopy }} INPUT_COPY: ${{ inputs.copy }} å¯¹äºä¸æ–¹ä¾¿å…¬å¼€çš„è¾“å…¥å‚æ•°ï¼Œä¾‹å¦‚å¯†ç ã€ç§é’¥ç­‰ï¼Œå¯ä»¥å…ˆä¿å­˜è‡³ä»“åº“çš„ Secrets ä¸­ï¼Œä¼ å…¥æ—¶é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¼ å…¥ 1234- name: Push notifications uses: shink/bark-action@v1 with: key: ${{ secrets.KEY }} å®šä¹‰è¿è¡Œæ­¥éª¤action æ”¯æŒ JavaScriptã€Docker å’Œ ç»„åˆè¿è¡Œä¸‰ç§è¿è¡Œæ­¥éª¤æ–¹å¼ JavaScript è¿è¡Œæ–¹å¼ç¤ºä¾‹ï¼š 123runs: using: 'node12' main: 'main.js' å¯å‚è€ƒ å®˜æ–¹æ–‡æ¡£ Docker è¿è¡Œæ–¹å¼123runs: using: 'docker' image: 'docker://debian:stretch-slim' å¯å‚è€ƒ å®˜æ–¹æ–‡æ¡£ ç»„åˆè¿è¡Œæ–¹å¼ç¤ºä¾‹ï¼š 12345runs: using: &quot;composite&quot; steps: - run: ${{ github.action_path }}/test/script.sh shell: bash ç»„åˆè¿è¡Œæ–¹å¼æ”¯æŒå„ç±»è„šæœ¬ï¼Œæ›´åŠ çµæ´»æ˜“ç”¨ using: ç»„åˆè¿è¡Œæ–¹å¼å¿…é¡»è®¾ç½®ä¸º composite steps: è¿è¡Œæ­¥éª¤é›†åˆï¼Œå¯ä»¥åŒ…å«å¤šä¸ªæ­¥éª¤ï¼Œæ¯ä¸ªæ­¥éª¤é¡ºåºæ‰§è¡Œ name: æ­¥éª¤åç§° id: è¯¥æ­¥éª¤çš„å”¯ä¸€æ ‡è¯† shell: è¿è¡Œæ–¹å¼ï¼Œæ”¯æŒ using-a-specific-shell ä¸­æ‰€åˆ—çš„æ‰€æœ‰ shellï¼Œå¸¸ç”¨çš„æœ‰ bashã€python run: è„šæœ¬æ–‡ä»¶è·¯å¾„ env: ä»…ç”¨äºè¯¥æ­¥éª¤çš„ç¯å¢ƒå˜é‡ working-directory: å·¥ä½œç›®å½•è·¯å¾„ ç¤ºä¾‹shink/bark-action ä¸­çš„ action.ymlç¤ºä¾‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546name: 'Bark Action'description: 'An action for bark'author: Ji Yuanhao &lt;jiyuanhao1997@gmail.com&gt;branding: icon: 'message-circle' color: 'red'inputs: key: description: Secret key required: true title: description: Message title required: false body: description: Message body required: false sound: description: Message sound required: false isArchive: description: Whether to archive this message required: false url: description: URL to redirect required: false automaticallyCopy: description: Whether to copy this message automatically required: false copy: description: Content copied to clipboard required: falseruns: using: &quot;composite&quot; steps: - name: Run script shell: bash run: $GITHUB_ACTION_PATH/script.sh env: INPUT_KEY: ${{ inputs.key }} INPUT_TITLE: ${{ inputs.title }} INPUT_BODY: ${{ inputs.body }} INPUT_SOUND: ${{ inputs.sound }} INPUT_ISARCHIVE: ${{ inputs.isArchive }} INPUT_URL: ${{ inputs.url }} INPUT_AUTOMATICALLYCOPY: ${{ inputs.automaticallyCopy }} INPUT_COPY: ${{ inputs.copy }} è‡³æ­¤ï¼Œç¼–å†™å¥½ action.yml æ–‡ä»¶åï¼Œåœ¨å½“å‰ä»“åº“ä¸­çš„ .github/workflows/&lt;CI_NAME&gt;.yml ä¸­å°±å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä½¿ç”¨è‡ªå®šä¹‰çš„ action äº† 12- name: Run my action uses: ./ ä¾‹å¦‚ï¼Œåœ¨ shink/bark-action çš„ .github/workflows/push-notification.yml ä¸­ï¼š 123456789101112131415161718192021222324name: 'Push Notifications to Bark'on: repository_dispatch: workflow_dispatch:jobs: job: name: Push notification job runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 - name: Push notifications uses: ./ with: key: ${{ secrets.KEY }} title: Message title body: Message body sound: alarm isArchive: 1 url: https://yuanhaoji.com automaticallyCopy: 1 copy: Content copied to clipboard å‘å¸ƒè‡³ GitHub Marketplaceç¼–å†™å¥½ action.yml åŠè¿è¡Œä»£ç åï¼Œå°±å¯ä»¥å‘å¸ƒè‡³ GitHub Marketplace ä¾›ä»–äººä½¿ç”¨äº† å¦‚æœä»“åº“æ ¹ç›®å½•ä¸‹æœ‰ action.yml æˆ– action.yaml æ–‡ä»¶ï¼Œä»“åº“é¡µé¢ä¸Šæ–¹å°±ä¼šæç¤ºæ˜¯å¦éœ€è¦å‘å¸ƒ ç‚¹å‡» Draft a release æŒ‰é’®ï¼Œè¿›å…¥å‘å¸ƒé¡µé¢ï¼Œå‹¾é€‰ Publish this Action to the GitHub Marketplace ä¼šè‡ªåŠ¨æ£€æµ‹ action.yml æ–‡ä»¶ä¸­æ˜¯å¦åŒ…å«å¿…å¡«å­—æ®µï¼Œä»¥åŠä»“åº“ä¸­æ˜¯å¦æœ‰ README.md æ–‡æ¡£ å¡«å†™ Primary Category å’Œ Another Categoryï¼Œä¸º action é€‰æ‹©ç±»åˆ« æ¥ä¸‹æ¥æ˜¯ Tagï¼Œè¾“å…¥ Tag versionï¼Œå»ºè®®ä½¿ç”¨ v1ã€v1.2.3 ç­‰ä½œä¸ºæ ‡ç­¾ç‰ˆæœ¬åç§° æœ€åæ˜¯ Releaseï¼Œå¡«å†™ Release title å’Œ Release descriptionï¼Œç‚¹å‡» Publish release åå³å¯å®Œæˆå‘å¸ƒ å‘å¸ƒå®Œæˆåï¼Œå³å¯åœ¨ GitHub Marketplace é¡µé¢çœ‹åˆ°è‡ªå·±å‘å¸ƒçš„ action å‚è€ƒGithub action çš„å¼€å‘åˆ°å‘å¸ƒ Metadata syntax for GitHub Actions","link":"/2021/02/07/github-actions-publish-marketplace/"},{"title":"GitHub Actions éƒ¨ç½²çˆ¬è™«å¹¶å®šæ—¶å‘é€é‚®ä»¶","text":"æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•åœ¨ GitHub Actions ä¸Šéƒ¨ç½²çˆ¬è™«å¹¶å®šæ—¶å‘é€é‚®ä»¶ï¼Œæ— éœ€é¢å¤–è´­ä¹°æœåŠ¡å™¨ 1. GitHub ActionsGitHub Actions æ˜¯åœ¨ GitHub Universe å¤§ä¼šä¸Šå‘å¸ƒçš„ï¼Œè¢« Github ä¸»ç®¡ Sam Lambert ç§°ä¸º â€œå†æ¬¡æ”¹å˜è½¯ä»¶å¼€å‘â€ çš„ä¸€æ¬¾é‡ç£…åŠŸèƒ½ï¼ˆâ€œwe believe we will once again revolutionize software development.â€ï¼‰ã€‚äº 2018 å¹´ 10 æœˆæ¨å‡ºï¼Œå†…æµ‹äº†ä¸€æ®µæ—¶é—´åï¼Œäº 2019 å¹´ 11 æœˆ 13 æ—¥æ­£å¼ä¸Šçº¿ GitHub ä¼šæä¾›ä¸€ä¸ªä»¥ä¸‹é…ç½®çš„æœåŠ¡å™¨åšä¸º runnerï¼š 2-core CPU 7 GB of RAM memory 14 GB of SSD disk space ï¼ˆå…è´¹é¢åº¦æœ€å¤šå¯ä»¥åŒæ—¶è¿è¡Œ 20 ä¸ªä½œä¸šï¼Œå¿ƒåŠ¨äº†æœ‰æœ¨æœ‰ğŸ’˜ï¼‰ GitHub Actions æ˜¯ä¸€ä¸ª CI/CDï¼ˆæŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ï¼‰å·¥å…·ï¼ŒæŒç»­é›†æˆç”±å¾ˆå¤šæ“ä½œç»„æˆï¼Œæ¯”å¦‚ æŠ“å–ä»£ç ã€è¿è¡Œæµ‹è¯•ã€ç™»å½•è¿œç¨‹æœåŠ¡å™¨ã€å‘å¸ƒåˆ°ç¬¬ä¸‰æ–¹æœåŠ¡ ç­‰ç­‰ã€‚GitHub æŠŠè¿™äº›æ“ä½œç»Ÿç§°ä¸º actions actions æ˜¯ GitHub Actions çš„æ ¸å¿ƒï¼Œç®€å•æ¥è¯´ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€æ®µå¯ä»¥æ‰§è¡Œçš„ä»£ç ï¼Œå¯ä»¥ç”¨æ¥åšå¾ˆå¤šäº‹æƒ…ã€‚æ¯”å¦‚ï¼Œä½ åœ¨ python 3.7 ç¯å¢ƒä¸‹å†™äº†ä¸€ä¸ª python é¡¹ç›®æ”¾åˆ°äº† GitHub ä¸Šï¼Œä½†æ˜¯è€ƒè™‘åˆ°å…¶ä»–ç”¨æˆ·çš„ç”Ÿäº§ç¯å¢ƒå„å¼‚ï¼Œå¯èƒ½åœ¨ä¸åŒçš„ç¯å¢ƒä¸­è¿è¡Œç»“æœéƒ½ä¸ä¸€æ ·ï¼Œç”šè‡³æ— æ³•å®‰è£…ï¼Œè¿™æ—¶ä½ æ€»ä¸èƒ½åœ¨è‡ªå·±ç”µè„‘ä¸ŠæŠŠæ‰€æœ‰çš„ python ç¯å¢ƒéƒ½æµ‹è¯•ä¸€éå§ ä½†æ˜¯å¦‚æœæœ‰äº† GitHub Actionsï¼Œä½ å¯ä»¥åœ¨ runner æœåŠ¡å™¨ä¸Šéƒ¨ç½²ä¸€æ®µ actions ä»£ç æ¥è‡ªåŠ¨å®Œæˆè¿™é¡¹ä»»åŠ¡ã€‚ä½ ä¸ä»…å¯ä»¥æŒ‡å®šå®ƒçš„æ“ä½œç³»ç»Ÿï¼ˆæ”¯æŒ Windows Server 2019ã€Ubuntu 18.04ã€Ubuntu 16.04 å’Œ macOS Catalina 10.15ï¼‰ï¼Œè¿˜å¯ä»¥æŒ‡å®šè§¦å‘æ—¶æœºã€æŒ‡å®š python ç‰ˆæœ¬ã€å®‰è£…å…¶ä»–åº“ç­‰ç­‰ æ­¤å¤–ï¼Œå®ƒè¿˜å¯ä»¥ç”¨æ¥åšå¾ˆå¤šæœ‰è¶£çš„äº‹ï¼Œæ¯”å¦‚å½“æœ‰äººå‘ä»“åº“é‡Œæäº¤ issue æ—¶ï¼Œç»™ä½ çš„å¾®ä¿¡å‘ä¸€æ¡æ¶ˆæ¯ï¼›çˆ¬å–è¯¾ç¨‹è¡¨ï¼Œæ¯å¤©æ—©ä¸Šå‡†æ—¶å‘åˆ°ä½ çš„é‚®ç®±ï¼›å½“å‘ master åˆ†æ”¯æäº¤ä»£ç æ—¶ï¼Œè‡ªåŠ¨æ„å»º Docker é•œåƒå¹¶æ‰“ä¸Šæ ‡ç­¾å‘å¸ƒåˆ° Docker Hub ä¸Š â€¦â€¦ æ…¢æ…¢çš„ï¼Œä½ ä¼šå‘ç°å¾ˆå¤šæ“ä½œåœ¨ä¸åŒé¡¹ç›®é‡Œé¢æ˜¯ç±»ä¼¼çš„ï¼Œå®Œå…¨å¯ä»¥å…±äº«ã€‚GitHub ä¹Ÿæ³¨æ„åˆ°äº†è¿™ä¸€ç‚¹ï¼Œäºæ˜¯å®ƒå…è®¸å¼€å‘è€…æŠŠæ¯ä¸ªæ“ä½œå†™æˆç‹¬ç«‹çš„è„šæœ¬æ–‡ä»¶ï¼Œå­˜æ”¾åˆ°ä»£ç ä»“åº“ï¼Œä½¿å¾—å…¶ä»–å¼€å‘è€…å¯ä»¥å¼•ç”¨ æ€»è€Œè¨€ä¹‹ï¼ŒGitHub Actions å°±æ˜¯ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªé«˜æ•ˆæ˜“ç”¨çš„ CI/CDï¼ˆæŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ï¼‰å·¥ä½œæµï¼Œå¸®åŠ©æˆ‘ä»¬è‡ªåŠ¨æ„å»ºã€æµ‹è¯•ã€éƒ¨ç½²æˆ‘ä»¬çš„ä»£ç  å…·ä½“çš„ç”¨æ³•å¯ä»¥å‚è€ƒè¿™äº›èµ„æ–™ï¼š é˜®ä¸€å³°è€å¸ˆçš„ä¸€ç¯‡æ–‡ç« ï¼šGitHub Actions å…¥é—¨æ•™ç¨‹ GitHub Actions ä¸­æ–‡æ–‡æ¡£ï¼šGitHub Actions Documentation GitHub Actions å®˜æ–¹å¸‚åœºï¼šActions Marketplace ç†Ÿæ‚‰äº†åŸºæœ¬ç”¨æ³•ä¹‹åï¼Œæœ¬æ–‡å°†é€šè¿‡ä¸€ä¸ªç®€å•çš„çˆ¬è™«ä¾‹å­ï¼Œæ¼”ç¤ºå¦‚ä½•åœ¨ GitHub Actions ä¸Šéƒ¨ç½²çˆ¬è™«ï¼Œå¹¶å®šæ—¶å‘é€é‚®ä»¶ å®Œæ•´ä»£ç å¯ä»¥ä» GitHub ä»“åº“ shink/actions-bot è·å–ï¼Œé‡Œé¢åŒ…å«äº†å‡ ä¸ªåŸºäº GitHub Actions çš„å°æœºå™¨äººï¼ˆæœ‰ç¦åˆ©å“¦ ğŸ˜ï¼‰ 2. æ­¥éª¤çˆ¬è™«å†…å®¹å°±ä¸ç»†è¯´äº†ï¼Œè¿™é‡Œä»¥ä¸€ä¸ªç‰¹åˆ«ç®€å•çš„ä¾‹å­ä¸ºä¾‹â€”â€”çˆ¬å– CSDN ç”¨æˆ·çš„ profile ä¿¡æ¯ï¼Œå³ https://blog.csdn.net/sculpta è¿™ä¸ªé¡µé¢ä¸­å·¦è¾¹ä¸€æ çš„è®¿é—®é‡ã€æ’åç­‰ä¿¡æ¯ï¼Œå¹¶å®šæ—¶å‘é€åˆ°é‚®ç®± 2.1 å‡†å¤‡çˆ¬è™«å¯ä»¥å…ˆ star å¹¶ fork æœ¬ä»“åº“ï¼ˆæ¨èï¼‰æˆ– clone git clone https://github.com/shink/actions-bot.git ğŸ‘‡ ä¿®æ”¹ CSDN_ID 12345678#!/bin/bashset -eux# ä¿®æ”¹ä¸ºä½ çš„CSDN_IDCSDN_ID=&quot;sculpta&quot;python csdn-emailbot/spider.py $CSDN_ID 2.2 å¼€é€šé‚®ä»¶å…è´¹å‘é€æœåŠ¡ä»¥ç½‘æ˜“é‚®ç®±ä¸ºä¾‹ï¼Œé€‰æ‹©ã€Œè®¾ç½®ã€ä¸­çš„ ã€ŒPOP3/SMTP/IMAPã€ï¼Œæ‰“ä¸Šå‹¾ âœ” ä¹‹åä¿å­˜ï¼Œç„¶åè®¾ç½®å¯†ç  æ³¨æ„ï¼šè¯¥å¯†ç ä¸èƒ½è·Ÿé‚®ç®±å¯†ç ä¸€è‡´ 2.3 é…ç½® GitHub Actionsè§¦å‘ GitHub Actions éœ€è¦åœ¨é¡¹ç›®ä»“åº“æ–°å»ºä¸€ä¸ª .github/workflows å­ç›®å½•ï¼Œé‡Œé¢å­˜æ”¾ YAML æ ¼å¼é…ç½®æ–‡ä»¶ 12345678name: 'GitHub Actions CSDN Email Bot'on: push: branches: - master schedule: - cron: '0 14 * * *' ğŸ‘† ä¸Šé¢ä»£ç ä¸­ï¼Œname æ˜¯è¯¥é…ç½®æ–‡ä»¶çš„åå­—ï¼Œon æ˜¯è§¦å‘æ¡ä»¶ï¼Œæˆ‘ä»¬æŒ‡å®šä¸¤ç§æƒ…å†µä¸‹è§¦å‘ï¼Œç¬¬ä¸€ç§æ˜¯å‘ master åˆ†æ”¯ push ä»£ç æ—¶è§¦å‘ï¼Œç¬¬äºŒç§æ˜¯å®šæ—¶ä»»åŠ¡ï¼Œæ¯å¤©åœ¨å›½é™…æ ‡å‡†æ—¶é—´ 14 ç‚¹ï¼ˆåŒ—äº¬æ—¶é—´ 22 ç‚¹ï¼‰è¿è¡Œ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¿…é¡»ä½¿ç”¨ POSIX cron è¯­æ³• å®‰æ’å·¥ä½œæµç¨‹åœ¨ç‰¹å®šçš„ UTC æ—¶é—´ï¼ˆå›½é™…æ ‡å‡†æ—¶é—´ï¼Œç­‰äºåŒ—äº¬æ—¶é—´å‡å» 8 ä¸ªå°æ—¶ï¼‰è¿è¡Œï¼Œå¹¶ä¸”æœ€çŸ­é—´éš”ä¸ºæ¯ 5 åˆ†é’Ÿä¸€æ¬¡ è®¡åˆ’ä»»åŠ¡è¯­æ³•æœ‰äº”ä¸ªå­—æ®µï¼Œä¸­é—´ç”¨ç©ºæ ¼åˆ†éš”ï¼Œæ¯ä¸ªå­—æ®µä»£è¡¨ä¸€ä¸ªæ—¶é—´å•ä½ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ minute (0 - 59)â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ hour (0 - 23)â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ day of the month (1 - 31)â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ month (1 - 12 or JAN-DEC)â”‚ â”‚ â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ day of the week (0 - 6 or SUN-SAT)â”‚ â”‚ â”‚ â”‚ â”‚â”‚ â”‚ â”‚ â”‚ â”‚â”‚ â”‚ â”‚ â”‚ â”‚* &nbsp;* &nbsp;* &nbsp;* &nbsp;* å¯åœ¨è¿™äº”ä¸ªå­—æ®µä¸­ä½¿ç”¨ä»¥ä¸‹è¿ç®—ç¬¦ï¼š è¿ç®—ç¬¦ æè¿° ç¤ºä¾‹ * ä»»æ„å€¼ * * * * * åœ¨æ¯å¤©çš„æ¯åˆ†é’Ÿè¿è¡Œ , å€¼åˆ—è¡¨åˆ†éš”ç¬¦ 2,10 4,5 * * * åœ¨æ¯å¤©ç¬¬ 4 å’Œç¬¬ 5 å°æ—¶çš„ç¬¬ 2 å’Œç¬¬ 10 åˆ†é’Ÿè¿è¡Œ - å€¼çš„èŒƒå›´ 0 4-6 * * * åœ¨ç¬¬ 4ã€5ã€6 å°æ—¶çš„ç¬¬ 0 åˆ†é’Ÿè¿è¡Œ / æ­¥éª¤å€¼ 20/15 * * * * ä»ç¬¬ 20 åˆ†é’Ÿåˆ°ç¬¬ 59 åˆ†é’Ÿæ¯éš” 15 åˆ†é’Ÿè¿è¡Œï¼ˆç¬¬ 20ã€35 å’Œ 50 åˆ†é’Ÿï¼‰ æ³¨ï¼šGitHub æ“ä½œ ä¸æ”¯æŒéæ ‡å‡†è¯­æ³• @yearlyã€@monthlyã€@weeklyã€@dailyã€@hourly å’Œ @reboot ğŸ‘‡ æ¥ä¸‹æ¥ï¼Œå®šä¹‰äº†ä¸€ä¸ªåä¸º csdn-emailbot çš„ jobï¼Œå…¶ä¸­åŒ…å«è®¸å¤šæ­¥éª¤ï¼Œå®ƒä»¬ä¼šæŒ‰é¡ºåºä¾æ¬¡æ‰§è¡Œ 123456jobs: csdn-emailbot: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 ğŸ‘† ä¸Šé¢ä»£ç ä¸­ï¼Œrun-on å­—æ®µæŒ‡å®šå½“å‰ job çš„è¿è¡Œç¯å¢ƒä¸ºæœ€æ–°ç‰ˆçš„ ubuntu ç³»ç»Ÿã€‚ æ¥ä¸‹æ¥çš„ steps ä¸­ï¼Œç¬¬ä¸€æ­¥æ˜¯ä»å½“å‰ä»“åº“ä¸­è·å–ä»£ç ï¼Œä½¿ç”¨çš„æ˜¯å®˜æ–¹æä¾›çš„ checkout action çš„ 2.0.0 ç‰ˆæœ¬ 123456- name: 'Set up Python' uses: actions/setup-python@v1 with: python-version: 3.7- name: 'Install lib' run: pip install -r ./csdn-emailbot/requirements.txt ğŸ‘† ä¸Šé¢ä»£ç å°±æ˜¯ éƒ¨ç½²çˆ¬è™«ç¯å¢ƒ äº†ï¼Œé¦–å…ˆå®‰è£… python 3.7 çš„ç¯å¢ƒï¼Œç„¶åé€šè¿‡ pip å®‰è£…æ‰€éœ€è¦çš„ beautifulsoup4 å’Œ requests ğŸ‘‡ éƒ¨ç½²å®Œç¯å¢ƒåï¼Œå°±è¦æ‰§è¡Œæˆ‘ä»¬å†™å¥½çš„çˆ¬è™«ç¨‹åºäº† 12- name: 'Working' run: bash ./csdn-emailbot/main.sh ğŸ‘‡ æœ€åï¼Œå‘é€é‚®ä»¶ 123456789101112- name: 'Send mail' uses: dawidd6/action-send-mail@master with: server_address: smtp.163.com server_port: 465 username: ${{ secrets.MAIL_USERNAME }} password: ${{ secrets.MAIL_PASSWORD }} subject: CSDN Report body: file://email.txt to: shenkebug@qq.com from: GitHub Actions content_type: text/plain ğŸ‘† ä¸Šé¢ä»£ç ä¸­ï¼Œä½¿ç”¨äº†ä¸€ä¸ªå¼€å‘è€…å†™å¥½çš„ å‘é€é‚®ä»¶çš„ actionï¼Œå…¶ä¸­éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒSMTP æœåŠ¡å™¨çš„ç”¨æˆ·åå’Œå¯†ç ä½¿ç”¨çš„æ˜¯åŠ å¯†å˜é‡ï¼Œéœ€è¦åœ¨ä»“åº“çš„ã€ŒSettingsã€ä¸­è®¾ç½®ã€ŒSecretsã€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š å…¶ä¸­ï¼ŒMAIL_USERNAME æ˜¯ä½ å¼€é€š SMTP æœåŠ¡çš„é‚®ç®±ï¼ŒMAIL_PASSWORD æ˜¯ä½ è®¾ç½®çš„ SMTP æœåŠ¡çš„å¯†ç ï¼ˆä¸æ˜¯é‚®ç®±çš„ç™»å½•å¯†ç ï¼‰ æœ€åï¼Œå°† to ä¿®æ”¹ä¸ºä½ è¦æ¥å—é‚®ä»¶çš„é‚®ç®±åœ°å€ ğŸ‘Œ å†™å¥½é…ç½®ï¼Œæ¨é€åˆ°ä»“åº“ä»¥åï¼Œå°±å¯ä»¥æ¯å¤©æ™šä¸Šæ”¶åˆ°ä¸€å° CSDN profile çš„é‚®ä»¶äº† 2.4 å®Œæ•´ yml æ–‡ä»¶12345678910111213141516171819202122232425262728293031323334353637name: 'GitHub Actions CSDN Email Bot'on: push: branches: - master schedule: - cron: '0 14 * * *'jobs:csdn-emailbot: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 - name: 'Set up Python' uses: actions/setup-python@v1 with: python-version: 3.7 # - name: 'Install dependencies' # run: python -m pip install --upgrade pip - name: 'Install requirements' run: pip install -r ./csdn-emailbot/requirements.txt - name: 'Working' run: bash ./csdn-emailbot/main.sh - name: 'Send mail' uses: dawidd6/action-send-mail@master with: server_address: smtp.163.com server_port: 465 username: ${{ secrets.MAIL_USERNAME }} password: ${{ secrets.MAIL_PASSWORD }} subject: CSDN Report body: file://email.txt to: ${{ secrets.RECEIVER }} from: GitHub Actions content_type: text/plain å¦å¤–ï¼šGitHub Actions è²Œä¼¼ä»…æ”¯æŒä¿å­˜åœ¨å·¥ä½œæµç¨‹è¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„æ–‡ä»¶ï¼Œå½“ä½œä¸šå®Œæˆæ—¶ï¼Œè¿è¡Œç¨‹åºä¼šç»ˆæ­¢å¹¶åˆ é™¤è™šæ‹Ÿç¯å¢ƒçš„å®ä¾‹ï¼Œæ–‡ä»¶ä¹Ÿä¼šéšä¹‹æ¸…ç©º å¦‚æœæƒ³å®ç°æ°¸ä¹…å­˜å‚¨ï¼Œå¯ä»¥åˆ©ç”¨ä»“åº“è¿›è¡Œå­˜å‚¨ï¼Œå°†è¦ä¿å­˜çš„æ–‡ä»¶ push åˆ°ä»“åº“é‡Œï¼Œæ¯æ¬¡å·¥ä½œè¿è¡Œæ—¶å†ä»ä»“åº“è·å–æ–‡ä»¶ï¼Œå†æ‰§è¡Œåé¢çš„é€»è¾‘å³å¯","link":"/2020/02/02/github-actions-spider/"},{"title":"GitHub å¤šäººé˜Ÿä¼åˆä½œè¯¦ç»†æ•™ç¨‹","text":"æœ¬æ–‡å°†åˆ†åœºæ™¯è¯¦ç»†è®²è¿°å¦‚ä½•é€šè¿‡ GitHub å®ç°å¤šäººé˜Ÿä¼ååŒå¼€å‘ ç¤ºä¾‹ä¸­æ‰€ä½¿ç”¨çš„ä»“åº“æ˜¯ shink/cooperation-testï¼Œæ¬¢è¿åŠ å…¥ï¼Œä¸€èµ·ç†Ÿç»ƒ Git çš„ä½¿ç”¨ å¼€å‘è§„èŒƒåˆ†æ”¯ç®¡ç†ä¸ºäº†è§„èŒƒå¼€å‘ã€ä¿æŒ commit å†å²ã€æ–¹ä¾¿åæœŸç»´æŠ¤ï¼ŒGit çš„åˆ†æ”¯ç®¡ç†æ˜¯å¿…ä¸å¯å°‘çš„å·¥ä½œ åˆ†æ”¯ç®¡ç†ç¤ºä¾‹ï¼š main åˆ†æ”¯ï¼š ä¸»åˆ†æ”¯ï¼Œæœ€ç»ˆçš„ã€ç¨³å®šçš„ã€ç»è¿‡æµ‹è¯•æ²¡æœ‰ bug çš„ã€å¯éƒ¨ç½²äºç”Ÿäº§ç¯å¢ƒçš„åˆ†æ”¯ åªèƒ½ç”± release å’Œ hotfix åˆ†æ”¯åˆå¹¶ï¼Œä»»ä½•æƒ…å†µä¸‹éƒ½ä¸èƒ½ç›´æ¥ä¿®æ”¹ä»£ç  dev åˆ†æ”¯ï¼š ä¸»è¦å¼€å‘åˆ†æ”¯ï¼Œè´¯ç©¿äºæ•´ä¸ªé¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸ å§‹ç»ˆä¿æŒæœ€æ–°ç‰ˆæœ¬ï¼ŒåŠŸèƒ½æ¨¡å—å¼€å‘ä»»åŠ¡äº¤ç»™ feature åˆ†æ”¯ï¼Œæµ‹è¯•ä»»åŠ¡äº¤ç»™ release åˆ†æ”¯ hotfix åˆ†æ”¯ï¼š çƒ­ä¿®å¤åˆ†æ”¯ï¼Œå½“ main åˆ†æ”¯éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒåå‘ç”Ÿç´§æ€¥çŠ¶å†µï¼Œéœ€è¦åŠæ—¶å¤„ç†æ—¶ï¼Œè¯¥åˆ†æ”¯è´Ÿè´£çƒ­ä¿®å¤ï¼Œå³åœ¨ä¿è¯åº”ç”¨ä¸ä¸‹çº¿çš„æ¡ä»¶ä¸‹ï¼Œå¯¹ bug è¿›è¡Œç´§æ€¥ä¿®å¤ è¯¥åˆ†æ”¯ä»¥ main åˆ†æ”¯ä¸ºåŸºçº¿ï¼Œä¿®å¤ bug åï¼Œåˆå¹¶åˆ° main åˆ†æ”¯éƒ¨ç½²ä¸Šçº¿ï¼ŒåŒæ—¶ä¹Ÿåˆå¹¶åˆ° dev åˆ†æ”¯ä¿æŒæœ€æ–°è¿›åº¦ å‘½åè§„åˆ™ï¼š hotfix/NAME æˆ– hotfix-NAME feature åˆ†æ”¯ï¼š åŠŸèƒ½æ¨¡å—å¼€å‘åˆ†æ”¯ï¼Œå¯¹åº”äºä¸€ä¸ªç‰¹å®šçš„åŠŸèƒ½æ¨¡å— è¯¥åˆ†æ”¯ä»¥ dev åˆ†æ”¯ä¸ºåŸºçº¿ï¼Œå®Œæˆå¼€å‘å·¥ä½œåå†åˆå¹¶åˆ° dev åˆ†æ”¯ å‘½åè§„åˆ™ï¼šfeature/NAME æˆ– feature-NAME release åˆ†æ”¯ï¼š é¢„å‘å¸ƒåˆ†æ”¯ï¼Œåœ¨å‘å¸ƒæ­£å¼ç‰ˆæœ¬å‰è¿›è¡Œå…¨é¢æµ‹è¯•å’Œä¿®å¤ è¯¥åˆ†æ”¯ä»¥ dev åˆ†æ”¯ä¸ºåŸºçº¿è¿›è¡Œå…¨é¢æµ‹è¯•ï¼Œè‹¥å‘ç”Ÿ bug åˆ™å¯ç›´æ¥åœ¨è¯¥åˆ†æ”¯ä¿®å¤å¹¶æäº¤ ç»è¿‡æµ‹è¯•æ²¡æœ‰é—®é¢˜ä¹‹åï¼Œåˆå¹¶åˆ° main åˆ†æ”¯éƒ¨ç½²ä¸Šçº¿ï¼ŒåŒæ—¶ä¹Ÿåˆå¹¶åˆ° dev åˆ†æ”¯ä¿æŒæœ€æ–°è¿›åº¦ å‘½åè§„åˆ™ï¼šrelease/NAME æˆ– release-NAME åˆ†æ”¯åç§° åˆ†æ”¯èŒè´£ åŸºçº¿åˆ†æ”¯ åˆå¹¶åˆ†æ”¯ main ä¸»åˆ†æ”¯ - - dev å¼€å‘åˆ†æ”¯ main - hotfix çƒ­ä¿®å¤åˆ†æ”¯ main main, dev feature åŠŸèƒ½æ¨¡å—å¼€å‘åˆ†æ”¯ dev dev release é¢„å‘å¸ƒåˆ†æ”¯ dev main, dev æ€»ç»“ï¼š main åˆ†æ”¯å’Œ dev åˆ†æ”¯éƒ½è´¯ç©¿äºæ•´ä¸ªé¡¹ç›®çš„ç”Ÿå‘½å‘¨æœŸ hotfixã€featureã€release åˆ†æ”¯éƒ½æ˜¯ä¸´æ—¶åˆ†æ”¯ï¼Œåˆ†åˆ«è´Ÿè´£çƒ­ä¿®å¤ã€åŠŸèƒ½æ¨¡å—å¼€å‘ã€é¢„å‘å¸ƒ ä¸‹å›¾å¾ˆå¥½åœ°å±•ç¤ºäº†åœ¨æ—¶é—´è½´ä¸Šå„åˆ†æ”¯çš„èŒè´£åˆ’åˆ†æƒ…å†µ Commit messageæ¯æ¬¡ commit åˆ°æœ¬åœ°åº“æ—¶ï¼Œå¿…é¡»æ·»åŠ  commit messageï¼Œä»¥å¯¹æœ¬æ¬¡æäº¤åšå‡ºè¯´æ˜ åœ¨å›¢é˜Ÿåˆä½œæ—¶ï¼Œcommit message çš„ä¹¦å†™æ ¼å¼ä¹Ÿåº”å½“éµå®ˆç›¸åº”è§„èŒƒï¼Œæ¸…æ™°æ˜äº†çš„ commit message æœ‰åˆ©äºå¿«é€Ÿå®šä½æäº¤ã€è‡ªåŠ¨ç”Ÿæˆ change log æ–‡æ¡£ ä¸‹å›¾æ˜¯ Angular è§„èŒƒ å…·ä½“çš„è§„èŒƒè¯´æ˜å¯å‚è€ƒé˜®ä¸€å³°è€å¸ˆçš„åšå®¢ï¼šCommit message å’Œ Change log ç¼–å†™æŒ‡å— ä»»åŠ¡åˆ’åˆ†å›¢é˜Ÿåˆä½œä¸­ï¼Œåˆç†çš„åˆ’åˆ†ä»»åŠ¡æœ‰åŠ©äºé¡¹ç›®é¡ºåˆ©å¼€å±• ä¸‹é¢ä»¥ä¸€ä¸ªäºŒäººé˜Ÿä¼ä¸ºä¾‹ï¼ˆé˜Ÿé•¿ A å’Œé˜Ÿå‘˜ Bï¼‰ï¼Œå¤šäººé˜Ÿä¼çš„è¯å…¶ä»–é˜Ÿå‘˜æ“ä½œåŒé˜Ÿå‘˜ B é˜Ÿé•¿ A çš„ä»»åŠ¡ï¼š ç»Ÿä¸€è§„èŒƒï¼ŒåŒ…æ‹¬å‘½åè§„èŒƒã€æ–‡æ¡£è§„èŒƒç­‰ review ä»£ç ï¼Œç»´æŠ¤ issue å’Œ PRï¼Œç®¡ç† main åˆ†æ”¯å’Œ dev åˆ†æ”¯ æ‰¿æ‹…éƒ¨åˆ†å¼€å‘ä»»åŠ¡ é˜Ÿå‘˜ B çš„ä»»åŠ¡ï¼š æ‰¿æ‹…ä¸»è¦å¼€å‘ä»»åŠ¡ï¼Œå®Œæˆç³»ç»ŸåŠŸèƒ½ åˆå§‹çŠ¶æ€ä»¥é˜Ÿé•¿ A çš„ä»“åº“ä¸ºåŸºå‡†ï¼Œé¦–å…ˆé˜Ÿå‘˜ B Fork é˜Ÿé•¿ A çš„é¡¹ç›®ä»“åº“ å‡è®¾ä»“åº“åˆå§‹çŠ¶æ€ä¸ºï¼šmain åˆ†æ”¯å’Œ dev åˆ†æ”¯ä¸‹åˆ†åˆ«åªæœ‰ README.md æ–‡ä»¶ 123â”Œâ”€â”€ main: README.mdâ”‚â””â”€â”€ dev: README.md å¼€å§‹æ—¶é¦–å…ˆ clone è¿œç¨‹ä»“åº“åˆ°æœ¬åœ° 1git clone https://github.com/user/repo.git clone å®Œä¹‹åï¼Œå¯ä»¥çœ‹åˆ°æœ¬åœ°ä»“åº“ä¸­åªæœ‰ main åˆ†æ”¯ 123git branch* main é€šè¿‡ä¸‹åˆ—å‘½ä»¤æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯ 123456git branch -a* main remotes/origin/HEAD -&gt; origin/main remotes/origin/dev remotes/origin/main å¯ä»¥çœ‹åˆ°è¿œç¨‹ä»“åº“ä¸­è™½ç„¶æœ‰ dev åˆ†æ”¯ï¼Œä½†æ˜¯æœ¬åœ°ä»“åº“ä¸­å¹¶æ²¡æœ‰åˆ†æ”¯ä¸è¿œç¨‹ä»“åº“çš„ dev åˆ†æ”¯å…³è” é€šè¿‡ä¸‹åˆ—å‘½ä»¤åœ¨æœ¬åœ°ä»“åº“ä¸­åˆ›å»ºå¹¶åˆ‡æ¢åˆ° dev åˆ†æ”¯ 1git checkout -b dev origin/dev æ­¤æ—¶ï¼Œåœ¨æœ¬åœ°åˆ†æ”¯ä¸­å°±å¯ä»¥çœ‹åˆ° dev åˆ†æ”¯äº† 1234git branch* dev main åœºæ™¯ä¸€ï¼šé˜Ÿå‘˜ä¸ä¸»ä»“ç‰ˆæœ¬ä¿æŒåŒæ­¥åœ¨å¼€å§‹å·¥ä½œå‰ï¼Œé¡»å…ˆæ‹‰å–å½“å‰å½“å‰åˆ†æ”¯çš„æœ€æ–°ç‰ˆæœ¬ï¼Œä¿è¯ä»£ç æ˜¯æœ€æ–°ç‰ˆæœ¬ ä»¥é˜Ÿå‘˜ B ä¸ºä¾‹ï¼š æ·»åŠ ä¸»ä»“çš„è¿œç¨‹ä»“åº“åœ°å€ 1git remote add upstream https://github.com/captain_a/project.git æŸ¥çœ‹å½“å‰ä»“åº“æ‰€è¿æ¥çš„è¿œç¨‹ä»“åº“ 1git remote -v æ­¤æ—¶ï¼Œå½“å‰ä»“åº“æ‰€è¿æ¥çš„è¿œç¨‹ä»“åº“ä¸ºï¼š 1234origin https://github.com/member_b/project.git (fetch)origin https://github.com/member_b/project.git (push)upstream https://github.com/captain_a/project.git (fetch)upstream https://github.com/captain_a/project.git (push) åˆ‡æ¢åˆ° dev åˆ†æ”¯ 1git checkout dev è·å– upstream çš„æœ€æ–°å†…å®¹ 1git fetch upstream dev åˆå¹¶ 1git merge upstream/dev è‡³æ­¤ï¼Œdev åˆ†æ”¯å°±åŒ…å«æœ€æ–°ç‰ˆæœ¬ä»£ç äº†ï¼ˆmain åˆ†æ”¯åŒç†ï¼‰ åœºæ™¯äºŒï¼šé˜Ÿå‘˜å¼€å‘ç‰¹å®šåŠŸèƒ½æ¨¡å— åœ¨å¼€å‘é˜¶æ®µï¼Œåº”å½“å°½é‡é¿å…å‘ç”Ÿå†²çªï¼ŒåŒæ—¶ä¿æŒ commit å†å²çš„å¹²å‡€æ•´æ´ï¼Œå–„ç”¨ git rebase å‘½ä»¤å¯ä»¥ä¿è¯ commit å†å²æ›´åŠ æ¸…çˆ½ï¼Œrebase çš„åŒæ—¶è¿˜æ˜¯å¯ä»¥ squashï¼Œå°†é€»è¾‘ç›¸ä¼¼çš„å¤šä¸ª commit åˆå¹¶åˆ°ä¸€ä¸ª commitï¼Œå¹¶é™„ä¸Šæè¿°æ€§æ›´å¼ºçš„ commit messageï¼Œ è¿™æ · commit å†å²å°±ä¼šéå¸¸æ¸…æ™°ã€ä¸€ç›®äº†ç„¶äº† ä»¥é˜Ÿå‘˜ B å¼€å‘ç™»å½•æ¨¡å—ä¸ºä¾‹ åœ¨æœ¬åœ°åˆ›å»º feature/login_module åˆ†æ”¯ï¼Œé¦–å…ˆåˆ‡æ¢åˆ° dev åˆ†æ”¯ 1git checkout dev ä»¥ dev åˆ†æ”¯ä¸ºåŸºçº¿ï¼Œåˆ›å»º feature/login_module åˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ 1git checkout -b feature/login_module æŸ¥çœ‹å„åˆ†æ”¯æƒ…å†µ 12345git branch -v dev 333e2b6 Init README.md* feature/login_module 333e2b6 Init README.md main 333e2b6 Init README.md å°†è¯¥åˆ†æ”¯ push åˆ°è¿œç¨‹ä»“åº“ 1git push origin feature/login_module:feature/login_module å‡è®¾é˜Ÿå‘˜ B å®Œæˆäº†å¼€å‘ä»»åŠ¡ï¼Œåˆ›å»ºäº† login_module.txt æ–‡ä»¶ 1echo &quot;login module finished&quot; &gt; login_module.txt add åˆ°æš‚å­˜åŒº 1git add login_module.txt commit åˆ°æœ¬åœ°åº“ 1git commit -m &quot;login module finished&quot; push åˆ°è¿œç¨‹ä»“åº“ 1git push origin feature/login_module åœ¨ GitHub é¡µé¢å¯ä»¥çœ‹åˆ°æäº¤æˆåŠŸäº† åœºæ™¯ä¸‰ï¼šé˜Ÿå‘˜æäº¤ PRï¼Œè¯·æ±‚ä¸ä¸»ä»“åˆå¹¶é˜Ÿå‘˜ B å·²ç»åœ¨è‡ªå·±çš„ä»“åº“ä¸­å®Œæˆäº†åŠŸèƒ½æ¨¡å—çš„å¼€å‘ï¼Œä½†å¹¶æ²¡æœ‰åˆå¹¶åˆ°é˜Ÿé•¿ A çš„ä»“åº“ä¸­ï¼Œå› æ­¤é˜Ÿé•¿ A ç›®å‰è¿˜æ— æ³•çœ‹åˆ°é˜Ÿå‘˜ B æ‰€åšçš„å·¥ä½œ é˜Ÿå‘˜å¯ä»¥æäº¤ PRï¼Œå³ Pull Requestï¼Œè¯·æ±‚ä¸ä¸»ä»“è¿›è¡Œåˆå¹¶ åœ¨æäº¤ PR æ—¶ï¼ŒPR ä¸­å°½é‡åªåŒ…å«ä¸€ä¸ª commit æ­¤æ—¶ï¼Œé˜Ÿå‘˜ B å¯ä»¥é€‰æ‹©å…ˆå°† feature åˆ†æ”¯åˆå¹¶åˆ° dev åˆ†æ”¯ï¼Œå†æäº¤ PRï¼Œè¯·æ±‚åˆå¹¶åˆ°ä¸»ä»“çš„ dev åˆ†æ”¯ï¼Œå³ 1member_b:dev -&gt; captain_a:dev ä¹Ÿå¯ä»¥è¯·æ±‚å°† feature åˆ†æ”¯åˆå¹¶åˆ°ä¸»ä»“çš„ dev åˆ†æ”¯ï¼Œå³ 1member_b:feature -&gt; captain_a:dev è¿˜å¯ä»¥è¯·æ±‚å°† feature åˆ†æ”¯åˆå¹¶åˆ°ä¸»ä»“çš„ feature åˆ†æ”¯ï¼Œå³ 1member_b:feature -&gt; captain_a:feature è¿™ä¸»è¦å–å†³äºä¸»ä»“æ˜¯å¦éœ€è¦ä¿å­˜ä¸´æ—¶åˆ†æ”¯ï¼Œä»¥åŠè°è´Ÿè´£è§£å†³å†²çª ä¸‹é¢ä»¥ç¬¬ä¸€ç§æƒ…å†µè¿›è¡Œæ¼”ç¤ºï¼Œå³é˜Ÿå‘˜ B å…ˆå°† feature åˆ†æ”¯åˆå¹¶åˆ° dev åˆ†æ”¯ï¼Œå†æäº¤ PRï¼Œè¯·æ±‚åˆå¹¶åˆ°ä¸»ä»“çš„ dev åˆ†æ”¯ é¦–å…ˆåˆ‡æ¢åˆ° dev åˆ†æ”¯ 1git checkout dev åˆå¹¶ feature åˆ†æ”¯ 1git merge feature --no-ff merge æ—¶æ¨èåŠ ä¸Š --no-ff é€‰é¡¹ï¼Œé¿å… feature åˆ†æ”¯æ‰°ä¹± dev åˆ†æ”¯çš„ commit å†å² è‹¥åŠ ä¸Šäº† --no-ff é€‰é¡¹ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ª merge çš„ commit è®°å½• è¾“å…¥ commit ä¿¡æ¯åï¼ŒæŒ‰ Ctrl + O å°† commit ä¿¡æ¯ä¿å­˜åˆ° MERGE_MSG æ–‡ä»¶ä¸­ï¼ŒCtrl + X é€€å‡º push åˆ°è¿œç¨‹ä»“åº“ 1git push origin dev å¯ä»¥çœ‹åˆ°æ¸…çˆ½çš„ commit å†å²ï¼š æ¥ä¸‹æ¥å°±æ˜¯æäº¤ PR é˜¶æ®µäº† é¦–å…ˆé˜Ÿå‘˜ B åœ¨è‡ªå·±çš„ GitHub ä»“åº“ä¸­ç‚¹å‡» New pull request æŒ‰é’®åˆ›å»º PR é€‰æ‹©åˆ†æ”¯ï¼Œç„¶åç‚¹å‡» Create pull request æŒ‰é’® å¡«å†™ title å’Œ commentåï¼Œç‚¹å‡» Create pull request æŒ‰é’®å³å¯æäº¤ PR æ¥ä¸‹æ¥ï¼Œé˜Ÿé•¿ A éœ€è¦æ‰“å¼€è¯¥ PR å¹¶ review ä»£ç ï¼Œå¦‚æœæ²¡æœ‰é—®é¢˜å¹¶ä¸”æ²¡æœ‰å†²çªåˆ™å¯å…è®¸ merge å…¶ä¸­ï¼ŒMerge pull resquest æœ‰ä¸‰ä¸ªé€‰é¡¹ï¼š Create a merge commit ï¼šè¡¨ç¤ºæŠŠè¿™ä¸ª PR ä½œä¸ºä¸€ä¸ªåˆ†æ”¯åˆå¹¶ï¼Œå¹¶ä¿ç•™åˆ†æ”¯ä¸Šçš„æ‰€æœ‰æäº¤è®°å½• Squash and merge ï¼šè¡¨ç¤ºåªä¸ºè¿™æ¬¡åˆå¹¶ä¿ç•™ä¸€ä¸ªæäº¤è®°å½• Rebase and merge ï¼šæ‰¾åˆ°ä¸¤ä¸ªåˆ†æ”¯å…±åŒçš„ç¥–å…ˆï¼Œç„¶ååœ¨å½“å‰åˆ†æ”¯ä¸Šåˆå¹¶ä»å…±åŒç¥–å…ˆåˆ°ç°åœ¨çš„æ‰€æœ‰ commit ä¸‰ä¸ªé€‰é¡¹çš„ä¸åŒç‚¹ï¼š Create a merge commit ï¼šä¸èƒ½ä¿æŒ main åˆ†æ”¯å¹²å‡€ï¼Œä½†æ˜¯ä¿ç•™äº†æ‰€æœ‰çš„ commit historyï¼Œå½“ PR ä¸­ commit æ¬¡æ•°è¾ƒå¤šæ—¶ä¸æ¨èæ­¤æ–¹å¼ Squash and merge ï¼šä¹Ÿå¯ä»¥ä¿æŒ main åˆ†æ”¯å¹²å‡€ï¼Œä½†æ˜¯ main ä¸­ author éƒ½æ˜¯ maintainerï¼Œè€Œä¸æ˜¯åŸ author Rebase and merge ï¼šå¯ä»¥å°½å¯èƒ½ä¿æŒ main åˆ†æ”¯å¹²å‡€æ•´æ´ï¼Œå¹¶ä¸”æ˜“äºè¯†åˆ« author è¿™é‡Œé€‰æ‹© Rebase and merge merge å®Œæˆåè¯¥ PR å°±è‡ªåŠ¨ closed äº†ï¼Œåˆå¹¶å·¥ä½œå®Œæˆ é˜Ÿé•¿æ›´æ–°æœ¬åœ°ä»“åº“ï¼Œåœ¨ dev åˆ†æ”¯ä¸‹ï¼Œæ‹‰å–æœ€æ–°ä»£ç  1git pull origin dev æ­¤æ—¶ï¼Œä¸»ä»“ä¸­çš„ commit å†å²å¦‚å›¾æ‰€ç¤ºï¼š åœºæ™¯å››ï¼šåˆå¹¶æ—¶å‡ºç°å†²çªå†²çªäº§ç”Ÿæœ‰ä¸¤ç§æƒ…å†µï¼š ä¸¤ä¸ªåˆ†æ”¯éƒ½ä¿®æ”¹äº†åŒä¸€æ–‡ä»¶ï¼ˆä¸ç®¡ä»€ä¹ˆåœ°æ–¹ï¼‰ ä¸¤ä¸ªåˆ†æ”¯éƒ½ä¿®æ”¹äº†åŒä¸€æ–‡ä»¶çš„åç§° å¯¹äºäº§ç”Ÿçš„å†²çªï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹å†²çªä»£ç  è§£å†³å†²çªä¹‹åï¼Œè¿˜éœ€è¦ add å¹¶ commit 123git add CONFLICT_FILEgit commit -m &quot;fix conflict&quot; åœºæ™¯äº”ï¼šç‰ˆæœ¬å›é€€æœ‰æ—¶å€™å½“å‰ç‰ˆæœ¬å¯èƒ½æœ‰è®¸å¤š bugï¼Œä¸å¾—ä¸é‡æ–°ä»å¤´å¼€å§‹å·¥ä½œï¼Œè¿™æ—¶å€™å°±éœ€è¦å…ˆå›é€€åˆ°ä¸Šä¸€ç‰ˆæœ¬ git reset å‘½ä»¤å¯ä»¥å°†å½“å‰ branch å›é€€åˆ°ä¹‹å‰æŸä¸€ä¸ª commit èŠ‚ç‚¹ å›é€€åˆ°ä¸Šä¸€ç‰ˆæœ¬ 1git reset HEAD^ å…¶ä¸­ï¼ŒHEAD^ è¡¨ç¤ºä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼ŒHEAD^^ è¡¨ç¤ºä¸Šä¸Šä¸ªç‰ˆæœ¬ï¼ŒHEAD~100 è¡¨ç¤ºå‰ 100 ä¸ªç‰ˆæœ¬ å¦å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å›é€€åˆ°æŒ‡å®šç‰ˆæœ¬ 1git reset ç‰ˆæœ¬å· ç‰ˆæœ¬å·å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ 1git log --oneline å¦å¤–ï¼Œgit reset è¿˜æœ‰ä¸‰ä¸ªé€‰é¡¹ï¼š --soft: ä»…å›é€€æœ¬åœ°åº“ä¸­çš„å†…å®¹ï¼Œç›¸å½“äºæ’¤é”€ git commit --mixed: ï¼ˆé»˜è®¤æ–¹å¼ï¼‰åŒæ—¶å›é€€æœ¬åœ°åº“å’Œæš‚å­˜åŒºå†…å®¹ï¼Œç›¸å½“äºè¿›ä¸€æ­¥æ’¤é”€ git add --hard: åŒæ—¶å›é€€æœ¬åœ°åº“ã€æš‚å­˜åŒºå’Œå·¥ä½œåŒºå†…å®¹ï¼Œç›¸å½“äºè¿›ä¸€æ­¥æ’¤é”€æœ¬åœ°ä»“åº“æ–‡ä»¶å¤¹ä¸­çš„æ”¹åŠ¨ æ³¨æ„ï¼šå›é€€ç‰ˆæœ¬åï¼Œæ—¥å¿—ä¸­å°±ä¼šåˆ é™¤å›é€€å‰ç‰ˆæœ¬çš„ commit è®°å½•ï¼Œå¦‚æœæƒ³æŸ¥çœ‹å›é€€å‰çš„ç‰ˆæœ¬è®°å½•ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ 1git reflog","link":"/2020/02/22/github-cooperation/"},{"title":"é€šè¿‡ GitHub Actions å°† GitHub ä»“åº“è‡ªåŠ¨å¤‡ä»½åˆ° Giteeã€GitLab","text":"å‰è¨€ç›®å‰å¼€æºå·²ç»é€æ¸å½¢æˆäº†ä¸€ç§è¶‹åŠ¿ï¼Œè¶Šæ¥è¶Šå¤šçš„ geeker åŠ å…¥äº†å¼€æºå¤§å†›ï¼Œå¼€æºç¤¾åŒºä¹Ÿé€æ¸å£®å¤§ï¼Œæ¨åŠ¨äº†æŠ€æœ¯å‘å±•å’Œå¿«é€Ÿè¿­ä»£ ä½œä¸ºå…¨çƒçŸ¥åçš„ä»£ç æ‰˜ç®¡å¹³å°ï¼ŒGitHubã€Giteeã€GitLab å‡æ‹¥æœ‰ä¸å°çš„ç”¨æˆ·é‡ï¼Œå°¤å…¶æ˜¯ GayHubï¼Œä½œä¸ºå…¨çƒæœ€å¤§çš„åŒæ€§äº¤å‹å¹³å°ï¼Œæ‹¥æœ‰è¶…è¿‡ 4 åƒä¸‡çš„ç”¨æˆ·é‡ï¼Œè¶³ä»¥è¯´æ˜å…¶åœ¨ä¸šå†…çš„çŸ¥ååº¦ ä½†æ˜¯ï¼Œå¯¹äºä¸ªäººæ¥è¯´ï¼Œä½¿ç”¨ä¸€ä¸ªæ‰˜ç®¡å¹³å°å°±è¶³å¤Ÿäº†ï¼Œä½†æ˜¯æˆ‘ä»¬åˆæœ‰åœ¨å…¶ä»–å¹³å°å¤‡ä»½çš„éœ€æ±‚ï¼Œå¹¶ä¸”å¸Œæœ›æœ‰æ›´æ–°æ—¶èƒ½å¤Ÿè‡ªåŠ¨å¤‡ä»½ å¯¹äºè¿™ç§éœ€æ±‚ï¼Œè§£å†³åŠæ³•å¤§å¤šæ˜¯åˆ©ç”¨ webhookï¼Œæˆ–è€…æ˜¯åœ¨æœ¬åœ°ä»“åº“ä¸­ remote add æ·»åŠ è¿œç¨‹ä»“åº“ï¼Œè¿™æ ·å°±å¯ä»¥ push åˆ°å¤šä¸ªè¿œç¨‹ä»“åº“ã€‚ä½†æ˜¯è¿™äº›æ–¹æ³•è¾ƒä¸ºç¹çï¼Œæ›´ä½•å†µè¿˜æœ‰æ›´å¥½ç”¨çš„åŠæ³•â€”â€”GitHub Actionsï¼Œæœ‰å…³ GitHub Actions çš„ä¸€äº›æ•™ç¨‹è¿˜å¯å‚è€ƒåšå®¢ GitHub Actions éƒ¨ç½²çˆ¬è™«å¹¶å®šæ—¶å‘é€é‚®ä»¶ æ­¥éª¤1. ç”Ÿæˆ sshgit bash ä¸­æ•²å…¥å‘½ä»¤ï¼Œä¼šåœ¨ ~/.ssh æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆ id_rsa.pub æ–‡ä»¶å’Œ id_rsa æ–‡ä»¶ï¼Œåˆ†åˆ«å­˜æ”¾å…¬é’¥å’Œç§é’¥ 1ssh-keygen -t rsa -C &quot;user@email.com&quot; 2. å°†å…¬é’¥æ·»åŠ åˆ° GitLabã€GiteeGitee: ã€Œè®¾ç½®ã€â€”&gt;ã€Œå®‰å…¨è®¾ç½®ã€â€”&gt;ã€ŒSSHå…¬é’¥ã€ GitLab: ã€ŒSettingsã€â€”&gt;ã€ŒSSH Keysã€ 3. å°†ç§é’¥æ·»åŠ åˆ° GitHub ä»“åº“GitHub Repository: ã€ŒSettingsã€â€”&gt;ã€ŒSecretsã€ 4. å–æ¶ˆ GitLab ä»“åº“çš„å—ä¿æŠ¤åˆ†æ”¯ç”±äº GitLab ä»“åº“åˆ†æ”¯é»˜è®¤ä¼šå—ä¿æŠ¤ï¼Œå³æ— æ³•å¼ºåˆ¶æ¨é€ï¼Œå¦‚æœä¸å–æ¶ˆä¼šæŠ¥ä»¥ä¸‹é”™è¯¯ 1GitLab: You are not allowed to force push code to a protected branch on this project. GitLab Repository: ã€ŒSettingsã€â€”&gt;ã€ŒRepositoryã€â€”&gt;ã€ŒProtected Branchesã€ 5. é…ç½® GitHub Actionsgit bash ä¸­æ•²å…¥å‘½ä»¤ 1mkdir -p .github/workflows &amp;&amp; touch .github/workflows/mirror.yml ç”¨ VS Code æ‰“å¼€ mirror.yml æˆ–ä½¿ç”¨ vi ç¼–è¾‘ï¼Œå°†ä¸‹åˆ—å†…å®¹æ·»åŠ å…¶ä¸­ 123456789101112131415161718192021222324252627282930name: 'GitHub Actions Mirror'on: [push, delete]jobs: mirror_to_gitee: runs-on: ubuntu-latest steps: - name: 'Checkout' uses: actions/checkout@v1 - name: 'Mirror to gitee' uses: pixta-dev/repository-mirroring-action@v1 with: target_repo_url: git@gitee.com:tsund/test.git ssh_private_key: ${{ secrets.GITEE_KEY }} mirror_to_gitlab: runs-on: ubuntu-latest steps: - name: 'Checkout' uses: actions/checkout@v1 - name: 'Mirror to gitlab' uses: pixta-dev/repository-mirroring-action@v1 with: target_repo_url: git@gitlab.com:tsund/test.git ssh_private_key: ${{ secrets.GITLAB_KEY }} å…¶ä¸­ï¼Œä½¿ç”¨äº† repository-mirroring-actionï¼Œå®šä¹‰äº†ä¸¤ä¸ª jobï¼Œåˆ†åˆ«è´Ÿè´£å¤‡ä»½ Gitee å’Œ GitLab ä»“åº“ï¼Œtarget_repo_url æŒ‡æ˜ç›®æ ‡ä»“åº“çš„ ssh åœ°å€ï¼Œssh_private_key æŒ‡æ˜ GitHub ä»“åº“ä¸­ Secrets å­˜æ”¾çš„ç›®æ ‡ä»“åº“çš„ ssh ç§é’¥ é…ç½®å®Œæˆåï¼Œå‘ GitHub ä»“åº“ push æ—¶å°±ä¼šè‡ªåŠ¨å¤‡ä»½åˆ° Giteeã€GitLab å¯¹åº”çš„ä»“åº“äº†","link":"/2020/03/16/github-mirror/"},{"title":"æ­å»º Hadoop é›†ç¾¤è¯¦ç»†æ•™ç¨‹","text":"1. å‡†å¤‡å·¥ä½œ1.1 ç¯å¢ƒ Centos 7 JDK 1.8 Hadoop 2.10.0 1.2 é›†ç¾¤éƒ¨ç½²è§„åˆ’ hadoop1 hadoop2 hadoop3 HDFS NameNode SecondaryNameNode DataNode DataNode DataNode Yarn ResourceManager NodeManager NodeManager NodeManager 2. é…ç½®ä¸»èŠ‚ç‚¹2.1 åˆ›å»ºè™šæ‹Ÿæœº é€‰æ‹©æ–°å»ºè™šæ‹Ÿæœº é€‰æ‹©å…¸å‹ç±»å‹ é€‰æ‹©ç¨åå®‰è£…æ“ä½œç³»ç»Ÿ é€‰æ‹© Linuxï¼ŒCentos 7 64ä½ å‘½åè™šæ‹Ÿæœº hadoop1 ä½¿ç”¨é»˜è®¤ 20G ç£ç›˜å¤§å° ä¸ä¿®æ”¹è™šæ‹Ÿæœºç¡¬ä»¶é…ç½®ï¼Œå®Œæˆåˆ›å»ºè™šæ‹Ÿæœº é€‰æ‹©åˆ›å»ºå¥½çš„è™šæ‹Ÿæœºï¼Œç‚¹å‡»ç¼–è¾‘è™šæ‹Ÿæœº ç§»é™¤ USB æ§åˆ¶å™¨ã€å£°å¡ã€æ‰“å°æœº é€‰æ‹© CD/DVDï¼Œä½¿ç”¨ ISO æ˜ åƒæ–‡ä»¶ï¼Œé€‰æ‹© ISO æ–‡ä»¶ä½ç½® å¼€å¯å¹¶å®‰è£…è™šæ‹Ÿæœº æ—¶åŒºé€‰ Asia Shanghai éœ€åˆ›å»º root ç”¨æˆ· 2.2 é…ç½® ã€Œç¼–è¾‘ã€-&gt;ã€Œè™šæ‹Ÿç½‘ç»œç¼–è¾‘å™¨ã€-&gt;ã€ŒVMnet8ã€-&gt;ã€Œè®¾ç½® NATã€ï¼Œå¦‚ä¸‹å›¾ è™šæ‹Ÿæœºç½‘ç»œé…ç½®é€‰æ‹© NAT æ¨¡å¼ é…ç½®é™æ€ ip åˆ‡æ¢åˆ° root ç”¨æˆ· 1su root ç¼–è¾‘é…ç½®æ–‡ä»¶ 1vi /etc/sysconfig/network-scripts/ifcfg-ens32 ä¹Ÿæœ‰å¯èƒ½æ˜¯ eth0ã€ens33 ç­‰ï¼Œè·Ÿ Centos ç‰ˆæœ¬æœ‰å…³ é…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼Œå…¶ä¸­éœ€è¦ä¿®æ”¹ BOOTPROTO å­—æ®µå€¼ä¸º staticï¼›ONBOOT å­—æ®µå€¼ä¸º yesï¼Œè¡¨ç¤ºå¼€æœºå¯åŠ¨ç½‘ç»œï¼›IPADDR å­—æ®µä¸º ip åœ°å€ï¼Œéœ€ä¸ NAT å­ç½‘ ip åœ¨åŒä¸€ç½‘æ®µï¼›GATEWAY å­—æ®µä¸ºç½‘å…³ï¼Œéœ€ä¸ NAT ç½‘å…³ç›¸åŒ 12345678910111213141516171819TYPE=EthernetPROXY_METHOD=noneBROWSER_ONLY=noBOOTPROTO=staticDEFROUTE=yesIPV4_FAILURE_FATAL=noIPV6INIT=yesIPV6_AUTOCONF=yesIPV6_DEFROUTE=yesIPV6_FAILURE_FATAL=noIPV6_ADDR_GEN_MODE=stable-privacyNAME=ens32UUID=4d0b744b-8ebf-4c75-b35c-324d9f671ce6DEVICE=ens32ONBOOT=yesIPADDR=192.168.144.101GATEWAY=192.168.144.2DNS1=8.8.8.8DNS2=8.8.4.4 é‡å¯ç½‘ç»œ 1systemctl restart network æŸ¥çœ‹ ip 1ip addr å…³é—­é˜²ç«å¢™ 123systemctl stop firewalld.servicesystemctl disable firewalld.servicesystemctl status firewalld ä¿®æ”¹ hostname 1echo hadoop1 &gt; /etc/hostname ç¼–è¾‘æ–‡ä»¶ 1vi /etc/sysconfig/network å†™å…¥ä»¥ä¸‹å†…å®¹ 12NETWORKING=yes # ä½¿ç”¨ç½‘ç»œHOSTNAME=hadoop1 # è®¾ç½®ä¸»æœºå é…ç½® Host 1vi /etc/hosts è¿½åŠ ä»¥ä¸‹å†…å®¹ 123192.168.144.101 hadoop1192.168.144.102 hadoop2192.168.144.103 hadoop3 é‡å¯ 1reboot åˆ‡æ¢å›æ™®é€šç”¨æˆ· 1su shenke åˆ›å»ºå®‰è£…ç›®å½• 1sudo mkdir /opt/module ä¿®æ”¹å®‰è£…ç›®å½•æ‰€æœ‰è€… 1sudo chown shenke:shenke /opt/module 2.3 å®‰è£… JDK å°†åœ¨ /tmp ç›®å½•ä¸‹çš„ jdk-8u261-linux-x64.tar.gz è§£å‹ 1tar -zxvf jdk-8u261-linux-x64.tar.gz ç§»åŠ¨åˆ° /opt/module ç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åä¸º jdk 1mv jdk1.8.0_261 /opt/module/jdk é…ç½®ç¯å¢ƒå˜é‡ 1sudo vi /etc/profile è¿½åŠ ä»¥ä¸‹å†…å®¹ 123# JAVA_HOMEexport JAVA_HOME=/opt/module/jdkexport PATH=$PATH:$JAVA_HOME/bin ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ 1source /etc/profile éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ 1java -version 2.4 å®‰è£… Hadoop å°†åœ¨ /tmp ç›®å½•ä¸‹çš„ hadoop-2.10.0.tar.gz è§£å‹ 1tar -zxvf hadoop-2.10.0.tar.gz ç§»åŠ¨åˆ° /opt/module ç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åä¸º hadoop 1mv hadoop-2.10.0 /opt/module/hadoop é…ç½®ç¯å¢ƒå˜é‡ 1sudo vi /etc/profile è¿½åŠ ä»¥ä¸‹å†…å®¹ 1234# HADOOP_HOMEexport HADOOP_HOME=/opt/module/hadoopexport PATH=$PATH:$HADOOP_HOME/binexport PATH=$PATH:$HADOOP_HOME/sbin ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ 1source /etc/profile éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸ 1hadoop 2.5 å®‰è£…å…¶ä»–åŒ…1sudo yum install -y net-tools rsync 3. é…ç½®ä»èŠ‚ç‚¹3.1 å…‹éš†è™šæ‹Ÿæœºå…ˆå°† hadoop1 å…³æœºï¼Œã€Œå³é”®ã€-&gt;ã€Œç®¡ç†ã€-&gt;ã€Œå…‹éš†ã€ é€‰æ‹©åˆ›å»ºå®Œæ•´å…‹éš† ä¿®æ”¹è™šæ‹Ÿæœºåç§°ä¸º hadoop2 3.2 é…ç½®ç½‘ç»œå¦‚ 2.2 ä¸­ç¬¬ 3 æ­¥ï¼Œä¿®æ”¹ /etc/sysconfig/network-scripts/ifcfg-ens32 æ–‡ä»¶ä¸­çš„ IPADDR ä¸º 192.168.144.102ï¼Œå¹¶åˆ é™¤ UUID å¦‚ 2.2 ä¸­ç¬¬ 5 æ­¥ï¼Œä¿®æ”¹ hostname ä¸º hadoop2 é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œå…‹éš†ä¸€ä¸ª hadoop3 èŠ‚ç‚¹ 3.3 æµ‹è¯•å°è¯•èƒ½å¦ ping é€šå…¶ä»–èŠ‚ç‚¹ 1ping hadoop2 4. é…ç½®é›†ç¾¤4.1 è®¾ç½® SSH æ— å¯†ç ç™»å½• ç”Ÿæˆå…¬é’¥ 1ssh-keygen -t rsa åˆ†å‘å…¬é’¥ 123ssh-copy-id hadoop1ssh-copy-id hadoop2ssh-copy-id hadoop3 åœ¨ä¸‰ä¸ªèŠ‚ç‚¹ä¸Šé‡å¤ä»¥ä¸Šå‘½ä»¤ 4.2 ç¼–å†™é›†ç¾¤åˆ†å‘è„šæœ¬ xsync åœ¨ hadoop1 çš„ /home/user/bin ç›®å½•ä¸‹åˆ›å»º xsync æ–‡ä»¶ 1mkdir bin &amp;&amp; touch bin/xsync å¦‚æœæ˜¯ root ç”¨æˆ·åˆ™å¯å°†è„šæœ¬æ”¾åœ¨ /usr/local/bin ç›®å½•ä¸‹ ç¼–è¾‘è„šæœ¬ 1vi bin/xsync å†…å®¹å‚è€ƒ xsync.shï¼Œä¸»è¦æ˜¯é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®ç°æ–‡ä»¶åŒæ­¥ï¼Œå…¶ä¸­ï¼Œ-r è¡¨ç¤ºé€’å½’å¤„ç†å­ç›®å½•ï¼Œ-v è¡¨ç¤ºä»¥è¯¦ç»†æ¨¡å¼è¾“å‡ºï¼Œ-l è¡¨ç¤ºä¿ç•™è½¯é“¾æ¥ï¼Œ--delete è¡¨ç¤ºåŒæ­¥åˆ é™¤ï¼Œ--ignore-errors è¡¨ç¤ºå³ä½¿å‡ºç° IO é”™è¯¯ä¹Ÿè¿›è¡Œåˆ é™¤ 1rsync -rvl --delete --ignore-errors $directory/$file $user@$host:$directory èµ‹äºˆæ‰§è¡Œæƒé™ 1chmod 777 bin/xsync ä½¿ç”¨ 1234xsync $file# ä¾‹å¦‚xsync /home/shenke/bin 5. é…ç½®é›†ç¾¤é…ç½®æ–‡ä»¶å‡åœ¨ hadoop å®‰è£…ç›®å½•ä¸‹çš„ etc/hadoop ç›®å½•ä¸‹ 5.1 æ ¸å¿ƒé…ç½®æ–‡ä»¶ ç¼–è¾‘ core-site.xml 1vi core-site.xml åœ¨ configuration æ ‡ç­¾ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ 123456789101112131415&lt;configuration&gt; &lt;!-- æŒ‡å®š HDFS ä¸­ NameNode çš„åœ°å€ --&gt; &lt;property&gt; &lt;name&gt;fs.defaultFS&lt;/name&gt; &lt;value&gt;hdfs://hadoop1:9000&lt;/value&gt; &lt;/property&gt; &lt;!-- æŒ‡å®š Hadoop è¿è¡Œæ—¶äº§ç”Ÿæ–‡ä»¶çš„å­˜å‚¨ç›®å½• --&gt; &lt;property&gt; &lt;name&gt;hadoop.tmp.dir&lt;/name&gt; &lt;value&gt;/opt/module/hadoop/data/tmp&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; åˆ›å»ºå­˜å‚¨ç›®å½• 1mkdir -p /opt/module/hadoop/data/tmp 5.2 HDFS é…ç½®æ–‡ä»¶ é…ç½® hadoop-env.sh 1vi hadoop-env.sh åœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ ä»¥ä¸‹å†…å®¹ 1export JAVA_HOME=/opt/module/jdk é…ç½® hdfs-site.xml 1vi hdfs-site.xml åœ¨ configuration æ ‡ç­¾ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ 1234567891011121314&lt;configuration&gt; &lt;property&gt; &lt;name&gt;dfs.replication&lt;/name&gt; &lt;value&gt;3&lt;/value&gt; &lt;/property&gt; &lt;!-- æŒ‡å®š Hadoop è¾…åŠ©åç§°èŠ‚ç‚¹ä¸»æœºé…ç½® --&gt; &lt;property&gt; &lt;name&gt;dfs.namenode.secondary.http-address&lt;/name&gt; &lt;value&gt;hadoop3:50090&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; 5.3 Yarn é…ç½®æ–‡ä»¶ é…ç½® yarn-env.sh 1vi yarn-env.sh åœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ ä»¥ä¸‹å†…å®¹ 1export JAVA_HOME=/opt/module/jdk é…ç½® yarn-site.xml 1vi yarn-site.xml åœ¨ configuration æ ‡ç­¾ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ 123456789101112131415&lt;configuration&gt; &lt;!-- Reducer è·å–æ•°æ®çš„æ–¹å¼ --&gt; &lt;property&gt; &lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt; &lt;value&gt;mapreduce_shuffle&lt;/value&gt; &lt;/property&gt; &lt;!-- æŒ‡å®š YARN çš„ ResourceManager çš„åœ°å€ --&gt; &lt;property&gt; &lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt; &lt;value&gt;hadoop2&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; 5.4 MapReduce é…ç½®æ–‡ä»¶ é…ç½® mapred-env.sh 1vi mapred-env.sh åœ¨æ–‡ä»¶æœ«å°¾è¿½åŠ ä»¥ä¸‹å†…å®¹ 1export JAVA_HOME=/opt/module/jdk é…ç½® mapred-site.xml 1cp mapred-site.xml.template mapred-site.xml &amp;&amp; vi mapred-site.xml åœ¨ configuration æ ‡ç­¾ä¸­å†™å…¥ä»¥ä¸‹å†…å®¹ 123456789&lt;configuration&gt; &lt;!-- æŒ‡å®š MapReduce è¿è¡Œåœ¨ Yarn ä¸Š --&gt; &lt;property&gt; &lt;name&gt;mapreduce.framework.name&lt;/name&gt; &lt;value&gt;yarn&lt;/value&gt; &lt;/property&gt;&lt;/configuration&gt; 5.5 é…ç½® slavesç¼–è¾‘ slaves 1vi slaves å†™å…¥ä»¥ä¸‹å†…å®¹ 123hadoop1hadoop2hadoop3 5.6 åŒæ­¥é…ç½®æ–‡ä»¶1xsync /opt/module/hadoop 6. å¯åŠ¨é›†ç¾¤åœ¨ hadoop å®‰è£…ç›®å½•ä¸‹ æ ¼å¼åŒ– 1bin/hdfs namenode -format å¦‚æœéœ€è¦é‡æ–°æ ¼å¼åŒ– NameNodeï¼Œéœ€è¦å…ˆå°† data/tmp å’Œ logsä¸‹çš„æ–‡ä»¶å…¨éƒ¨åˆ é™¤ å¯åŠ¨ HDFS 1sbin/start-dfs.sh å¯åŠ¨ Yarn 1sbin/start-yarn.sh æ³¨æ„ï¼šéœ€åœ¨ ResouceManager æ‰€åœ¨èŠ‚ç‚¹å¯åŠ¨ Yarnï¼Œæœ¬ä¾‹ä¸­åœ¨ hadoop2 ä¸­å¯åŠ¨ æŸ¥çœ‹è¿›ç¨‹ 1jps æŸ¥çœ‹ web ç«¯ NameNode: hadoop1:50070 SecondaryNameNode: hadoop3:50090 åœæ­¢ HDFS 1sbin/stop-dfs.sh åœæ­¢ Yarn 1sbin/stop-yarn.sh 7. ç¼–å†™ç¾¤èµ·è„šæœ¬ å¯åŠ¨å’Œå…³é—­è„šæœ¬ åŒæ ·æ˜¯åœ¨ /home/shenke/bin ç›®å½•ä¸‹ï¼Œæ–°å»ºå¹¶ç¼–è¾‘è„šæœ¬ 1vi ~/bin/hdp å†…å®¹å‚è€ƒ hadoop.sh æŸ¥çœ‹è¿›ç¨‹è„šæœ¬ æ–°å»ºå¹¶ç¼–è¾‘è„šæœ¬ 1vi ~/bin/xcall å†…å®¹å‚è€ƒ xcall.sh 8. HDFS æµ‹è¯• ä¸Šä¼ æ–‡ä»¶ ä¸Šä¼ ä¸€ä¸ªå°æ–‡ä»¶åˆ°æ ¹ç›®å½• 1bin/hdfs dfs -put /home/shenke/bin/xsync / ä¸Šä¼ ä¸€ä¸ªå¤§æ–‡ä»¶åˆ°æ ¹ç›®å½• 1bin/hdfs dfs -put /tmp/hadoop-2.10.0.tar.gz / æŸ¥çœ‹æ–‡ä»¶å­˜å‚¨è·¯å¾„","link":"/2020/08/06/install-hadoop-cluster/"},{"title":"æ­å»º Kafka é›†ç¾¤è¯¦ç»†æ•™ç¨‹","text":"ä¸‹é¢ä»¥ æ­å»º Zookeeper é›†ç¾¤è¯¦ç»†æ•™ç¨‹ ä¸­æ­å»ºçš„ zookeeper é›†ç¾¤ä¸ºä¾‹ 1. å®‰è£… Kafka å°†åœ¨ /tmp ç›®å½•ä¸‹çš„ kafka_2.11-2.4.1.tgz è§£å‹ 1tar -zxvf kafka_2.11-2.4.1.tgz ç§»åŠ¨åˆ° /opt/module ç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åä¸º kafka 1mv kafka_2.11-2.4.1 /opt/module/kafka é…ç½®ç¯å¢ƒå˜é‡ 1sudo vi /etc/profile è¿½åŠ ä»¥ä¸‹å†…å®¹ 123# KAFKA_HOMEexport KAFKA_HOME=/opt/module/kafkaexport PATH=$PATH:$KAFKA_HOME/bin ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ 1source /etc/profile è¿˜éœ€åˆ†åˆ«åœ¨å…¶ä»–èŠ‚ç‚¹æ‰‹åŠ¨é…ç½®ç¯å¢ƒå˜é‡ 2. é…ç½®é›†ç¾¤2.1 é…ç½® server.propertiesåœ¨ Kafka å®‰è£…ç›®å½•ä¸‹ï¼Œç¼–è¾‘ config/server.properties æ–‡ä»¶ 1vi config/server.properties ä¿®æ”¹ä»¥ä¸‹å†…å®¹ 1234broker.id=0log.dirs=/opt/module/kafka/logslisteners=PLAINTEXT://hadoop1:9092zookeeper.connect=hadoop1:2181,hadoop2:2181,hadoop3:2181 æ³¨æ„ï¼šbroker.id é¡»ä¸ºå…¨å±€å”¯ä¸€çš„ int å€¼ï¼Œåœ¨æœ¬ä¾‹ä¸­ï¼Œhadoop1 ä¸º 0ï¼Œhadoop2 ä¸º 1ï¼Œhadoop3 ä¸º 2ï¼›listeners ä¹Ÿè¦ä¸æ‰€åœ¨èŠ‚ç‚¹å¯¹åº” 2.2 ä¿®æ”¹ç”Ÿäº§è€…é…ç½®æ–‡ä»¶ç¼–è¾‘ config/producer.properties 1vi config/producer.properties ä¿®æ”¹ä»¥ä¸‹å†…å®¹ 1bootstrap.servers=hadoop1:9092,hadoop2:9092,hadoop3:9092 2.3 ä¿®æ”¹æ¶ˆè´¹è€…é…ç½®æ–‡ä»¶ç¼–è¾‘ config/consumer.properties 1vi config/consumer.properties ä¿®æ”¹ä»¥ä¸‹å†…å®¹ 1bootstrap.servers=hadoop1:9092,hadoop2:9092,hadoop3:9092 2.4 åŒæ­¥æ–‡ä»¶1xsync /opt/moudle/kafka è„šæœ¬å†…å®¹å¯å‚è€ƒ xsync.sh åœ¨å…¶ä»–èŠ‚ç‚¹ä¿®æ”¹ config/server.properties ä¸­çš„ broker.id å’Œ listeners 3. å¯åŠ¨é›†ç¾¤ å¯åŠ¨ Kafka é›†ç¾¤å‰éœ€è¦å…ˆå¯åŠ¨ Zookeeper 1zookeeper start åœ¨æ¯ä¸ªèŠ‚ç‚¹åˆ†åˆ«å¯åŠ¨ Kafka 1bin/kafka-server-start.sh -daemon config/server.properties å…³é—­é›†ç¾¤ åœ¨æ¯ä¸ªèŠ‚ç‚¹åˆ†åˆ«å…³é—­ Kafka 1bin/kafka-server-stop.sh 4. ç¼–å†™ç¾¤èµ·è„šæœ¬åœ¨ /home/shenke/bin ç›®å½•ä¸‹ï¼Œæ–°å»ºå¹¶ç¼–è¾‘è„šæœ¬ 1vi ~/bin/kafka å†…å®¹å‚è€ƒ kafka.sh ä½¿ç”¨ 12345# å¼€å¯kafka start# åœæ­¢kafka stop 5. é›†ç¾¤æµ‹è¯•5.1 åˆ›å»ºä¸»é¢˜åˆ›å»ºä¸€ä¸ªå‰¯æœ¬æ•°ä¸º 1ã€åˆ†åŒºæ•°ä¸º 3ã€åä¸º test çš„ä¸»é¢˜ 1bin/kafka-topics.sh --zookeeper hadoop1:2181 --create --replication-factor 1 --partitions 3 --topic test 5.2 æŸ¥çœ‹ä¸»é¢˜ åˆ—å‡ºæ‰€æœ‰ä¸»é¢˜ 1bin/kafka-topics.sh --zookeeper hadoop1:2181 --list æŸ¥çœ‹æŸä¸ªä¸»é¢˜çš„è¯¦æƒ… 1bin/kafka-topics.sh --zookeeper hadoop1:2181 --describe --topic test 5.3 åˆ é™¤ä¸»é¢˜1bin/kafka-topics.sh --zookeeper hadoop1:2181 --delete --topic test 5.4 ç”Ÿäº§æ¶ˆæ¯åœ¨ hadoop1 ä¸­ç”Ÿäº§æ¶ˆæ¯ 1bin/kafka-console-producer.sh --broker-list hadoop1:9092 --topic test 5.5 æ¶ˆè´¹æ¶ˆæ¯åœ¨ hadoop2 ä¸­æ¶ˆè´¹æ¶ˆæ¯ 1bin/kafka-console-consumer.sh --bootstrap-server hadoop2:9092 --topic test","link":"/2020/08/07/install-kafka-cluster/"},{"title":"æ­å»º Zookeeper é›†ç¾¤è¯¦ç»†æ•™ç¨‹","text":"ä¸‹é¢ä»¥ æ­å»º Hadoop é›†ç¾¤è¯¦ç»†æ•™ç¨‹ ä¸­æ­å»ºçš„ hadoop é›†ç¾¤ä¸ºä¾‹ 1. å®‰è£… Zookeeper å°†åœ¨ /tmp ç›®å½•ä¸‹çš„ zookeeper-3.4.14.tar.gz è§£å‹ 1tar -zxvf zookeeper-3.4.14.tar.gz ç§»åŠ¨åˆ° /opt/module ç›®å½•ä¸‹ï¼Œå¹¶é‡å‘½åä¸º zookeeper 1mv zookeeper-3.4.14 /opt/module/zookeeper é…ç½®ç¯å¢ƒå˜é‡ 1sudo vi /etc/profile è¿½åŠ ä»¥ä¸‹å†…å®¹ 123# ZK_HOMEexport ZK_HOME=/opt/module/zookeeperexport PATH=$PATH:$ZK_HOME/bin ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ 1source /etc/profile è¿˜éœ€åˆ†åˆ«åœ¨å…¶ä»–èŠ‚ç‚¹æ‰‹åŠ¨é…ç½®ç¯å¢ƒå˜é‡ 2. é…ç½®é›†ç¾¤2.1 é…ç½®èŠ‚ç‚¹ç¼–å· åœ¨ Zookeeper å®‰è£…ç›®å½•ä¸‹åˆ›å»º data ç›®å½•ï¼Œå¹¶åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»º myid æ–‡ä»¶ 1mkdir data &amp;&amp; touch data/myid åœ¨ myid ä¸­å¡«å†™ä¸èŠ‚ç‚¹å¯¹åº”çš„ç¼–å· 1echo 1 &gt; data/myid 2.2 é…ç½® zoo.cfg æ–‡ä»¶ é‡å‘½å conf ç›®å½•ä¸‹çš„ zoo_sample.cfg ä¸º zoo.cfg 1mv conf/zoo_sample.cfg conf/zoo.cfg ç¼–è¾‘æ–‡ä»¶ 1vi conf/zoo.cfg ä¿®æ”¹æ•°æ®å­˜å‚¨è·¯å¾„é…ç½® 1dataDir=/opt/module/zookeeper/data è¿½åŠ ä»¥ä¸‹å†…å®¹ 123server.1=hadoop1:2888:3888server.2=hadoop2:2888:3888server.3=hadoop3:2888:3888 2.3 åŒæ­¥æ–‡ä»¶1xsync /opt/moudle/zookeeper è„šæœ¬å†…å®¹å¯å‚è€ƒ xsync.sh åœ¨å…¶ä»–èŠ‚ç‚¹ä¿®æ”¹ myid ä¸èŠ‚ç‚¹å¯¹åº”ï¼Œå¦‚æœ¬ä¾‹ä¸­ï¼Œhadoop1 ä¸º 1ï¼Œhadoop2 ä¸º 2ï¼Œhadoop3 ä¸º 3 1echo 2 &gt; data/myid 3. å¯åŠ¨é›†ç¾¤åœ¨å„ä¸ªèŠ‚ç‚¹åˆ†åˆ«å¯åŠ¨ Zookeeper 1bin/zkServer.sh start æŸ¥çœ‹çŠ¶æ€ 1bin/zkServer.sh status åœæ­¢ Zookeeper 1bin/zkServer.sh stop å¦‚æœé…ç½®äº†ç¯å¢ƒå˜é‡çš„è¯ï¼Œåœ¨ä»»æ„ä½ç½®ä½¿ç”¨ zkServer.sh COMMAND å³å¯ 4. ç¼–å†™ç¾¤èµ·è„šæœ¬åœ¨ /home/shenke/bin ç›®å½•ä¸‹ï¼Œæ–°å»ºå¹¶ç¼–è¾‘è„šæœ¬ 1vi ~/bin/zookeeper å†…å®¹å‚è€ƒ zookeeper.sh ä½¿ç”¨ 12345678# å¼€å¯zookeeper start# åœæ­¢zookeeper stop# æŸ¥çœ‹çŠ¶æ€zookeeper status","link":"/2020/08/07/install-zookeeper-cluster/"},{"title":"çŸ¥è¯†å›¾è°± KBQA Demoï¼šfuseki sparql python ç‰ˆæœ¬é—®é¢˜è¯¦ç»†è§£å†³æ–¹æ¡ˆ","text":"åˆšå…¥å‘çŸ¥è¯†å›¾è°±ï¼Œçœ‹äº†ä¸€ä½å¤§ç¥çš„æ•™ç¨‹ï¼Œä½†æ˜¯ç”±äº jenaã€fusekiã€python ç­‰ç‰ˆæœ¬ä¸åŒï¼Œè¸©äº†ä¸å°‘å‘ï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹ æœ¬æ–‡ä¸åšå…·ä½“çŸ¥è¯†çš„è®²è§£ï¼ˆå…·ä½“çŸ¥è¯†å¯ç§»æ­¥ https://zhuanlan.zhihu.com/knowledgegraphï¼‰ï¼Œä»…ç½—åˆ—å®è·µè¿‡ç¨‹ä¸­é‡åˆ°çš„å‘åŠè§£å†³æ–¹æ¡ˆ ä»¥ä¸‹å†…å®¹å¤§å¤šä»æ•™ç¨‹ä¸‹é¢å‡ ç™¾æ¡è¯„è®ºä¸­æç‚¼æ€»ç»“è€Œæ¥ ç¯å¢ƒç‰ˆæœ¬ jena ï¼š3.14.0 fuseki ï¼š3.14.0 jdk ï¼š1.8.0_201 python ï¼š3.7.6 anaconda ï¼š4.8.2 å…·ä½“é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ1. é€šè¿‡ D2RQ ç”Ÿæˆ mapping æ–‡ä»¶æ­¤æ—¶é¡»æ‰“å¼€ MySQL æœåŠ¡ï¼Œè¿›å…¥ D2RQ ç›®å½• 1generate-mapping -u root -p å¯†ç  -o kg_demo_movie_mapping.ttl jdbc:mysql:///kg_demo_movie?useSSL=false -u ï¼šæŒ‡å®š mysql ç”¨æˆ·å -p ï¼šæŒ‡å®šç”¨æˆ·å¯†ç  -o ï¼šæŒ‡å®šè¾“å‡ºæ–‡ä»¶è·¯å¾„åŠåç§° jdbc:mysql:/// åé¢æŒ‡å®š mysql ä¸­çš„æ•°æ®åº“åç§° å¯¹äºåšä¸»çš„ kg_demo_movie é¡¹ç›®ï¼Œmapping æ–‡ä»¶ç”Ÿæˆåè¿˜éœ€è¦ä¿®æ”¹ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨åšä¸» GitHub ä»“åº“ä¸­çš„ mapping æ–‡ä»¶å³å¯ 2. é€šè¿‡ D2RQ å°†æ•°æ®è½¬ä¸º RDFåŒæ ·éœ€è¦æ‰“å¼€ MySQL æœåŠ¡ï¼Œåœ¨ D2RQ ç›®å½•ä¸‹ 1.\\dump-rdf.bat -o kg_demo_movie.nt .\\kg_demo_movie_mapping.ttl 3. æ·»åŠ ç¯å¢ƒå˜é‡åœ¨ç³»ç»Ÿå˜é‡ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹å˜é‡ JENA_HOME ï¼šjena å‹ç¼©åŒ…çš„è§£å‹ä½ç½®ï¼Œä¾‹å¦‚ D:\\apache-jena FUSEKI_HOME ï¼šfuseki å‹ç¼©åŒ…çš„è§£å‹ä½ç½®ï¼Œä¾‹å¦‚ D:\\apache-jena\\apache-jena-fuseki åœ¨ç³»ç»Ÿå˜é‡ä¸­ï¼Œè¿½åŠ ä»¥ä¸‹å˜é‡ CLASSPATH ï¼šè¿½åŠ  %JENA_HOME%\\lib path ï¼šæ·»åŠ  %JENA_HOME%\\binã€%JENA_HOME%\\batã€%FUSEKI_HOME% 4. é€šè¿‡ Jena å°† RDF æ•°æ®ä»¥ TDB æ–¹å¼å­˜å‚¨å­˜æ”¾åœ¨ jena çš„ tdb ç›®å½•ä¸‹ 1.\\tdbloader.bat --loc=&quot;D:\\apache-jena\\tdb&quot; &quot;D:\\D2RQ\\kg_demo_movie.nt&quot; 5. ä½¿ç”¨ OWL æ¨ç†æœºæ³¨æ„ï¼šåšä¸»ç”¨çš„ fuseki 3.5 ç‰ˆæœ¬ï¼Œå…¶ä¸­ä¸å°‘è¯­æ³•åœ¨ 3.14 ç‰ˆæœ¬ä¸­å·²ç»æœ‰æ‰€æ”¹åŠ¨ï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨ä¸‹é¢çš„é…ç½®æ–‡ä»¶ï¼Œåªéœ€ä¿®æ”¹å…¶ä¸­æœ¬ä½“æ–‡ä»¶åŠ TDB çš„è·¯å¾„å³å¯ 123456789101112131415161718192021222324252627282930313233343536373839@prefix : &lt;http://base/#&gt; .@prefix tdb: &lt;http://jena.hpl.hp.com/2008/tdb#&gt; .@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .@prefix ja: &lt;http://jena.hpl.hp.com/2005/11/Assembler#&gt; .@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .@prefix fuseki: &lt;http://jena.apache.org/fuseki#&gt; .&lt;#service1&gt; rdf:type fuseki:Service ; fuseki:name &quot;kg_demo_movie&quot; ; fuseki:serviceQuery &quot;sparql&quot; ; fuseki:serviceQuery &quot;query&quot; ; fuseki:serviceUpdate &quot;update&quot; ; fuseki:serviceUpload &quot;upload&quot; ; fuseki:serviceReadWriteGraphStore &quot;data&quot; ; fuseki:serviceReadGraphStore &quot;get&quot; ; fuseki:dataset &lt;#dataset&gt; ; .&lt;#dataset&gt; rdf:type ja:RDFDataset ; ja:defaultGraph &lt;#model_inf&gt; ; .&lt;#model_inf&gt; rdf:type ja:InfModel ; ja:MemoryModel &lt;#tdbGraph&gt; ; #æœ¬ä½“æ–‡ä»¶çš„è·¯å¾„ ja:content [ja:externalContent &lt;file:///D:/apache-jena/apache-jena-fuseki/run/databases/ontology.ttl&gt; ] ; #å¯ç”¨OWLæ¨ç†æœº ja:reasoner [ja:reasonerURL &lt;http://jena.hpl.hp.com/2003/OWLFBRuleReasoner&gt;] .&lt;#tdbGraph&gt; rdf:type tdb:GraphTDB ; tdb:dataset &lt;#tdbDataset&gt; ; .&lt;#tdbDataset&gt; rdf:type tdb:DatasetTDB ; tdb:location &quot;D:/apache-jena/tdb&quot; ; . æ³¨æ„ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶åï¼Œè¿˜éœ€è¦å°† RDF æ•°æ®ï¼ˆå³ .nt æ–‡ä»¶ï¼‰ä¸Šä¼ åˆ° fuseki ä¸­ï¼Œå¦‚å›¾ï¼ˆè¿™ä¸ªå‘çœŸçš„å¡«äº†å¥½ä¹… Â·Â·Â·ï¼‰ 6. è‡ªå®šä¹‰æ¨å¯¼è§„åˆ™æ³¨æ„ï¼šrules.ttl æ–‡ä»¶ä¸­éœ€è¦ç”¨é€—å·éš”å¼€ï¼Œå¦‚ä¸‹ 12345678@prefix : &lt;http://www.kgdemo.com#&gt; .@prefix owl: &lt;http://www.w3.org/2002/07/owl#&gt; .@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .[ruleComedian: (?p :hasActedIn ?m), (?m :hasGenre ?g), (?g :genreName 'å–œå‰§') -&gt; (?p rdf:type :Comedian)][ruleSymmetric: (?p :hasActedIn ?m) -&gt; (?m :hasActor ?p)] 7. è¿è¡Œæœ€ç»ˆ Demoæ³¨æ„ï¼šåšä¸»ä½¿ç”¨çš„æ˜¯ python2ï¼Œå…¶ä¸­è®¸å¤šè¯­æ³•åœ¨ python3 ä¸­ä¹Ÿæœ‰æ‰€æ”¹åŠ¨ï¼Œä¿®æ”¹æ–¹æ³•å¦‚ä¸‹ æ‰€æœ‰çš„ .decode('utf-8')ã€.encode('utf-8') å…¨éƒ¨åˆ æ‰ï¼Œå³å…¨éƒ¨æ›¿æ¢ä¸º '' æ‰€æœ‰çš„ iteritems() æ›¿æ¢ä¸º items() æ‰€æœ‰çš„ print content æ›¿æ¢ä¸º print(content)ï¼Œprint æ›¿æ¢ä¸º print('\\n') æ‰€æœ‰çš„ raw_input() æ›¿æ¢ä¸º input() question2sparql.py æ–‡ä»¶ä¸­ç¬¬ 44 è¡Œ return queries_dict.values()[0] æ”¹ä¸º return list(queries_dict.values())[0] é™„ PyCharm å…¨å±€æ›¿æ¢çš„æ–¹æ³•ï¼Œå¦‚å›¾ æœ€ç»ˆæ•ˆæœ","link":"/2020/02/20/kg-demo/"},{"title":"[LeetCode] åŠ¨æ€è§„åˆ’â€”â€”ä¸åŒçš„å­åºåˆ—","text":"é¢˜ç›®æè¿°ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s å’Œä¸€ä¸ªå­—ç¬¦ä¸² t ï¼Œè®¡ç®—åœ¨ s çš„å­åºåˆ—ä¸­ t å‡ºç°çš„ä¸ªæ•° å­—ç¬¦ä¸²çš„ä¸€ä¸ª å­åºåˆ— æ˜¯æŒ‡ï¼Œé€šè¿‡åˆ é™¤ä¸€äº›ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰å­—ç¬¦ä¸”ä¸å¹²æ‰°å‰©ä½™å­—ç¬¦ç›¸å¯¹ä½ç½®æ‰€ç»„æˆçš„æ–°å­—ç¬¦ä¸²ã€‚ï¼ˆä¾‹å¦‚ï¼Œâ€ACEâ€ æ˜¯ â€œABCDEâ€ çš„ä¸€ä¸ªå­åºåˆ—ï¼Œè€Œ â€œAECâ€ ä¸æ˜¯ï¼‰ é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆç¬¦åˆ 32 ä½å¸¦ç¬¦å·æ•´æ•°èŒƒå›´ æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/distinct-subsequencesè‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ ç¤ºä¾‹ç¤ºä¾‹ 1ï¼š 1234567891011è¾“å…¥ï¼šs = &quot;rabbbit&quot;, t = &quot;rabbit&quot;è¾“å‡ºï¼š3è§£é‡Šï¼šå¦‚ä¸‹å›¾æ‰€ç¤º, æœ‰ 3 ç§å¯ä»¥ä» s ä¸­å¾—åˆ° &quot;rabbit&quot; çš„æ–¹æ¡ˆã€‚(ä¸Šç®­å¤´ç¬¦å· ^ è¡¨ç¤ºé€‰å–çš„å­—æ¯)rabbbit^^^^ ^^rabbbit^^ ^^^^rabbbit^^^ ^^^ ç¤ºä¾‹ 2ï¼š 123456789101112131415è¾“å…¥ï¼šs = &quot;babgbag&quot;, t = &quot;bag&quot;è¾“å‡ºï¼š5è§£é‡Šï¼šå¦‚ä¸‹å›¾æ‰€ç¤º, æœ‰ 5 ç§å¯ä»¥ä» s ä¸­å¾—åˆ° &quot;bag&quot; çš„æ–¹æ¡ˆã€‚ (ä¸Šç®­å¤´ç¬¦å· ^ è¡¨ç¤ºé€‰å–çš„å­—æ¯)babgbag^^ ^babgbag^^ ^babgbag^ ^^babgbag ^ ^^babgbag ^^^ æç¤º 0 &lt;= s.length, t.length &lt;= 1000 s å’Œ t ç”±è‹±æ–‡å­—æ¯ç»„æˆ è§£é¢˜æ€è·¯ç²¾é€‰è¯„è®º1ã€ä¸ºå•¥çŠ¶æ€æ–¹ç¨‹è¿™æ ·å¯¹ï¼Ÿ æˆ‘ä¸ªäººä¹ æƒ¯ dp[i][j] è¡¨ç¤ºä¸º s[0-i] å’Œ t[0-j] å‡é—­åŒºé—´çš„å­åºåˆ—ä¸ªæ•°ï¼Œä½†è¿™æ ·ä¸èƒ½è¡¨ç¤ºså’Œtç©ºä¸²çš„æƒ…å†µï¼Œæ‰€ä»¥å£°æ˜ int[][] dp = new int[m + 1][n + 1]; è¿™æ · dp[0][x] å¯ä»¥è¡¨ç¤º s ä¸ºç©ºä¸²ï¼Œdp[x][0] åŒç† å…ˆä¸æ‰£åˆå§‹åŒ–çš„ç»†èŠ‚ï¼Œå‡è®¾ dp[i][j] å°±æ˜¯s[i] å’Œ t[j] ç´¢å¼•çš„å…ƒç´ å­åºåˆ—æ•°é‡ï¼Œä¸ºå•¥çŠ¶æ€æ–¹ç¨‹æ˜¯ï¼š s[i] == t[j] æ—¶ dp[i][j] = dp[i-1][j-1] + dp[i-1][j]s[i] != t[j] æ—¶ dp[i][j] = dp[i-1][j] å…ˆçœ‹s[i] == t[j] æ—¶ï¼Œä»¥ s = â€œraraâ€ï¼Œt = â€œraâ€ ä¸ºä¾‹ï¼Œå½“ i = 3, j = 1 æ—¶ï¼Œs[i] == t[j]ï¼Œæ­¤æ—¶åˆ†ä¸º 2 ç§æƒ…å†µï¼Œs ä¸²ç”¨æœ€åä¸€ä½çš„ a æˆ–è€… ä¸ç”¨æœ€åä¸€ä½çš„ aï¼Œå¦‚æœç”¨ s ä¸²æœ€åä¸€ä½çš„ a,é‚£ä¹ˆ t ä¸²æœ€åä¸€ä½çš„ a ä¹Ÿè¢«æ¶ˆè€—æ‰ï¼Œæ­¤æ—¶çš„å­åºåˆ—å…¶å®ç­‰äº dp[i-1][j-1] å¦‚æœä¸ç”¨ s ä¸²æœ€åä¸€ä½çš„ aï¼Œé‚£å°±å¾—çœ‹ â€œrarâ€ é‡Œé¢æ˜¯å¦æœ‰ â€œraâ€ å­åºåˆ—çš„äº†ï¼Œå°±æ˜¯ dp[i-1][j]ï¼Œæ‰€ä»¥ dp[i][j] = dp[i-1][j-1] + dp[i-1][j] å†çœ‹s[i] != t[j] æ¯”å¦‚ s = â€œrarbâ€ï¼Œt = â€œraâ€ è¿˜æ˜¯å½“ i = 3, j = 1 æ—¶ï¼Œs[i] != t[j]ï¼Œæ­¤æ—¶æ˜¾ç„¶æœ€åçš„ b æƒ³ç”¨ä¹Ÿç”¨ä¸ä¸Šå•Šã€‚æ‰€ä»¥åªèƒ½æŒ‡æœ›å‰é¢çš„ â€œrarâ€ é‡Œé¢æ˜¯å¦æœ‰èƒ½åŒ¹é… â€œraâ€ çš„ï¼Œæ‰€ä»¥æ­¤æ—¶dp[i][j] = dp[i-1][j] 2ï¼šæ€ä¹ˆæƒ³åˆ°è¿™æ ·çš„çŠ¶æ€æ–¹ç¨‹ï¼Ÿ ä¸€ç‚¹ä¸ªäººç»éªŒï¼Œè§è¿‡çš„å¾ˆå¤š 2 ä¸ªä¸²çš„é¢˜ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ dp[i][j] åˆ†åˆ«è¡¨ç¤º s ä¸²[0â€¦i] å’Œ t ä¸²[0â€¦j] æ€ä¹ˆæ€ä¹ˆæ · ç„¶åéƒ½æ˜¯è§‚å¯Ÿ s[i] å’Œ t[j] åˆ†ç­‰æˆ–è€…ä¸ç­‰çš„æƒ…å†µï¼Œè€Œä¸”æ–¹ç¨‹é€šå¸¸å°±æ˜¯ dp[i-1][j-1] è¦ä¹ˆ + è¦ä¹ˆ || dp[i-1][j] ç±»ä¼¼çš„ ç±»ä¼¼çš„é¢˜æ¯”å¦‚æœ‰ 10ï¼šæ­£åˆ™è¡¨è¾¾å¼åŒ¹é… 44ï¼šé€šé…ç¬¦åŒ¹é… ç¼–è¾‘è·ç¦» 1143ï¼šæœ€é•¿å…¬å…±å­åºåˆ— ä»¥ä¸Šå†…å®¹æ‘˜å½•è‡ªè¯„è®º ä¸ªäººæ€è€ƒdp[i][j] è¡¨ç¤º s[0-i) çš„å­åºåˆ—ä¸­ t[0-j) çš„æ•°é‡ï¼Œå› æ­¤ç­”æ¡ˆå°±æ˜¯ dp[m][n] è¦æƒ³å¾—å‡ºçŠ¶æ€ dp[i][j]ï¼Œå°±éœ€è¦è€ƒè™‘ä»€ä¹ˆæƒ…å†µä¸‹å¯ä»¥ä»ä¹‹å‰çš„çŠ¶æ€è½¬ç§»è€Œæ¥ï¼Œä¹‹å‰çš„çŠ¶æ€ç›¸å½“äºæ˜¯ s[0-i) çš„å­ä¸²çš„å­åºåˆ—ä¸­ t[0-j) çš„å­ä¸²çš„æ•°é‡ï¼ŒåŒ…æ‹¬ dp[i - 1][j - 1], dp[i - 1][j], dp[i][j - 1] å› æ­¤ä¸å½“å‰ s[0-i) å’Œ t[0-j) çš„æœ€åä¸€ä¸ªå­—ç¬¦æ˜¯å¦ç›¸ç­‰æœ‰å…³ï¼Œè‹¥ç›¸ç­‰ï¼Œåˆ™å¯ä»¥è€ƒè™‘ä»ä¹‹å‰çš„çŠ¶æ€è½¬ç§»è¿‡æ¥ è‹¥ s[i - 1] == t[j - 1]ï¼Œåˆ™ dp[i][j] = dp[i - 1][j - 1]ï¼Œä½†æ˜¯ï¼Œä¸Šå¼åªè€ƒè™‘äº† dp[i - 1][j - 1]ï¼Œæœªè€ƒè™‘ dp[i - 1][j] å’Œ dp[i][j - 1] ä»¥ç¤ºä¾‹ä¸­çš„ s = â€œrabbbitâ€ï¼Œt = â€œrabbitâ€ ä¸ºä¾‹ï¼Œå½“ s = â€œrabbâ€, t = â€œrabâ€ æ—¶ï¼Œæ—¢å¯ä»¥ä» s = â€œrabâ€ ä¸­æœç´¢ t = â€œraâ€ ï¼Œä¹Ÿå¯ä»¥ä» s = â€œrabâ€ ä¸­æœç´¢ t = â€œrabâ€ è€Œå¯¹äºå­çŠ¶æ€ dp[i][j - 1]ï¼Œå°½ç®¡ä¸¤å­ä¸²æœ€åä¸€ä¸ªå­—ç¬¦å·²ç»ç›¸ç­‰ï¼Œä½†æ˜¯æ¶ˆè€—æ‰ t[j] çš„åŒæ—¶ä¹Ÿå¿…é¡»æ¶ˆè€—æ‰ s[j]ï¼Œè¿™æ ·æ‰èƒ½ä¿è¯ è‹¥ s[i - 1] ï¼= t[j - 1]ï¼Œæ˜¾ç„¶ï¼Œdp[i][j] = dp[i - 1][j] ä»£ç github.com/shink/LeetCode 1234567891011121314151617181920public int numDistinct(String s, String t) { int m = s.length(), n = t.length(); int[][] dp = new int[m + 1][n + 1]; for (int i = 0; i &lt;= m; i++) { dp[i][0] = 1; } for (int i = 0; i &lt; m; i++) { for (int j = 0; j &lt;= i &amp;&amp; j &lt; n; j++) { if (s.charAt(i) == t.charAt(j)) { dp[i + 1][j + 1] = dp[i][j] + dp[i][j + 1]; } else { dp[i + 1][j + 1] = dp[i][j + 1]; } } } return dp[m][n];}","link":"/2021/03/17/leetcode-distinct-subsequences/"},{"title":"Markdown è¯­æ³•ä¹‹æ•°å­¦å…¬å¼","text":"æ³¨ï¼šVS Codeä¸­éœ€å®‰è£…æ’ä»¶ï¼Œå¦‚ Markdown All in One 1. ä½¿ç”¨ $ åŒ…è£¹å…¬å¼ä½¿ç”¨ $$æˆ–$$$ åŒ…è£¹å…¬å¼ï¼Œè¢«åŒ…è£¹çš„å†…å®¹ä¼šå…¨éƒ¨å±•ç¤ºä¸º LaTex å…¬å¼ï¼ˆä½¿ç”¨ $$$$ åŒ…è£¹çš„å…¬å¼ä¼šç‹¬å ä¸€è¡Œä¸”æ°´å¹³å±…ä¸­ï¼‰ å°è´´å£«ï¼šå­—ä½“æ§åˆ¶ï¼Œå¯ä»¥ä½¿å…¬å¼æ›´åŠ ç¾è§‚ï¼Œç¬¦å·ï¼š\\displaystyle ä¸ä½¿ç”¨å­—ä½“æ§åˆ¶çš„æƒ…å†µï¼š$\\frac{x+y}{y+z}$ï¼Œæ•ˆæœï¼š$\\frac{x+y}{y+z}$ ä½¿ç”¨å­—ä½“æ§åˆ¶çš„æƒ…å†µï¼š$\\displaystyle \\frac{x+y}{y+z}$ï¼Œæ•ˆæœï¼š$\\displaystyle \\frac{x+y}{y+z}$ 2. æ‹¬å·ã€åˆ†éš”ç¬¦ ä¸‹åˆ’çº¿ï¼Œç¬¦å·ï¼š\\underline æˆ– &lt;u&gt;&lt;/u&gt;å¦‚ï¼š$\\underline{x + y + z}$ï¼Œæ•ˆæœï¼š$\\underline{x + y + z}$ ä¸Šå¤§æ‹¬å·ï¼Œç¬¦å·ï¼š\\overbrace{ç®—å¼}å¦‚ï¼š$\\overbrace{a+b+c+d}^{2.0}$ï¼Œæ•ˆæœï¼š$\\overbrace{a+b+c+d}^{2.0}$ ä¸‹å¤§æ‹¬å·ï¼Œç¬¦å·ï¼š\\underbrace{ç®—å¼}å¦‚ï¼š$a+\\underbrace{b+c}{1.0}+d$ï¼Œæ•ˆæœï¼š$a+\\underbrace{b+c}{1.0}+d$ ä¸Šä½ç¬¦å·ï¼Œç¬¦å·ï¼š\\stacrel{ä¸Šä½ç¬¦å·}{åŸºä½ç¬¦å·}å¦‚ï¼š$\\vec{x}\\stackrel{\\mathrm{def}}{=}{x_1,\\cdots,x_n}$ï¼Œæ•ˆæœï¼š$\\vec{x}\\stackrel{\\mathrm{def}}{=}{x_1,\\cdots,x_n}$ è‡ªé€‚åº”æ‹¬å·ï¼Œç¬¦å·ï¼š\\leftç¬¦å· å†…å®¹ \\rightç¬¦å·åœ¨é…å¯¹ç¬¦å·ä¸­å¯ä»¥è®©æ‹¬å·è‡ªåŠ¨é€‚åº”å…¬å¼çš„é«˜åº¦ï¼Œå¦‚ï¼š$\\displaystyle \\left( \\frac{x}{2} \\right)$ï¼Œæ•ˆæœï¼š$\\displaystyle \\left( \\frac{x}{2} \\right)$ å¦ï¼šåœ¨éé…å¯¹ç¬¦å·ä¸­ï¼Œä½¿ç”¨ \\left. å†…å®¹ \\rightç¬¦å· æˆ– \\leftç¬¦å· å†…å®¹ \\right.ï¼ˆæ³¨æ„ï¼šæœ‰ä¸ª . ï¼‰ å¦‚ï¼š$\\displaystyle \\left. \\frac{du}{dx} \\right|{x=0}$ï¼Œæ•ˆæœï¼š$\\displaystyle \\left. \\frac{du}{dx} \\right|{x=0}$ 3. å…¬å¼ç¼–å·æ³¨æ„ï¼šéœ€ç¼–å·çš„å…¬å¼å¿…é¡»ç‹¬å ä¸€è¡Œä¸”å±…ä¸­ï¼Œå³ å¿…é¡»ä½¿ç”¨ $$$$ ç¬¦å· å¸¸ç”¨ \\tag{ç¼–å·} æˆ– \\tag*{ç¼–å·} ç¼–å· è¯´æ˜ \\tag{ç¼–å·} å…¬å¼å®åŒ…åºå·è®¾ç½®å‘½ä»¤ï¼Œå¯ç”¨äºå¸¦æ˜Ÿå·å…¬å¼ç¯å¢ƒä¸­çš„å…¬å¼è¡Œ \\tag*{ç¼–å·} ä½œç”¨ä¸ \\tag ç›¸åŒï¼Œåªæ˜¯æ ‡å·ä¸¤ä¾§ æ²¡æœ‰åœ†æ‹¬å· ä¾‹å¦‚ï¼š $$ x^2+y^2=z^2 \\tag{$1.1$} $$ $$ x^2+y^2=z^2 \\tag*{$1.2$} $$ æ•ˆæœï¼š x^2+y^2=z^2 \\tag{$1.1$}x^2+y^2=z^2 \\tag*{$1.2$}4. å˜é‡è¡¨ç¤º æè¿° ç¬¦å· è¡¨è¾¾å¼ ä¸Šæ ‡ $x^2$ x^2 ä¸‹æ ‡ $y_4$ y_4 çŸ¢é‡ $\\vec{a}$ \\vec{a} $\\hat{a}$ \\hat{a} $\\check{a}$ \\check{a} $\\breve{a}$ \\breve{a} $\\tilde{a}$ \\tilde{a} $\\bar{a}$ \\bar{a} $\\acute{a}$ \\acute{a} $\\mathring{a}$ \\mathring{a} 5. å…¶ä»–å¸¸ç”¨ç¬¦å· æè¿° ç¬¦å· è¡¨è¾¾å¼ æ— ç©· $\\infty$ \\infty ä¸Šç®­å¤´ $\\uparrow$ \\uparrow åŠ ç²—ä¸Šç®­å¤´ $\\Uparrow$ \\Uparrow ä¸‹ç®­å¤´ $\\downarrow$ \\downarrow åŠ ç²—ä¸‹ç®­å¤´ $\\Downarrow$ \\Downarrow å·¦ç®­å¤´ $\\leftarrow$ \\leftarrow åŠ ç²—å·¦ç®­å¤´ $\\Leftarrow$ \\Leftarrow å³ç®­å¤´ $\\rightarrow$ \\rightarrow åŠ ç²—å³ç®­å¤´ $\\Rightarrow$ \\Rightarrow åº•ç«¯å¯¹é½çš„çœç•¥å· $1,2,\\ldots,n$ \\ldots ä¸­çº¿å¯¹é½çš„çœç•¥å· $1 + 2 + \\cdots + n$ \\cdots ç«–ç›´å¯¹é½çš„çœç•¥å· $\\vdots$ \\vdots æ–œå¯¹é½çš„çœç•¥å· $\\ddots$ \\ddots 6. æ•°å­¦è¿ç®— é™¤æ³•è¿ç®—ï¼ˆåˆ†æ•°è¡¨ç¤ºï¼‰ï¼Œç¬¦å·ï¼š\\frac{åˆ†å­}{åˆ†æ¯} æˆ– åˆ†å­ \\over åˆ†æ¯å¦‚ï¼š$\\frac{1-x}{y+1}$ æˆ– $x \\over x+y$ï¼Œæ•ˆæœï¼š$\\frac{1-x}{y+1}$ æˆ– $x \\over x+y$ å¹³å‡æ•°è¿ç®—ï¼Œç¬¦å·ï¼š\\overline{ç®—å¼}å¦‚ï¼š$\\overline{x + y + z}$ï¼Œæ•ˆæœï¼š$\\overline{x + y + z}$ å¼€æ–¹è¿ç®—ï¼Œç¬¦å·ï¼š\\sqrt[å¼€æ–¹æ•°]{è¢«å¼€æ–¹æ•°} ï¼ˆå¼€äºŒæ¬¡æ–¹å¯ç›´æ¥ä½¿ç”¨ \\sqrt è¢«å¼€æ–¹æ•° ï¼‰å¦‚ï¼š$\\sqrt x$ï¼Œæ•ˆæœï¼š$\\sqrt x$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$\\sqrt[3] y$ï¼Œæ•ˆæœï¼š$\\sqrt[3] y$ å¯¹æ•°è¿ç®—ï¼Œç¬¦å·ï¼š\\log_ä½æ•°{çœŸæ•°}å¦‚ï¼š$\\log_5{8}$ï¼Œæ•ˆæœï¼š$\\log_5{8}$ æé™è¿ç®—ï¼Œç¬¦å·ï¼š\\limå¦‚ï¼š$\\lim{x \\to +\\infty}{\\frac{1}{x}}$ï¼Œæ•ˆæœï¼š$\\lim{x \\to +\\infty}{\\frac{1}{x}}$ å»ºè®®æ­é… \\displaystyle ä½¿ç”¨ï¼š$\\displaystyle \\lim{x \\to +\\infty}{\\frac{1}{x}}$ï¼Œæ•ˆæœï¼š$\\displaystyle \\lim{x \\to +\\infty}{\\frac{1}{x}}$ æ±‚å’Œè¿ç®—ï¼Œç¬¦å·ï¼š\\sumå¦‚ï¼š$\\sum^{+\\infty}{i = 1}{\\frac{1}{i}}$ï¼Œæ•ˆæœï¼š$\\sum^{+\\infty}{i = 1}{\\frac{1}{i}}$ å»ºè®®æ­é… \\displaystyle ä½¿ç”¨ï¼š$\\displaystyle \\sum^{+\\infty}{i = 1}{\\frac{1}{i}}$ï¼Œæ•ˆæœï¼š$\\displaystyle \\sum^{+\\infty}{i = 1}{\\frac{1}{i}}$ ç§¯åˆ†è¿ç®—ï¼Œç¬¦å·ï¼š\\int ç§¯åˆ† ç¬¦å· è¡¨è¾¾å¼ å®šç§¯åˆ† $\\int$ \\int äºŒé‡ç§¯åˆ† $\\iint$ \\iint ä¸‰é‡ç§¯åˆ† $\\iiint$ \\iiint æ›²çº¿ç§¯åˆ† $\\oint$ \\oint æ›²é¢ç§¯åˆ† $\\oiint$ \\oiint å¦‚ï¼š$\\int^{\\infty}{1}{\\frac{1}{x}dx}$ï¼Œæ•ˆæœï¼š$\\int^{\\infty}{1}{\\frac{1}{x}dx}$ å»ºè®®æ­é… \\displaystyle ä½¿ç”¨ï¼š$\\displaystyle \\int^{\\infty}{1}{\\frac{1}{x}dx}$ï¼Œæ•ˆæœï¼š$\\displaystyle \\int^{\\infty}{1}{\\frac{1}{x}dx}$ åå¾®åˆ†è¿ç®—ï¼Œç¬¦å·ï¼š\\partialå¦‚ï¼š$\\frac{\\partial xy^2}{\\partial y}$ï¼Œæ•ˆæœï¼š$\\frac{\\partial xy^2}{\\partial y}$ å»ºè®®æ­é… \\displaystyle ä½¿ç”¨ï¼š$\\displaystyle \\frac{\\partial xy^2}{\\partial y}$ï¼Œæ•ˆæœï¼š$\\displaystyle \\frac{\\partial xy^2}{\\partial y}$ çŸ©é˜µè¡¨ç¤ºï¼Œç¬¦å·ï¼š\\begin{matrix} \\end{matrix}å¦‚ï¼š $$A=\\left(\\begin{matrix}&nbsp;&nbsp;&nbsp;&nbsp;x_{11} \\&amp;x_{12} \\&amp;x_{13} \\&amp;\\cdots \\&amp;x_{1n} \\\\&nbsp;&nbsp;&nbsp;&nbsp;x_{21} \\&amp;x_{22} \\&amp;x_{23} \\&amp;\\cdots \\&amp;x_{2n} \\\\&nbsp;&nbsp;&nbsp;&nbsp;\\vdots \\&amp;\\vdots \\&amp;\\vdots \\&amp;\\ddots \\&amp;\\vdots \\\\&nbsp;&nbsp;&nbsp;&nbsp;x_{n1} \\&amp;x_{n2} \\&amp;x_{n3} \\&amp;\\cdots \\&amp;x_{nn}\\end{matrix} \\right)$$ æ•ˆæœï¼š A= \\left(\\begin{matrix} x_{11} &x_{12} &x_{13} &\\cdots &x_{1n} \\\\ x_{21} &x_{22} &x_{23} &\\cdots &x_{2n} \\\\ \\vdots &\\vdots &\\vdots &\\ddots &\\vdots \\\\ x_{n1} &x_{n2} &x_{n3} &\\cdots &x_{nn} \\end{matrix} \\right)ç”¨ç«–çº¿å°†çŸ©é˜µåˆ†å‰²ä¸º (A|b) å½¢å¼ï¼Œå¦‚ï¼š $$(A|b)=\\left(\\begin{array}{ccccc|c}&nbsp;&nbsp;&nbsp;&nbsp;x_{11} \\&amp;x_{12} \\&amp;x_{13} \\&amp;\\cdots \\&amp;x_{1n} \\&amp;b_1 \\\\&nbsp;&nbsp;&nbsp;&nbsp;x_{21} \\&amp;x_{22} \\&amp;x_{23} \\&amp;\\cdots \\&amp;x_{2n} \\&amp;b_2 \\\\&nbsp;&nbsp;&nbsp;&nbsp;\\vdots \\&amp;\\vdots \\&amp;\\vdots \\&amp;\\ddots \\&amp;\\vdots \\&amp;\\vdots \\\\&nbsp;&nbsp;&nbsp;&nbsp;x_{n1} \\&amp;x_{n2} \\&amp;x_{n3} \\&amp;\\cdots \\&amp;x_{nn} \\&amp;b_n\\end{array} \\right)$$ æ•ˆæœï¼š (A|b)= \\left(\\begin{array}{ccccc|c} x_{11} &x_{12} &x_{13} &\\cdots &x_{1n} &b_1 \\\\ x_{21} &x_{22} &x_{23} &\\cdots &x_{2n} &b_2 \\\\ \\vdots &\\vdots &\\vdots &\\ddots &\\vdots &\\vdots \\\\ x_{n1} &x_{n2} &x_{n3} &\\cdots &x_{nn} &b_n \\end{array} \\right)7. é€»è¾‘è¿ç®— é€»è¾‘æè¿° ç¬¦å· è¡¨è¾¾å¼ å¤§äºç­‰äº $\\geq$ \\geq å°äºç­‰äº $\\leq$ \\leq ä¸ç­‰äº $\\neq$ \\neq ä¸å¤§äºç­‰äº $\\ngeq$ \\ngeq ä¸å°äºç­‰äº $\\nleq$ \\nleq çº¦ç­‰äº $\\approx$ \\approx æ’ç­‰äº $\\equiv$ \\equiv 8. é›†åˆè¿ç®— æè¿° ç¬¦å· è¡¨è¾¾å¼ å±äº $\\in$ \\in ä¸å±äº $\\notin$ \\notin å­é›† $\\subseteq$ , $\\supseteq$ \\subseteq , \\supseteq éå­é›† $\\not\\subseteq$ , $\\not\\supseteq$ \\not\\subseteq , \\not\\supseteq çœŸå­é›† $\\subsetneq$ , $\\supsetneq$ \\subsetneq , \\supsetneq éçœŸå­é›† $\\not\\subsetneq$ , $\\not\\supsetneq$ \\not\\subsetneq , \\not\\supsetneq äº¤é›† $\\cap$ \\cap å¹¶é›† $\\cup$ \\cup å·®é›† $\\setminus$ \\setminus åŒæˆ– $\\bigodot$ \\bigodot åŒä¸ $\\bigotimes$ \\bigotimes å¼‚æˆ– $\\bigoplus$ \\bigoplus 9. å¸Œè…Šå­—æ¯å°†éƒ¨åˆ†ç¬¦å·çš„è¡¨è¾¾å¼é¦–å­—æ¯å¤§å†™ï¼Œå³ä¸ºç›¸åº”ç¬¦å·çš„å¤§å†™å½¢å¼ å°å†™ç¬¦å· è¡¨è¾¾å¼ å¤§å†™ç¬¦å· è¡¨è¾¾å¼ $\\alpha$ \\alpha $\\Alpha$ \\Alpha $\\beta$ \\beta $\\Beta$ \\Beta $\\gamma$ \\gamma $\\Gamma$ \\Gamma $\\delta$ \\delta $\\Delta$ \\Delta $\\epsilon$ \\epsilon $\\Epsilon$ \\Epsilon $\\mu$ \\mu $\\Mu$ \\Mu $\\varepsilon$ \\varepsilon $\\zeta$ \\zeta $\\Zeta$ \\Zeta $\\eta$ \\eta $\\Eta$ \\Eta $\\theta$ \\theta $\\Theta$ \\Theta $\\vartheta$ \\vartheta $\\pi$ \\pi $\\Pi$ \\Pi $\\phi$ \\phi $\\Phi$ \\Phi $\\psi$ \\psi $\\Psi$ \\Psi $\\omega$ \\omega $\\Omega$ \\Omega $\\rho$ \\rho $\\Rho$ \\Rho $\\sigma$ \\sigma $\\Sigma$ \\Sigma $\\xi$ \\xi $\\Xi$ \\Xi $\\partial$ \\partial 10. å­—ä½“ é»‘æ¿ç²—ä½“ï¼ˆBlackboard boldï¼‰ï¼Œç¬¦å·ï¼š\\mathbb{å†…å®¹} å­—ä½“ æ˜¾ç¤ºæ•ˆæœ è¡¨è¾¾å¼ æ™®é€š abcd abcd æ™®é€šæ•°å­¦å½¢å¼ $abcd$ abcd å°å†™ $\\mathbb{abcd}$ \\mathbb{abcd} å¤§å†™ $\\mathbb{ABCD}$ \\mathbb{ABCD} æ­£ç²—ä½“ï¼Œç¬¦å·ï¼š\\mathbf{å†…å®¹} å­—ä½“ æ˜¾ç¤ºæ•ˆæœ è¡¨è¾¾å¼ æ™®é€š abcd abcd æ™®é€šåŠ ç²— abcd **abcd** å°å†™ $\\mathbf{abcd}$ \\mathbf{abcd} å¤§å†™ $\\mathbf{ABCD}$ \\mathbf{ABCD} æ–œä½“æ•°å­—ï¼Œç¬¦å·ï¼š\\mathit{å†…å®¹} å­—ä½“ æ˜¾ç¤ºæ•ˆæœ è¡¨è¾¾å¼ æ™®é€š 3.1415 3.1415 æ™®é€šæ–œä½“ 3.1415 *3.1415* æ–œä½“ $\\mathit{3.1415}$ \\mathit{3.1415} ç½—é©¬ä½“ï¼Œç¬¦å·ï¼š\\mathrm{å†…å®¹} å­—ä½“ æ˜¾ç¤ºæ•ˆæœ è¡¨è¾¾å¼ æ™®é€š ABCD ABCD æ™®é€šæ•°å­¦å½¢å¼ $ABCD$ ABCD ç½—é©¬ä½“ $\\mathrm{ABCD}$ \\mathrm{ABCD} å“¥ç‰¹ä½“ï¼Œç¬¦å·ï¼šmathfrak{å†…å®¹} å­—ä½“ æ˜¾ç¤ºæ•ˆæœ è¡¨è¾¾å¼ æ™®é€š abcd abcd æ™®é€šæ•°å­¦å½¢å¼ $abcd$ abcd å°å†™ $\\mathfrak{abcd}$ \\mathfrak{abcd} å¤§å†™ $\\mathfrak{ABCD}$ \\mathfrak{ABCD} æ‰‹å†™ä½“ï¼Œç¬¦å·ï¼š\\mathcal{å†…å®¹} å­—ä½“ æ˜¾ç¤ºæ•ˆæœ è¡¨è¾¾å¼ æ™®é€š abcd abcd æ™®é€šæ•°å­¦å½¢å¼ $abcd$ abcd å°å†™ $\\mathcal{abcd}$ \\mathcal{abcd} å¤§å†™ $\\mathcal{ABCD}$ \\mathcal{ABCD}","link":"/2020/02/02/markdown-math/"},{"title":"Markdown è¯­æ³•ä¸€æ½å­è®¡åˆ’ï¼ˆè¶…è¯¦ç»†ï¼‰","text":"1. æ ‡é¢˜ä½¿ç”¨ #è¡¨ç¤º 1~6 çº§æ ‡é¢˜ # ä¸€çº§æ ‡é¢˜## äºŒçº§æ ‡é¢˜### ä¸‰çº§æ ‡é¢˜#### å››çº§æ ‡é¢˜##### äº”çº§æ ‡é¢˜###### å…­çº§æ ‡é¢˜ æ•ˆæœï¼š ä¸€çº§æ ‡é¢˜äºŒçº§æ ‡é¢˜ä¸‰çº§æ ‡é¢˜å››çº§æ ‡é¢˜äº”çº§æ ‡é¢˜å…­çº§æ ‡é¢˜ 2. æ–‡æœ¬æ ·å¼ `æ ‡è®°`*æ–œä½“*ï¼Œ_æ–œä½“_**ç²—ä½“**ï¼Œ__ç²—ä½“__**_æ–œä½“+ç²—ä½“_**\\ä¸‹åˆ’çº¿\\&lt;\\/u>~~åˆ é™¤çº¿~~ æ•ˆæœï¼š æ ‡è®°æ–œä½“ï¼Œæ–œä½“ç²—ä½“ï¼Œç²—ä½“æ–œä½“+ç²—ä½“ä¸‹åˆ’çº¿åˆ é™¤çº¿ 2.1 å­—ä½“å¤§å°å’Œé¢œè‰²å­—ä½“å¤§å°ä½¿ç”¨ &lt;font&gt;&lt;/font&gt; æ ‡ç­¾ï¼Œè¯¥æ ‡ç­¾ä¸‹çš„ size å±æ€§ä¸ºå­—ä½“å¤§å°ï¼ŒèŒƒå›´ä¸º 1~7ï¼Œcolor å±æ€§ä¸ºå­—ä½“é¢œè‰²ï¼Œå¦‚ redã€blue ç­‰ size=1 color=red size=2 color=blue size=3 color=yellow size=4 color=green size=5 color=orange size=6 color=gray size=7 color=purple 3. é“¾æ¥é“¾æ¥æœ‰ä¸¤ç§å½¢å¼ï¼šè¡Œå†…å¼å’Œå‚è€ƒå¼ è¡Œå†…å¼ [Google](https://www.google.com â€œè°·æ­Œæœç´¢â€) æ•ˆæœï¼š Google å‚è€ƒå¼ [Google][1][Baidu][2] [1]: https://www.google.com â€œè°·æ­Œæœç´¢â€[2]: https://www.baidu.com â€œç™¾åº¦ä¸€ä¸‹â€ æ•ˆæœï¼š GoogleBaidu 4. å›¾ç‰‡æ’å…¥å›¾ç‰‡å’Œæ’å…¥é“¾æ¥ç±»ä¼¼ï¼Œåªæ˜¯éœ€è¦åœ¨é“¾æ¥çš„åŸºç¡€ä¸Šå‰é¢åŠ ä¸€ä¸ª ! ![icon](https://gitee.com/tsund/data/raw/master/favicon/favicon-180x180.png â€œiconâ€) æ•ˆæœï¼š ![icon](https://gitee.com/tsund/data/raw/master/favicon/favicon-180x180.png \"icon\") å¦ï¼šä½¿ç”¨ &lt;center&gt;&lt;/center&gt; åµŒå¥—ä½¿å›¾ç‰‡å±…ä¸­ï¼š \\ ![](url) \\&lt;/center> 5. åŒºå—å¼•ç”¨ä½¿ç”¨ &gt; è¡¨ç¤ºå¼•ç”¨ > åŒºå—å¼•ç”¨>> åµŒå¥—å¼•ç”¨ æ•ˆæœï¼š åŒºå—å¼•ç”¨ åµŒå¥—å¼•ç”¨ 6. ä»£ç åŒºå—åœ¨æ¯è¡ŒåŠ ä¸Š 4 ä¸ªç©ºæ ¼æˆ–è€…ä¸€ä¸ªåˆ¶è¡¨ç¬¦ public static void main(String args[]){&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(â€œHello Worldâ€);} æ•ˆæœï¼š public static void main(String args[]) { System.out.println(&quot;Hello World&quot;); } æ³¨æ„ï¼šæ­¤æ—¶éœ€è¦ä¸æ™®é€šæ®µè½ä¹‹é—´å­˜åœ¨ç©ºè¡Œ æˆ–è€…ï¼Œä½¿ç”¨```åŒ…è£¹ä»£ç ï¼ˆæ¨èï¼‰ï¼Œå¦‚ä¸‹ï¼š ```javapublic static void main(String args[]) {&nbsp;&nbsp;&nbsp;&nbsp;System.out.println(â€œHello Worldâ€); }``` æ³¨æ„ï¼š```åé¢ç´§è·Ÿå±•ç¤ºä»£ç æ‰€ä½¿ç”¨çš„è¯­è¨€ï¼Œå¦‚ javaã€javascriptã€pythonã€shell ç­‰ 7. ç›®å½•Markdown è‡ªåŠ¨ç”Ÿæˆç›®å½•è¯¦è§ï¼šhttps://blog.csdn.net/sculpta/article/details/104173014 8. åˆ—è¡¨8.1 æ— åºåˆ—è¡¨ä½¿ç”¨ Â· ã€+ ã€æˆ– - æ ‡è®°æ— åºåˆ—è¡¨ï¼Œå¯åµŒå¥— - ç¬¬ä¸€é¡¹- ç¬¬äºŒé¡¹- ç¬¬ä¸‰é¡¹ æ•ˆæœï¼š ç¬¬ä¸€é¡¹ ç¬¬äºŒé¡¹ ç¬¬ä¸‰é¡¹ 8.2 æœ‰åºåˆ—è¡¨æœ‰åºåˆ—è¡¨çš„æ ‡è®°æ–¹å¼æ˜¯åºå·åé¢åŠ  . 1. ç¬¬ä¸€é¡¹2. ç¬¬äºŒé¡¹3. ç¬¬ä¸‰é¡¹ æ•ˆæœï¼š ç¬¬ä¸€é¡¹ ç¬¬äºŒé¡¹ ç¬¬ä¸‰é¡¹ 9. å¤é€‰æ¡† - [ ] a- [x] b- [ ] c- [x] d æ•ˆæœï¼š [ ] a [x] b [ ] c [x] d 10. è¡¨æƒ… ğŸ˜10.1 Emojiç›®å‰ Emoji å·²ç»æ”¯æŒå¤§éƒ¨åˆ†æ–‡æœ¬è¾“å…¥åœºæ™¯ï¼Œå½“ç„¶ä¹Ÿé€‚ç”¨äº MarkdownğŸ˜† æ³¨æ„ï¼šEmoji è¡¨æƒ…åœ¨ä¸åŒè®¾å¤‡ã€ä¸åŒè½¯ä»¶ã€ä¸åŒæµè§ˆå™¨æ˜¾ç¤ºä¼šæœ‰æ‰€ä¸åŒ éšä¾¿é™„ä¸Šå‡ ä¸ªï¼ˆç›´æ¥é€‰ä¸­å¤åˆ¶ã€ç²˜è´´å°± OKï¼‰ï¼Œæ›´å¤šå¯ä»¥å‚è€ƒ Emoji All ğŸ˜€ ğŸ˜ƒ ğŸ˜„ ğŸ˜ ğŸ˜† ğŸ˜… ğŸ˜‚ ğŸ˜‹ ğŸ˜’ ğŸ˜ ğŸ™ƒ ğŸ™‚ ğŸ˜ ğŸ˜‘ â­ ğŸŒŸ âœ¨ ğŸ”¥ 10.2 ç¬¦å·è¡¨æƒ…å±±é¡¶æ´äººç”¨çš„è¡¨æƒ…åŒ… Ê• â€¢á´¥â€¢Ê” ( Â´â—” â€¸â—”`) âŠ™â–‚âŠ™ âŠ™ ï¼ âŠ™ âŠ™ï¸¿âŠ™ âŠ™Ï‰âŠ™ âŠ™ï¹âŠ™ âŠ™â–³âŠ™ âŠ™â–½âŠ™ âˆ©â–‚âˆ© âˆ© ï¼ âˆ© âˆ©ï¸¿âˆ© âˆ©Ï‰âˆ© âˆ©ï¹âˆ© âˆ©â–³âˆ© âˆ©â–½âˆ© â—â–‚â— â— ï¼ â— â—ï¸¿â— â—Ï‰â— â—ï¹â— â—â–³â— â—â–½â— âˆªâ–‚âˆª âˆª ï¼ âˆª âˆªï¸¿âˆª âˆªÏ‰âˆª âˆªï¹âˆª âˆªâ–³âˆª âˆªâ–½âˆª â‰§â–‚â‰¦ â‰§ ï¼ â‰¦ â‰§ï¸¿â‰¦ â‰§Ï‰â‰¦ â‰§ï¹â‰¦ â‰§â–³â‰¦ â‰§â–½â‰¦ ï¼ â–‚ ï¼œ ï¼ï¼ï¼œ ï¼ï¸¿ï¼œ ï¼ Ï‰ ï¼œ ï¼ï¹ï¼œ ï¼ â–³ ï¼œ ï¼ â–½ ï¼œ å‚è€ƒé“¾æ¥ï¼š æ ‡ç‚¹ç¬¦å·è¡¨æƒ…å¤§å…¨ 11. åˆ†å‰²çº¿ä½¿ç”¨ä¸‰ä¸ªæˆ–ä»¥ä¸Š * ã€ - ã€ _ æ•ˆæœï¼š 12. è¡¨æ ¼ ğŸ˜‚ç”¨ | è¡¨ç¤ºè¡¨æ ¼çºµå‘è¾¹ç•Œï¼Œè¡¨å¤´å’Œè¡¨å†…å®¹ç”¨ - éš”å¼€ï¼Œå¹¶å¯ç”¨ : è¿›è¡Œå¯¹é½è®¾ç½®â€”â€”ä¸¤è¾¹éƒ½æœ‰ : åˆ™è¡¨ç¤ºå±…ä¸­ï¼Œè‹¥ä¸åŠ  : åˆ™é»˜è®¤å·¦å¯¹é½ | è¡¨å¤´ | å†…å®¹ || :â€”â€”: | :â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”: || Google | https://www.google.com || Baidu | https://www.baidu.com | æ•ˆæœï¼š è¡¨å¤´ å†…å®¹ Google https://www.google.com Baidu https://www.baidu.com 13. æ³¨è„š ä¸€ä¸ªå…·æœ‰æ³¨è„šçš„æ–‡æœ¬ã€‚[^1] [^1]: æ³¨è„šçš„è§£é‡Š æ•ˆæœï¼š ä¸€ä¸ªå…·æœ‰æ³¨è„šçš„æ–‡æœ¬ã€‚1 1. æ³¨è„šçš„è§£é‡Š â†© 14. æŠ˜å å†…å®¹ \\\\Titleï¼ˆç‚¹å‡»å±•å¼€éšè—å†…å®¹ï¼‰\\ content \\&lt;/details&gt; æ•ˆæœï¼š Titleï¼ˆç‚¹å‡»å±•å¼€éšè—å†…å®¹ï¼‰ content æ³¨æ„ï¼šéƒ¨åˆ†åœºæ™¯ï¼ˆå¦‚ CSDNï¼‰å¯èƒ½ä¸æ”¯æŒè¯¥è¯­æ³•ï¼Œä¸è¿‡åœ¨ vs codeã€github ç­‰åœºæ™¯å¯ä»¥æ­£å¸¸æ˜¾ç¤º 15. æ•°å­¦å…¬å¼ ğŸ˜‰ è¯¦ç»†æ•°å­¦å…¬å¼è¯­æ³•ï¼Œé“¾æ¥ï¼šMarkdown è¯­æ³•ä¹‹æ•°å­¦å…¬å¼ï¼ˆfrom CSDNï¼‰","link":"/2020/02/02/markdown-usage/"},{"title":"C++ mmap å¤šè¿›ç¨‹æ–‡ä»¶è¯»å†™","text":"mmap é‡‡ç”¨å†…å­˜æ˜ å°„çš„æ–¹å¼ï¼Œç›´æ¥å°†ç£ç›˜ä¸Šçš„æ–‡ä»¶æ˜ å°„åˆ°å†…å­˜ï¼ˆå‡†ç¡®çš„è¯´æ˜¯è™šæ‹Ÿå†…å­˜ï¼‰ä¸­ï¼Œä¸éœ€è¦å…¶ä»–é¢å¤–ç©ºé—´ï¼Œå¯¹å†…å­˜æ˜ å°„åŒºçš„ä¿®æ”¹å¯ä»¥ä¸ç£ç›˜æ–‡ä»¶ä¿æŒåŒæ­¥ï¼Œæ•… mmap çš„è¯»å†™é€Ÿåº¦éå¸¸å¿« ä½¿ç”¨ mmap éœ€æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š ä»…æ”¯æŒ linux ç³»ç»Ÿ mmap æ˜ å°„åŒºåŸŸå¤§å°å¿…é¡»æ˜¯ç‰©ç†é¡µå¤§å°ï¼ˆpage sizeï¼‰çš„æ•´å€æ•°ï¼ˆ32 ä½ç³»ç»Ÿä¸­é€šå¸¸æ˜¯ 4k å­—èŠ‚ï¼‰ 1. mmap ä½¿ç”¨12345678#include &lt;sys/mman.h&gt;#include &lt;fcntl.h&gt;// å¼€å¯æ˜ å°„void *mmap(void *start, size_t length, int prot, int flags, int fd, off_t offset);// å…³é—­æ˜ å°„int munmap(void *start, size_t length); å‡½æ•°å½¢å‚å«ä¹‰ï¼š *start: æŒ‡å‘æ¬²æ˜ å°„çš„å†…å­˜èµ·å§‹åœ°å€ï¼Œé€šå¸¸è®¾ä¸º NULLï¼Œè¡¨ç¤ºè®©ç³»ç»Ÿè‡ªåŠ¨é€‰å®šåœ°å€ï¼Œæ˜ å°„æˆåŠŸåè¿”å›è¯¥åœ°å€ length: è¡¨ç¤ºå°†æ–‡ä»¶ä¸­å¤šå¤§çš„éƒ¨åˆ†æ˜ å°„åˆ°å†…å­˜ï¼Œå³æ˜ å°„åŒºçš„é•¿åº¦ prot: æ˜ å°„åŒºåŸŸçš„ä¿æŠ¤æ–¹å¼ï¼Œä¸èƒ½ä¸æ–‡ä»¶çš„æ‰“å¼€æ¨¡å¼å†²çªã€‚å¯ä»¥ä¸ºä»¥ä¸‹ä¸€ç§æˆ–å‡ ç§æ–¹å¼ï¼Œå¤šç§æ–¹å¼ä½¿ç”¨ or ç»„åˆï¼ˆâ€|â€œï¼‰ PROT_EXEC: æ˜ å°„åŒºåŸŸå¯è¢«æ‰§è¡Œ PROT_READ: æ˜ å°„åŒºåŸŸå¯è¢«è¯»å– PROT_WRITE: æ˜ å°„åŒºåŸŸå¯è¢«å†™å…¥ PROT_NONE: æ˜ å°„åŒºåŸŸä¸èƒ½å­˜å– flags: å½±å“æ˜ å°„åŒºåŸŸçš„å„ç§ç‰¹æ€§ï¼ŒæŒ‡å®šæ˜ å°„å¯¹è±¡çš„ç±»å‹ï¼Œæ˜ å°„é€‰é¡¹å’Œæ˜ å°„é¡µæ˜¯å¦å¯ä»¥å…±äº«ã€‚åœ¨è°ƒç”¨ mmap() æ—¶å¿…é¡»è¦æŒ‡å®š MAP_SHARED æˆ– MAP_PRIVATEï¼Œflags å¯ä»¥æ˜¯ä»¥ä¸‹ä¸€ä¸ªæˆ–è€…å¤šä¸ªå€¼ï¼š MAP_FIXED: å¦‚æœå‚æ•° start æ‰€æŒ‡çš„åœ°å€æ— æ³•æˆåŠŸå»ºç«‹æ˜ å°„æ—¶ï¼Œåˆ™æ”¾å¼ƒæ˜ å°„ï¼Œä¸å¯¹åœ°å€åšä¿®æ­£ã€‚é€šå¸¸ä¸é¼“åŠ±è¿™æ ·è®¾ç½® MAP_SHARED: å¯¹æ˜ å°„åŒºåŸŸçš„å†™å…¥æ•°æ®ä¼šå¤åˆ¶å›æ–‡ä»¶å†…ï¼Œè€Œä¸”å…è®¸å…¶ä»–æ˜ å°„è¯¥æ–‡ä»¶çš„è¿›ç¨‹å…±äº«ã€‚ä¸å…¶å®ƒæ‰€æœ‰æ˜ å°„è¿™ä¸ªå¯¹è±¡çš„è¿›ç¨‹å…±äº«æ˜ å°„ç©ºé—´ã€‚å¯¹å…±äº«åŒºçš„å†™å…¥ï¼Œç›¸å½“äºè¾“å‡ºåˆ°æ–‡ä»¶ã€‚ç›´åˆ° msync() æˆ–è€… munmap() è¢«è°ƒç”¨ï¼Œæ–‡ä»¶å®é™…ä¸Šä¸ä¼šè¢«æ›´æ–° MAP_PRIVATE: å¯¹æ˜ å°„åŒºåŸŸçš„å†™å…¥æ“ä½œä¼šäº§ç”Ÿä¸€ä¸ªæ˜ å°„æ–‡ä»¶çš„å¤åˆ¶ï¼Œå³ç§äººçš„â€œå†™å…¥æ—¶å¤åˆ¶â€ï¼ˆcopy on writeï¼‰å¯¹æ­¤åŒºåŸŸä½œçš„ä»»ä½•ä¿®æ”¹éƒ½ä¸ä¼šå†™å›åŸæ¥çš„æ–‡ä»¶å†…å®¹ï¼Œå†™å…¥ä¸ä¼šå½±å“åˆ°åŸæ–‡ä»¶ã€‚è¿™ä¸ªæ ‡å¿—å’Œ MAP_SHARED æ˜¯äº’æ–¥çš„ï¼Œåªèƒ½ä½¿ç”¨å…¶ä¸­ä¹‹ä¸€ MAP_ANONYMOUS: å»ºç«‹åŒ¿åæ˜ å°„ã€‚æ­¤æ—¶ä¼šå¿½ç•¥å‚æ•°fdï¼Œä¸æ¶‰åŠæ–‡ä»¶ï¼Œè€Œä¸”æ˜ å°„åŒºåŸŸæ— æ³•å’Œå…¶ä»–è¿›ç¨‹å…±äº«ã€‚ MAP_DENYWRITE: åªå…è®¸å¯¹æ˜ å°„åŒºåŸŸçš„å†™å…¥æ“ä½œï¼Œå…¶ä»–å¯¹æ–‡ä»¶ç›´æ¥å†™å…¥çš„æ“ä½œå°†ä¼šè¢«æ‹’ç» MAP_LOCKED: å°†æ˜ å°„åŒºåŸŸé”å®šä½ï¼Œè¿™è¡¨ç¤ºè¯¥åŒºåŸŸä¸ä¼šè¢«ç½®æ¢ï¼ˆswapï¼‰ï¼Œä»è€Œé˜²æ­¢é¡µé¢è¢«äº¤æ¢å‡ºå†…å­˜ MAP_NORESERVE: ä¸ä¸ºè¿™ä¸ªæ˜ å°„ä¿ç•™äº¤æ¢ç©ºé—´ã€‚å½“äº¤æ¢ç©ºé—´è¢«ä¿ç•™ï¼Œå¯¹æ˜ å°„åŒºä¿®æ”¹çš„å¯èƒ½ä¼šå¾—åˆ°ä¿è¯ã€‚å½“äº¤æ¢ç©ºé—´ä¸è¢«ä¿ç•™ï¼ŒåŒæ—¶å†…å­˜ä¸è¶³ï¼Œå¯¹æ˜ å°„åŒºçš„ä¿®æ”¹ä¼šå¼•èµ·æ®µè¿ä¾‹ä¿¡å· MAP_LOCKED: é”å®šæ˜ å°„åŒºçš„é¡µé¢ï¼Œä»è€Œé˜²æ­¢é¡µé¢è¢«äº¤æ¢å‡ºå†…å­˜ MAP_GROWSDOWN: ç”¨äºå †æ ˆï¼Œå‘Šè¯‰å†…æ ¸ VM ç³»ç»Ÿï¼Œæ˜ å°„åŒºå¯ä»¥å‘ä¸‹æ‰©å±• MAP_POPULATE: ä¸ºæ–‡ä»¶æ˜ å°„é€šè¿‡é¢„è¯»çš„æ–¹å¼å‡†å¤‡å¥½é¡µè¡¨ã€‚éšåå¯¹æ˜ å°„åŒºçš„è®¿é—®ä¸ä¼šè¢«é¡µè¿ä¾‹é˜»å¡ MAP_NONBLOCK: ä»…å’Œ MAP_POPULATE ä¸€èµ·ä½¿ç”¨æ—¶æ‰æœ‰æ„ä¹‰ã€‚ä¸æ‰§è¡Œé¢„è¯»ï¼Œåªä¸ºå·²å­˜åœ¨äºå†…å­˜ä¸­çš„é¡µé¢å»ºç«‹é¡µè¡¨å…¥å£ fd: è¦æ˜ å°„åˆ°å†…å­˜ä¸­çš„æ–‡ä»¶æè¿°ç¬¦ offset: æ–‡ä»¶æ˜ å°„çš„åç§»é‡ï¼Œé€šå¸¸è®¾ç½®ä¸º 0ï¼Œè¡¨ç¤ºä»æ–‡ä»¶èµ·å§‹ä½ç½®å¯¹åº”ï¼Œoffset å¿…é¡»æ˜¯ page size çš„æ•´æ•°å€ è¿”å›å€¼ï¼š è‹¥æ˜ å°„æˆåŠŸï¼Œmmap() è¿”å›æ˜ å°„åŒºçš„å†…å­˜èµ·å§‹åœ°å€ï¼Œmunmap() è¿”å› 0 è‹¥æ˜ å°„å¤±è´¥ï¼Œmmap() è¿”å› MAP_FAILEDï¼Œå…¶å€¼ä¸º(void *)-1ï¼Œmunmap() è¿”å› -1 2. mmap è¯»1234567891011int fd = open(file_name.c_str(), O_RDONLY);// è¯»å–æ–‡ä»¶é•¿åº¦int len = lseek(fd, 0, SEEK_END);// å»ºç«‹æ˜ å°„char *buffer = (char *) mmap(NULL, len, PROT_READ, MAP_PRIVATE, fd, 0);close(fd);// do something// å…³é—­æ˜ å°„munmap(buffer, len); 3. mmap å†™123456789101112131415int len = data.length();// æ‰“å¼€æ–‡ä»¶int fd = open(file_name.c_str(), O_RDWR | O_CREAT, 00777);// lseekå°†æ–‡ä»¶æŒ‡é’ˆå¾€åç§»åŠ¨ len - 1 ä½lseek(fd, len - 1, SEEK_END);// é¢„å…ˆå†™å…¥ä¸€ä¸ªç©ºå­—ç¬¦ï¼›mmapä¸èƒ½æ‰©å±•æ–‡ä»¶é•¿åº¦ï¼Œè¿™é‡Œç›¸å½“äºé¢„å…ˆç»™æ–‡ä»¶é•¿åº¦ï¼Œå‡†å¤‡ä¸€ä¸ªç©ºæ¶å­write(fd, &quot; &quot;, 1);// å»ºç«‹æ˜ å°„char *buffer = (char *) mmap(NULL, len, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0);// å…³é—­æ–‡ä»¶close(fd);// å°† data å¤åˆ¶åˆ° buffer é‡Œmemcpy(buffer, data, len);// å…³é—­æ˜ å°„munmap(buffer, len) 4. mmap å¤šè¿›ç¨‹å†™ä¸ç®¡æ˜¯çˆ¶å­è¿›ç¨‹è¿˜æ˜¯æ— äº²ç¼˜å…³ç³»çš„è¿›ç¨‹ï¼Œéƒ½å¯ä»¥å°†è‡ªèº«ç”¨æˆ·ç©ºé—´æ˜ å°„åˆ°åŒä¸€ä¸ªæ–‡ä»¶æˆ–åŒ¿åæ˜ å°„åˆ°åŒä¸€ç‰‡åŒºåŸŸã€‚ä»è€Œé€šè¿‡å„è‡ªå¯¹æ˜ å°„åŒºåŸŸçš„æ”¹åŠ¨ï¼Œè¾¾åˆ°è¿›ç¨‹é—´é€šä¿¡å’Œè¿›ç¨‹é—´å…±äº«çš„ç›®çš„ è¿™é‡Œä»¥ 8 è¿›ç¨‹ä¸ºä¾‹ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162#include &lt;bits/stdc++.h&gt;#include &lt;unistd.h&gt;#include &lt;sys/mman.h&gt;#include &lt;fcntl.h&gt;using namespace std;const int PROCESS_COUNT = 8;const int RESULT_SIZE = 20000;void work(const string &amp;file_name, int pid) { int fd = open(file_name.c_str(), O_RDWR | O_CREAT, 0666); char *buffer = (char *) mmap(NULL, RESULT_SIZE * 2, PROT_READ | PROT_WRITE, MAP_SHARED, fd, 0); close(fd); int start = pid * RESULT_SIZE / PROCESS_COUNT; int end = start + RESULT_SIZE / PROCESS_COUNT; for (int i = start; i &lt; end; ++i) { buffer[i &lt;&lt; 1] = (i % 2 != 0 ? '1' : '0'); buffer[i &lt;&lt; 1 | 1] = '\\n'; } munmap(buffer, RESULT_SIZE * 2);}int main() { string predict_file = &quot;result.txt&quot;; // å¡«å……æ–‡ä»¶ int fd = open(predict_file.c_str(), O_RDWR | O_CREAT, 0666); lseek(fd, RESULT_SIZE * 2 - 1, SEEK_SET); write(fd, &quot; &quot;, 1); close(fd); // mmapå¤šè¿›ç¨‹å†™ int id; pid_t pid; vector&lt;pid_t&gt; pids; for (int i = 1; i &lt; PROCESS_COUNT; i++) { id = i; pid = fork(); if (pid &lt;= 0) break; pids.push_back(pid); } if (pid == -1) { cerr &lt;&lt; &quot;startup process failed&quot; &lt;&lt; endl; } else { if (pid == 0) { work(predict_file, id); // å­è¿›ç¨‹ exit(0); } else { work(predict_file, 0); // mainè¿›ç¨‹ } } exit(0);} 5. æ³¨æ„äº‹é¡¹mmap æ˜ å°„åŒºåŸŸå¤§å°å¿…é¡»æ˜¯ç‰©ç†é¡µå¤§å°ï¼ˆpage sizeï¼‰çš„æ•´å€æ•°ï¼ˆ32 ä½ç³»ç»Ÿä¸­é€šå¸¸æ˜¯ 4k å­—èŠ‚ï¼‰ã€‚åŸå› æ˜¯ï¼Œå†…å­˜çš„æœ€å°ç²’åº¦æ˜¯é¡µï¼Œè€Œè¿›ç¨‹è™šæ‹Ÿåœ°å€ç©ºé—´å’Œå†…å­˜çš„æ˜ å°„ä¹Ÿæ˜¯ä»¥é¡µä¸ºå•ä½ï¼Œä¸ºäº†åŒ¹é…å†…å­˜çš„æ“ä½œï¼Œmmap ä»ç£ç›˜åˆ°è™šæ‹Ÿåœ°å€ç©ºé—´çš„æ˜ å°„ä¹Ÿå¿…é¡»æ˜¯é¡µ ä½†æ˜¯æˆ‘ä»¬è¦è¯»å†™çš„æ–‡ä»¶å¤§å°å¾€å¾€å¹¶ä¸æ˜¯ 4k çš„æ•´æ•°å€ï¼Œå› æ­¤åœ¨å»ºç«‹æ˜ å°„æ—¶ä¸€å®šè¦å‡†ç¡®æŠŠæ¡æ–‡ä»¶å¤§å°ä¸æ˜ å°„åŒºçš„ length å¤§å° è‹¥æ–‡ä»¶ä¸æ˜¯ 4k çš„æ•´æ•°å€ï¼Œæ­¤æ—¶å®é™…æ˜ å°„åŒºåŸŸä¾ç„¶æ˜¯ 4k çš„æ•´æ•°å€ï¼Œå‰©ä½™éƒ¨åˆ†ç”¨ 0 å¡«å……ã€‚å°½ç®¡å‰©ä½™éƒ¨åˆ†ä¸åœ¨æ–‡ä»¶èŒƒå›´å†…ï¼Œä½†æ˜¯ä¾ç„¶å¯ä»¥æ­£å¸¸è¯»å†™ï¼Œè¯¥éƒ¨åˆ†å†…å®¹çš„æ”¹å˜å¹¶ä¸å½±å“åŸæ–‡ä»¶ã€‚ï¼ˆæ¯”å¦‚æ–‡ä»¶å¤§å°ä¸º 8000 å­—èŠ‚ï¼Œåˆ™å®é™…æ˜ å°„åŒºåŸŸå¤§å°ä¸º 8192 å­—èŠ‚ï¼Œ8000 ~ 8192 å­—èŠ‚ç”¨ 0 å¡«å……ï¼Œå¹¶ä¸”è¯¥åŒºåŸŸå¯ä»¥æ­£å¸¸è®¿é—®ï¼‰ è‹¥è®¾ç½®æ˜ å°„åŒºåŸŸå¤§å°è¿œå¤§äºæ–‡ä»¶å¤§å°ï¼Œæ¯”å¦‚æ–‡ä»¶å¤§å° 8000 å­—èŠ‚ï¼Œè®¾ç½® length ä¸º 100000 å­—èŠ‚ï¼Œåˆ™åªæœ‰ä¸æ–‡ä»¶ç›¸å¯¹åº”çš„ç‰©ç†é¡µè¯»å†™æœ‰æ•ˆï¼Œå³ä»…æœ‰å‰ä¸¤é¡µæœ‰æ•ˆï¼Œå¯¹äº 8192 ~ 100000 åŒºåŸŸä»¥åŠ 100000 ä»¥å¤–çš„åŒºåŸŸï¼Œè¿›ç¨‹ä¸èƒ½è¯»å†™","link":"/2020/05/04/mmap/"},{"title":"Protege ä½¿ç”¨æ•™ç¨‹","text":"ProtÃ©gÃ© è½¯ä»¶æ˜¯æ–¯å¦ç¦å¤§å­¦åŒ»å­¦é™¢ç”Ÿç‰©ä¿¡æ¯ç ”ç©¶ä¸­å¿ƒåŸºäº Java è¯­è¨€å¼€å‘çš„æœ¬ä½“ç¼–è¾‘å’ŒçŸ¥è¯†è·å–è½¯ä»¶ï¼Œæˆ–è€…è¯´æ˜¯æœ¬ä½“å¼€å‘å·¥å…·ï¼Œä¹Ÿæ˜¯åŸºäºçŸ¥è¯†çš„ç¼–è¾‘å™¨ï¼Œå±äºå¼€æ”¾æºä»£ç è½¯ä»¶ã€‚è¯¥è½¯ä»¶ä¸»è¦ç”¨äºè¯­ä¹‰ç½‘ä¸­æœ¬ä½“çš„æ„å»ºï¼Œæ˜¯è¯­ä¹‰ç½‘ä¸­æœ¬ä½“æ„å»ºçš„æ ¸å¿ƒå¼€å‘å·¥å…· ProtÃ©gÃ© æä¾›äº†æœ¬ä½“æ¦‚å¿µç±»ã€å…³ç³»ã€å±æ€§å’Œå®ä¾‹çš„æ„å»ºï¼Œå¹¶ä¸”å±è”½äº†å…·ä½“çš„æœ¬ä½“æè¿°è¯­è¨€ï¼Œç”¨æˆ·åªéœ€åœ¨æ¦‚å¿µå±‚æ¬¡ä¸Šè¿›è¡Œé¢†åŸŸæœ¬ä½“æ¨¡å‹çš„æ„å»º ProtÃ©gÃ© å®˜ç½‘ï¼šhttps://protege.stanford.eduï¼ŒGitHub åœ°å€ï¼šhttps://github.com/protegeproject ä¸‹è½½åœ°å€ï¼šå®˜ç½‘ä¸‹è½½ or ç™¾åº¦äº‘ç›˜ï¼ˆæå–ç ï¼šp2hyï¼‰ 1. ç•Œé¢ ProtÃ©gÃ© åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œä¸è¿‡å¸¸ç”¨çš„ä¸€èˆ¬åªæœ‰ Classesã€Object propertiesã€Data properties ç­‰å‡ ä¸ªåŠŸèƒ½ 2. Classesè¿™é‡Œçš„ç±»ä¸é¢å‘å¯¹è±¡ä¸­çš„ç±»æ˜¯ä¸€ä¸ªå«ä¹‰ï¼Œæ˜¯å¯¹ç°å®ç”Ÿæ´»ä¸­ä¸€ç±»å…·æœ‰å…±åŒç‰¹å¾çš„äº‹ç‰©çš„æŠ½è±¡ï¼Œåœ¨æœ¬ä½“è®ºä¸­å°±è¡¨æ˜æ˜¯ä¸€ä¸ªæœ¬ä½“ åœ¨ Classes æ ‡ç­¾ä¸‹å£°æ˜ç±»ï¼Œæ‰€æœ‰çš„ç±»éƒ½æ˜¯ Thing çš„å­ç±» å³é”®ã€ŒAdd subclassã€å¯ä»¥åˆ›å»ºå­ç±»ï¼Œä½†è¿™æ ·åˆ›å»ºæ¯”è¾ƒéº»çƒ¦ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•å¿«é€Ÿåˆ›å»ºç±»ç»“æ„ é€šè¿‡ç¼©è¿›è¡¨ç¤ºå±‚æ¬¡å…³ç³»ï¼Œprefix å’Œ suffix åˆ†åˆ«è¡¨ç¤ºå‰ç¼€å’Œåç¼€ ç‚¹å‡» Continue åï¼Œé€‰é¡¹è¡¨ç¤ºæ˜¯å¦ä½¿åŒä¸€å±‚æ¬¡çš„ç±»ä¸ç›¸äº¤ï¼Œå³åŒä¸€å¯¹è±¡ä¸ä¼šåŒå±äºå¤šä¸ªç±»ï¼Œæ¯”å¦‚ä¸€ä¸ªé£Ÿç‰©ä¸å¯èƒ½åŒæ—¶æ—¢æ˜¯æŠ«è¨åˆæ˜¯é…æ–™ 3. Object propertiesobject propertiesï¼Œå³å¯¹è±¡å±æ€§ï¼Œå®ƒè¡¨ç¤ºæœ¬ä½“ä¸æœ¬ä½“é—´çš„å…³ç³»ï¼Œæ¯”å¦‚æŠ«è¨ä¸é…æ–™ä¹‹é—´çš„å…³ç³»ï¼šæŠ«è¨æœ‰å“ªäº›é…æ–™ï¼ˆhasToppingï¼‰ï¼Œé…æ–™å¯ä»¥åšå“ªäº›æŠ«è¨ï¼ˆisToppingOfï¼‰ è¿™äº›å…³ç³»å¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªæ˜ å°„ï¼Œæœ‰å®šä¹‰åŸŸã€å€¼åŸŸï¼Œåœ¨ ProtÃ©gÃ© ä¸­å°±æ˜¯ Domains å’Œ Rangesï¼Œå¦‚ hasTopping è¿™ä¸ªå¯¹è±¡å±æ€§ï¼ŒæŠ«è¨å°±æ˜¯å®šä¹‰åŸŸï¼ˆDomainsï¼‰ï¼Œé…æ–™å°±æ˜¯å€¼åŸŸï¼ˆRangesï¼‰ï¼Œå¹¶ä¸”ä¸ isToppingOf æ˜¯äº’ä¸ºç›¸åï¼ˆInverse ofï¼‰çš„å…³ç³»ï¼Œå³ä¸¤è€…çš„å®šä¹‰åŸŸä¸å€¼åŸŸç›¸å åœ¨å¯¹è±¡å±æ€§ä¸­æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼ˆCharacteristicsï¼‰ï¼š Functional: å‡½æ•°æ€§ï¼Œå³æ¯ä¸ªè¾“å…¥å€¼å¯¹åº”å”¯ä¸€è¾“å‡ºå€¼ï¼Œå…è®¸å¤šä¸ªè¾“å…¥å€¼å¯¹åº”åŒä¸€è¾“å‡ºå€¼ï¼Œä½†ä¸å…è®¸åŒä¸€è¾“å…¥å€¼å¯¹åº”å¤šä¸ªè¾“å‡ºå€¼ã€‚ä»¥ hasFather ä¸ºä¾‹ï¼Œå·²çŸ¥ john çš„ Father æ˜¯ Mike å’Œ Smithï¼Œå¯ä»¥çœ‹å‡ºå®ƒè¿åäº†å‡½æ•°æ€§ï¼Œæ‰€ä»¥ç»è¿‡æ¨å¯¼ï¼Œå¾—å‡º Mike å’Œ Smith æ˜¯åŒä¸€ä¸ªäºº Inverse functional: åå‡½æ•°æ€§ï¼Œä¸å‡½æ•°æ€§ç›¸åï¼Œå…è®¸åŒä¸€è¾“å…¥å€¼å¯¹åº”å¤šä¸ªè¾“å‡ºå€¼ï¼Œä¸å…è®¸å¤šä¸ªè¾“å…¥å€¼å¯¹åº”åŒä¸€è¾“å‡ºå€¼ã€‚ä¾‹å¦‚ isMotherOfï¼ŒLinda å’Œ Sara æ˜¯ Amy çš„æ¯äº²ï¼Œå¯ä»¥æ¨å¯¼å‡º Linda å’Œ Sara æ˜¯åŒä¸€ä¸ªäºº Transitive: ä¼ é€’æ€§ã€‚ä»¥ hasAncestor ä¸ºä¾‹ï¼Œå·²çŸ¥ Matthew çš„ç¥–å…ˆæ˜¯ Peterï¼ŒPeter çš„ç¥–å…ˆæ˜¯ Williamï¼Œå¯ä»¥æ¨å¯¼å‡º William ä¹Ÿæ˜¯ Matthew çš„ç¥–å…ˆ Symmetric: å¯¹ç§°æ€§ã€‚ä»¥ hasSibling ä¸ºä¾‹ï¼Œå·²çŸ¥ Matthew çš„å…„å¼Ÿæ˜¯ Gemmaï¼ŒåŒæ—¶å¯ä»¥æ¨å¯¼å‡º Gemma ä¹Ÿæ˜¯ Matthew çš„å…„å¼Ÿ Asymmetric: åå¯¹ç§°æ€§ï¼Œä¸å¯¹ç§°æ€§ç›¸åã€‚ä»¥ hasChild ä¸ºä¾‹ï¼Œå·²çŸ¥ Jean æœ‰ä¸€ä¸ªå« Matthew çš„å­©å­ï¼Œé‚£ä¹ˆ Matthew å°±ä¸èƒ½æ˜¯ Jean çš„å­©å­ Reflexive: è‡ªåæ€§ã€‚ä»¥ knows ä¸ºä¾‹ï¼Œå·²çŸ¥ George è®¤è¯† Simonï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥æ¨å¯¼å‡º George è®¤è¯†è‡ªå·±ï¼ŒSimon ä¹Ÿè®¤è¯†è‡ªå·± Irreflexive: åè‡ªåæ€§ï¼Œä¸è‡ªåæ€§ç›¸åã€‚ä»¥ isFatherOf ä¸ºä¾‹ï¼Œå·²çŸ¥ Alex æ˜¯ Bob çš„çˆ¶äº²ï¼Œé‚£ä¹ˆ Alex å°±ä¸èƒ½æ˜¯è‡ªå·±çš„çˆ¶äº²ï¼ŒåŒæ · Bob ä¹Ÿä¸èƒ½æ˜¯è‡ªå·±çš„çˆ¶äº² 4. Data propertiesData propertiesï¼Œå³æ•°æ®å±æ€§ï¼Œç”¨æ¥æè¿°æœ¬ä½“çš„å±æ€§ã€‚å¦‚ People è¿™ä¸ªæœ¬ä½“å¯èƒ½æœ‰ ageã€sexã€name ç­‰å±æ€§ åˆ›å»º Data properties åŒæ ·ä¹Ÿå¯ä»¥ä¸€æ¬¡è¾“å…¥å¤šä¸ªå±æ€§ï¼Œä½¿ç”¨åˆ¶è¡¨ç¬¦è¡¨ç¤ºå±‚æ¬¡å…³ç³» Data properties åŒæ ·å¯æŒ‡å®šå‡½æ•°æ€§ï¼Œä¸ Object properties ç›¸ä¼¼ï¼Œå…è®¸å¤šä¸ªè¾“å…¥å€¼å¯¹åº”åŒä¸€è¾“å‡ºå€¼ï¼Œä½†ä¸å…è®¸åŒä¸€è¾“å…¥å€¼å¯¹åº”å¤šä¸ªè¾“å‡ºå€¼ Domains æŒ‡å®šæ‹¥æœ‰è¯¥å±æ€§çš„æœ¬ä½“ï¼ŒpepoleProperties çš„ Domains è‡ªç„¶å°±æ˜¯ People äº†ï¼ŒRanges æŒ‡å®šå±æ€§å€¼çš„ç±»å‹ï¼Œå¦‚ floatã€stringã€datetime ç­‰","link":"/2020/04/03/protege/"},{"title":"å¾®ä¿¡å°ç¨‹åºï¼šç”Ÿæˆéšæœºä¸”ä¸é‡å¤å­—ç¬¦","text":"Thoughtç¬¬ä¸€æ­¥ï¼Œäº§ç”Ÿä¸€ä¸ªéšæœº code ç¬¬äºŒæ­¥ï¼Œä»æ•°æ®åº“ä¸­æŸ¥è¯¢è¿™ä¸ª code ç¬¬ä¸‰æ­¥ï¼Œåˆ¤æ–­ï¼Œè‹¥å·²å­˜åœ¨åˆ™é€€å›ç¬¬ä¸€æ­¥ï¼Œè‹¥ä¸å­˜åœ¨åˆ™è¿”å›è¿™ä¸ª code ä¸éš¾å‘ç°è¿™æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œè€Œè·³å‡ºé€’å½’çš„æ¡ä»¶å°±æ˜¯ä¸­é€”å‡ºé”™æˆ–è€…å·²ç»æ‰¾åˆ°ä¸é‡å¤çš„ codeã€‚ Promise StylefileUtil.js ä¸­ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374/** * äº§ç”Ÿä¸€ä¸ªä¸é‡å¤çš„code */function generateCode() { let promise = new Promise(function(resolve, reject) { let code = getRandomCode(); queryCode(code).then(res =&gt; { if (res[0]) { // éœ€è¦ç»“æŸ resolve(res[1]); } else { // é‡å¤ï¼Œä¸èƒ½ç»“æŸï¼Œè¿›è¡Œé€’å½’ return generateCode(); } }); }); return promise;}/** * äº§ç”Ÿå››ä½æ•°å­—+å­—æ¯éšæœºå­—ç¬¦ */function getRandomCode() { let code = &quot;&quot;; const array = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z']; for (let i = 0; i &lt; 4; i++) { let id = Math.round(Math.random() * 61); code += array[id]; } return code;}/** * ä»äº‘æ•°æ®åº“ä¸­æŸ¥è¯¢code */function queryCode(code) { let promise = new Promise(function(resolve, reject) { // result[0] ä»£è¡¨æ˜¯å¦éœ€è¦ç»“æŸï¼Œtrueï¼šéœ€è¦ç»“æŸï¼Œfalseï¼šä¸éœ€è¦ç»“æŸ var result = [false, &quot;&quot;]; wx.cloud.callFunction({ name: &quot;query-code&quot;, data: { code: code }, success: res =&gt; { let data = res.result.data; if (data.length === 0) { // æŸ¥è¯¢æˆåŠŸï¼Œcodeæœªé‡å¤ result = [true, code]; } else { // æŸ¥è¯¢æˆåŠŸï¼Œcodeé‡å¤,åˆ™ç»§ç»­ç”Ÿæˆcodeå¹¶åˆ¤æ–­ result[0] = false; } }, fail: error =&gt; { // æŸ¥è¯¢å¤±è´¥ result[0] = true; }, complete: () =&gt; { resolve(result); } }); }); return promise;} Testdetail.js ä¸­ 123fileUtil.generateUrl(this.data.fileID).then(res =&gt; { console.log(res);});","link":"/2020/02/02/random-code/"},{"title":"GitHub å’Œ Docker Hub ä¸­ README å¸¸ç”¨çš„å¾½ç« ","text":"README æ–‡ä»¶é€šå¸¸ç”¨æ¥è®©äººå¿«é€Ÿäº†è§£é¡¹ç›®ï¼Œå®ƒåº”å¤§ä½“åŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š é¡¹ç›®èƒŒæ™¯ å®‰è£… ä½¿ç”¨ Badge ç›¸å…³é¡¹ç›®ï¼ˆå¯é€‰ï¼‰ ä¸»è¦é¡¹ç›®è´Ÿè´£äºº å‚ä¸è´¡çŒ®æ–¹å¼ å¼€æºåè®® é™¤äº†å¿…è¦çš„æè¿°å¤–ï¼Œä½¿ç”¨å‡ ä¸ªæ¼‚äº®çš„ Badgeï¼ˆå¾½ç« ï¼‰èƒ½è®©ä»‹ç»çœ‹èµ·æ¥ä¸é‚£ä¹ˆæ¯ç‡¥ï¼Œè€Œä¸”å¦‚æœåŒ…å«å‡ ä¸ªå¦‚ Travis CIã€Coveralls è¿™æ ·çš„å¾½ç« çš„è¯ï¼Œæ›´èƒ½ä½“ç°è‡ªå·±çš„ä»£ç è´¨é‡ Travis CI åŒ GitHub Actions ä¸€æ ·ï¼Œéƒ½æ˜¯ä¸€ç§æä¾›æŒç»­ç»§æ‰¿æœåŠ¡çš„å·¥å…·ï¼ŒTravis ç»‘å®š GitHub é¡¹ç›®åï¼Œæ¯æ¬¡ push æ—¶éƒ½ä¼šè‡ªåŠ¨æ ¹æ®é…ç½®æ–‡ä»¶æ‹‰å–æœ€æ–°ä»£ç ã€æ„å»ºç¯å¢ƒã€æŒ‰ç…§æµ‹è¯•æ¨¡å—è¿›è¡Œè‡ªåŠ¨æµ‹è¯•ï¼Œè¿™æ ·å°±èƒ½åŠæ—¶å‘ç°é—®é¢˜å¹¶ä¿®å¤ ç›®å‰ GitHub ç–¯ç‹‚æ¨è GitHub Actionsï¼Œç¡®å®éå¸¸å¥½ç”¨ã€‚è¿˜æ˜¯æ¨èä½¿ç”¨ GitHub Actionsï¼Œä¸è¿‡é¡ºä¾¿æ‹¿ä¸ª Travis CI çš„å¾½ç« ä¹Ÿä¸é”™ Coveralls å¯ä»¥ç”Ÿæˆè‡ªåŠ¨æµ‹è¯•æŠ¥å‘Šï¼Œå®Œæˆæµ‹è¯•è¦†ç›–ç‡çš„ç»Ÿè®¡ ä»¥ä¸Šä¸¤ç§å·¥å…·éƒ½ä¸ GitHub æ·±åº¦é›†æˆï¼Œä¸è¿‡ç•¥æ˜¾ç¹çï¼Œä¸‹é¢ä»‹ç»ä¸€äº›ç®€å•å®ç”¨åˆå¥½çœ‹å¹¶ä¸”èƒ½å¤Ÿæ‹¿è¿‡æ¥å°±ç”¨çš„å¾½ç« ï¼Œä¸»è¦ç”¨åˆ° shields.ioï¼Œå®ƒä¸“é—¨æä¾›ç®€æ´ã€æ˜“è¯»çš„ SVG æ ¼å¼çš„å¾½ç« ï¼Œå¹¶ä¸”æ”¯æŒè®¸å¤š web é¡µé¢å’ŒæŒç»­é›†æˆæœåŠ¡ GitHub README å¸¸ç”¨å¾½ç« 1. æ ¼å¼1&lt;img src=&quot;https://img.shields.io/github/:type/:user/:repo.svg&quot;/&gt; å…¶ä¸­ï¼Œ:type è¡¨ç¤ºç±»å‹ï¼Œæ¯”å¦‚ licenseï¼ˆå¼€æºåè®®ï¼‰ã€repo-sizeï¼ˆä»“åº“å¤§å°ï¼‰ç­‰ï¼Œ:user æ˜¯ä½  GitHub çš„ç”¨æˆ·åï¼Œ:repo æ˜¯ä½ çš„ä»“åº“å 2. å¼€æºåè®® 1&lt;img src=&quot;https://img.shields.io/github/license/tensorflow/tensorflow.svg&quot;/&gt; 3. ä»“åº“å¤§å° 1&lt;img src=&quot;https://img.shields.io/github/repo-size/tensorflow/tensorflow.svg&quot;/&gt; 4. æœ€åæäº¤æ—¶é—´ 1&lt;img src=&quot;https://img.shields.io/github/last-commit/tensorflow/tensorflow.svg&quot;/&gt; 5. ç¼–ç¨‹è¯­è¨€ è¿™ä¸ªåŠŸèƒ½éœ€è¦è‡ªå®šä¹‰ï¼Œè‡ªå®šä¹‰çš„æ ¼å¼å¦‚ä¸‹ 1&lt;img src=&quot;https://img.shields.io/badge/&lt;LABEL&gt;-&lt;MESSAGE&gt;-&lt;COLOR&gt;.svg&quot;/&gt; å„å¤§å¸¸ç”¨è¯­è¨€çš„å¾½ç« å¦‚ä¸‹ï¼ˆé¢œè‰²ä»¥ GitHub ä»“åº“ä¸Šæ–¹æ˜¾ç¤º language-color ä¸ºä¾‹ï¼‰ è¯­è¨€ é¢œè‰² å¾½ç«  java #B07219 python #3572A5 c #555555 c++ #F34B7D php #4F5D95 scala #C22D40 ruby #701516 html #E34C26 css #563D7C javascript #F1E05A vue #2C3E50 shell #89E051 go #00ADD8 dockerfile #384D54 Docker Hub README å¸¸ç”¨å¾½ç« 1. è‡ªåŠ¨åŒ– 1&lt;img src=&quot;https://img.shields.io/docker/automated/tsund/tianchi_docker_practice.svg&quot;/&gt; 2. star 1&lt;img src=&quot;https://img.shields.io/docker/stars/tsund/tianchi_docker_practice.svg&quot;/&gt; 3. pull 1&lt;img src=&quot;https://img.shields.io/docker/pulls/tsund/tianchi_docker_practice.svg&quot;/&gt; 4. image-sizeæ ¼å¼ 1&lt;img src=&quot;https://img.shields.io/docker/image-size/:user/:repo/:tag&quot;/&gt; 5. versionæ ¼å¼ 1&lt;img src=&quot;https://img.shields.io/docker/image-size/:user/:repo/:tag&quot;/&gt; æ›´å¤šæœ‰è¶£çš„å¾½ç« å¯ä»¥å‚è€ƒ shields.io","link":"/2020/03/16/readme-badge/"},{"title":"å¤©æ±  Docker ç»ƒä¹ åœºæ¯”èµ›æ”»ç•¥+ä»£ç ","text":"æœ¬æ–‡å°†è¯¦ç»†è®²è¿°å¤©æ±  Docker ç»ƒä¹ åœºçš„æ¯”èµ›æµç¨‹ï¼Œå¹¶è´´å‡ºä»£ç ä»¥ä¾›å‚è€ƒ 1. æ¯”èµ›å†…å®¹é¢˜ç›®ï¼š è¾“å‡º Hello world è®¡ç®— /tcdata/num_list.csv ä¸­ä¸€åˆ—æ•°å­—çš„æ€»å’Œ åœ¨ /tcdata/num_list.csv æ–‡ä»¶ä¸­å¯»æ‰¾æœ€å¤§çš„ 10 ä¸ªæ•°ï¼Œä»å¤§åˆ°å°ç”Ÿæˆä¸€ä¸ª List è¾“å‡ºç»“æœæ ¼å¼ï¼š 12345{ &quot;Q1&quot;:&quot;Hello world&quot;, &quot;Q2&quot;:sumå€¼, &quot;Q3&quot;:[top10_list] } æ³¨æ„äº‹é¡¹ï¼š è¾“å‡º Hello world å°±æ˜¯å°† &quot;Hello world&quot; ç›´æ¥å†™å…¥ result.json ä¸­å°±è¡Œ /tcdata/num_list.csv ï¼šæäº¤é•œåƒåè¯„åˆ†ç³»ç»Ÿä¸­ä¼šæœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥åœ¨ç¼–ç¨‹æ—¶ç›´æ¥å¼•ç”¨å°±å¥½ 2. ç¼–å†™ä»£ç ä¸‹é¢ä»¥é˜¿é‡Œäº‘ Centos 7 ä¸ºä¾‹ åˆ›å»ºæ–‡ä»¶å¤¹ 1mkdir -p /data/tianchi_docker_test &amp;&amp; cd /data/tianchi_docker_test åœ¨ tianchi_docker_test æ–‡ä»¶å¤¹ä¸­åˆ›å»ºæ–‡ä»¶ 1touch Dockerfile hello_world.py result.json run.sh èµ‹äºˆæƒé™ 1chmod 755 * Dockerfile ä¸­ï¼Œç›´æ¥å¤åˆ¶æ¨¡ç‰ˆå°±è¡Œ 123456789101112# Base Images## ä»å¤©æ± åŸºç¡€é•œåƒæ„å»ºFROM registry.cn-shanghai.aliyuncs.com/tcc-public/python:3## æŠŠå½“å‰æ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶æ„å»ºåˆ°é•œåƒçš„æ ¹ç›®å½•ä¸‹ADD . /## æŒ‡å®šé»˜è®¤å·¥ä½œç›®å½•ä¸ºæ ¹ç›®å½•ï¼ˆéœ€è¦æŠŠrun.shå’Œç”Ÿæˆçš„ç»“æœæ–‡ä»¶éƒ½æ”¾åœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹ï¼Œæäº¤åæ‰èƒ½è¿è¡Œï¼‰WORKDIR /## é•œåƒå¯åŠ¨åç»Ÿä¸€æ‰§è¡Œ sh run.shCMD [&quot;sh&quot;, &quot;run.sh&quot;] hello-world.py ä¸­ 123456789101112131415161718192021222324252627282930# coding:utf-8import jsonimport csvfile_name = '/tcdata/num_list.csv'data = []# ç¬¬ä¸€é¢˜ï¼Œç›´æ¥å†™å…¥ Hello worldresult = { &quot;Q1&quot;: &quot;Hello world&quot;, &quot;Q2&quot;: 0, &quot;Q3&quot;: []}# ç¬¬äºŒé¢˜ï¼Œæ±‚å’Œwith open(file_name, 'r', encoding='utf-8') as f: reader = csv.reader(f) for row in reader: data.append(int(row[0]))sum = sum(data)result['Q2'] = sum# ç¬¬ä¸‰é¢˜result['Q3'] = sorted(data, reverse=True)[0:10]# ä¿å­˜åˆ° result.jsonwith open('result.json', 'w', encoding='utf-8') as f: json.dump(result, f) run.sh ä¸­ 1python hello-world.py 3. æ„å»ºé•œåƒå¹¶æ¨é€ç™»å½•é˜¿é‡Œäº‘å®¹å™¨é•œåƒæœåŠ¡ 1docker login --username=ç”¨æˆ·å@aliyun.com registry.cn-shanghai.aliyuncs.com æ„å»ºé•œåƒï¼ˆæ³¨æ„ï¼šåé¢æœ‰ä¸ª .ï¼Œè¡¨ç¤ºä½¿ç”¨å½“å‰ç›®å½•ä¸‹çš„ Dockerfile æ„å»ºé•œåƒï¼‰ 1docker build -t registry.cn-shanghai.aliyuncs.com/å‘½åç©ºé—´/é•œåƒåç§°:ç‰ˆæœ¬å· . æ¨é€é•œåƒ 1docker push registry.cn-shanghai.aliyuncs.com/å‘½åç©ºé—´/é•œåƒåç§°:ç‰ˆæœ¬å· æäº¤ç»“æœï¼Œé•œåƒè·¯å¾„ä¸­å¡«å†™ï¼š 1registry.cn-shanghai.aliyuncs.com/å‘½åç©ºé—´/é•œåƒåç§°:ç‰ˆæœ¬å· OKï¼Œgood luck !","link":"/2020/02/20/tianchi-docker-practice/"},{"title":"SSH å…å¯†ç™»å½•ï¼ˆè®¾ç½®åä»éœ€è¾“å…¥å¯†ç çš„åŸå› åŠè§£å†³æ–¹æ³•ï¼‰","text":"1. éœ€æ±‚æœºå™¨ A ï¼ˆå®¢æˆ·ç«¯ï¼‰ä½¿ç”¨ SSH å…å¯†è¿æ¥æœºå™¨ Bï¼ˆæœåŠ¡ç«¯ï¼‰ 2. å®¢æˆ·ç«¯é…ç½® è¿›å…¥ç”¨æˆ·ç›®å½•çš„ .ssh ç›®å½•ï¼Œç”Ÿæˆå…¬é’¥å’Œç§é’¥ 1ssh-keygen -t rsa -C &quot;email@domain.com&quot; -f filename å…¶ä¸­ï¼Œ-C è®¾ç½®æ³¨é‡Šæ–‡å­—ï¼Œä¾‹å¦‚é‚®ç®±ï¼›-f æŒ‡å®šå¯†é’¥æ–‡ä»¶å­˜å‚¨æ–‡ä»¶å å°†ç”Ÿæˆçš„å…¬é’¥åˆ†å‘åˆ°æœåŠ¡ç«¯ æ–¹æ³•ä¸€ï¼šä½¿ç”¨ ssh-copy-id å‘½ä»¤ï¼Œå°†å…¬é’¥æ·»åŠ åˆ°æœåŠ¡ç«¯çš„ authorized_keys æ–‡ä»¶ä¸­ 1ssh-copy-id -i ~/.ssh/filename.pub user@host å…¶ä¸­ï¼Œuser æ˜¯è¦ç™»å½•æœåŠ¡ç«¯çš„ç”¨æˆ·åï¼Œhost æ˜¯æœåŠ¡ç«¯çš„ ip æˆ– domain æ–¹æ³•äºŒï¼šå°†å…¬é’¥æ‹·è´åˆ°æœåŠ¡ç«¯ï¼Œä½¿ç”¨ cat å‘½ä»¤è¿½åŠ åˆ° authorized_keys æ–‡ä»¶ä¸­ 1cat filename.pub &gt;&gt; authorized_keys é…ç½® config æ–‡ä»¶ æ³¨æ„ï¼šç”±äºå¯†é’¥è®¤è¯æ—¶é»˜è®¤ä½¿ç”¨ ~/.ssh/id_rsa æ–‡ä»¶ä½œä¸ºç§é’¥ï¼Œå› æ­¤è¿˜éœ€é¢å¤–é…ç½®ã€‚å¦‚æœä½¿ç”¨çš„å…¬é’¥å’Œç§é’¥æ˜¯é»˜è®¤åï¼Œå³ id_rsaï¼Œåˆ™è¯¥æ­¥å¯è·³è¿‡ åœ¨ ~/.ssh ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª config æ–‡ä»¶ 1touch config ç¼–è¾‘ config æ–‡ä»¶ 1vi config å†™å…¥ä»¥ä¸‹å†…å®¹ 1234Host aliyunHostName ipUser rootIdentityFile ~/.ssh/filename å…¶ä¸­ï¼ŒHost æ ‡è¯†ä¸€ä¸ªé…ç½®åŒºæ®µï¼Œæ¯ä¸ªé…ç½®åŒºæ®µæ˜¯ç”¨ Host æ¥åŒºåˆ†çš„ï¼Œä¾‹å¦‚æˆ‘è¿™é‡Œä½¿ç”¨ aliyun ä½œä¸ºä¸€ä¸ªé…ç½®åŒºæ®µHostName æŒ‡å®šè¿œç¨‹ä¸»æœºåUser æŒ‡å®šç™»å½•ç”¨æˆ·åIdentityFile æŒ‡å®šå¯†é’¥è®¤è¯ä½¿ç”¨çš„ç§é’¥æ–‡ä»¶è·¯å¾„æ­¤å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ Port æŒ‡å®šè¿œç¨‹ä¸»æœºç«¯å£å·ï¼Œé»˜è®¤ 22 3. æµ‹è¯•åœ¨å®¢æˆ·ç«¯å°è¯•è¿æ¥æœåŠ¡ç«¯ 1ssh user@host è‹¥æ— éœ€è¾“å…¥å¯†ç å³å¯ç™»å½•ï¼Œåˆ™é…ç½®æˆåŠŸ 4. è®¾ç½®æ— æ•ˆçš„åŸå› åŠè§£å†³æ–¹æ³•4.1 åŸå›  å®¢æˆ·ç«¯ç§é’¥æ–‡ä»¶è·¯å¾„æœªé…ç½®æˆ–é…ç½®é”™è¯¯ æœåŠ¡ç«¯é…ç½®é”™è¯¯ æƒé™é”™è¯¯ /etc/ssh/sshd_config æ–‡ä»¶é…ç½®é”™è¯¯ 4.2 è§£å†³æ–¹æ³• æ£€æŸ¥å®¢æˆ·ç«¯ ~/.ssh/config æ–‡ä»¶ï¼Œé…ç½®æ–¹æ³•å¦‚å‰æ‰€è¿° åœ¨æœåŠ¡ç«¯ä¿®æ”¹æƒé™ 123chmod 700 ~/.sshchmod 600 ~/.ssh/authorized_keys é…ç½® /etc/ssh/sshd_config æ–‡ä»¶ï¼Œä¿®æ”¹ä»¥ä¸‹å†…å®¹ï¼Œå¯ç”¨ç§˜é’¥éªŒè¯ 1PubkeyAuthentication yes ä¿®æ”¹åé‡å¯ sshd æœåŠ¡ 1service sshd restart","link":"/2020/08/20/ssh-problem/"},{"title":"åœ¨è¥¿å®‰ç”µå­ç§‘æŠ€å¤§å­¦è¯»ç ”æ˜¯ä¸€ç§ä»€ä¹ˆæ ·çš„ä½“éªŒ","text":"å¼€å­¦åŠå¹´äº†ï¼Œè¶ç€ç–«æƒ…ï¼ˆåˆ’æ°´ï¼‰æœŸé—´ç®€å•åšä¸ªåæ€å’Œæ€»ç»“ï¼Œè®°å½•ä¸€ä¸‹è¿™åŠå¹´çš„æ„Ÿå— ç§‘ç ”æ°›å›´è°ˆåˆ°æ„Ÿå—ï¼Œåœ¨ä¸€ç¬é—´é¦–å…ˆæƒ³åˆ°çš„å°±æ˜¯ geek åœ¨æ ¡å›­é‡Œæ— æ—¶æ— åˆ»ä¸å……æ–¥ç€ç¨‹åºå‘˜çš„æ°”æ¯ï¼Œæ—è¾¹é¤æ¡Œä¸Šçš„å¸ˆå…„å¼Ÿè°ˆè®ºç€å®éªŒå®¤é¡¹ç›®çš„ç»†èŠ‚ï¼Œæ“¦è‚©è€Œè¿‡çš„è¡Œäººåœ¨ç”µè¯é‡Œå‘è€å¸ˆæ±‡æŠ¥ç€å®éªŒè¿›å±•ï¼Œç¿æ€ä¸Šçš„æŠ€æœ¯åšå®¢ä¸€ç¯‡åˆä¸€ç¯‡ï¼Œå¤©æ± çš„å¹¿å‘Šç‰Œåœ¨ä¸åœæ›´æ¢ï¼Œç§‹æ‹›æ—¶ä¼ä¸šçš„ç‰Œå­å æ»¡äº†åŠæ¡è¡— Â·Â·Â· ä½œä¸ºä¸€ä¸ªä»åŒéè€ƒä¸Šçš„æ¸£æ¸£ï¼Œåœ¨åˆšå…¥å­¦æ—¶å°±æ„Ÿå—åˆ°é¸­æ¢¨å±±å¤§ï¼Œå‘¨å›´å¤§ä½¬å±‚å‡ºä¸ç©·ï¼Œæ­¤èµ·å½¼ä¼ï¼Œç€å®éš¾é¡¶ã€‚ä¸è¿‡è¯´å®è¯ï¼Œå¦‚æœä½ ä¸»è§‚ä¸Šæ¸´æœ›å˜å¼ºï¼Œåœ¨è¿™ç§æ°›å›´ä¸­å°±å¦‚é¡ºæ°´æ¨èˆŸï¼Œä¸è¿›ä¹Ÿè¿›äº† å°½ç®¡ç§‘ç ”æ°›å›´éå¸¸æµ“åšï¼Œä½†æ˜¯å‹åŠ›ç¡®å®ä¹Ÿä¸å°ï¼Œä¸è®ºæ˜¯å‘¨å›´å¤§ä½¬å¸¦æ¥çš„å¿ƒç†å‹åŠ›ï¼Œè¿˜æ˜¯å¯¼å¸ˆç»™äºˆçš„å„ç§â€œæ•™å¯¼â€ï¼Œéƒ½è®©äººå¿ƒç”Ÿé€€å´ï¼Œä¸è¿‡è¿™å¯èƒ½æ˜¯å›½å†…é™¢æ ¡ç§‘ç ”çš„é€šç—…å§ï¼Œçœ‹åˆ°è¯¸å¦‚å—é‚®è‡ªç„šäº‹ä»¶ã€åç§‘å æ¥¼äº‹ä»¶ã€æ­¦ç†çˆ¸çˆ¸äº‹ä»¶è¿™ç±»æ–°é—»ï¼ˆé»˜å“€ä¸‰åˆ†é’Ÿ :(ï¼‰ï¼Œè·Ÿä»–ä»¬çš„é­é‡æ¯”èµ·æ¥ï¼Œå’±è¿™ç®—å•¥å•Šï¼Œä½•å†µåŒ–è§£å‹åŠ›æ˜¯æ¯ä¸ªäººçš„å¿…ä¿®è¯¾ï¼Œæœªæ¥çš„å¤šç¾ç”Ÿæ´»å¿…å®šå›°éš¾é‡é‡ï¼Œé¢å‰ä¸€æ—¶çš„è¿™ç‚¹å°äº‹åˆç®—å¾—äº†ä»€ä¹ˆ æ ¡å›­ç”Ÿæ´»å…¶å®åœ¨è¥¿ç”µçš„ç”Ÿæ´»æ˜¯å¤šå§¿å¤šå½©çš„ï¼Œç°è‰²å¹¶ä¸æ˜¯ä¸»è‰²è°ƒ è¥¿ç”µè€æ ¡åŒºåœ¨è¥¿å®‰å¸‚åŒºï¼Œä¸œå—é—¨å¤–ä¸€ä¸ªè·¯å£å°±æ˜¯åœ°é“ï¼Œèµ›æ ¼ä¹‹ç±»çš„å¤§å•†åœºä¹Ÿä¸è¿œï¼Œæ—…æ¸¸æ™¯ç‚¹å°±æ›´ä¸ç”¨è¯´äº†ï¼Œåä¸‰æœå¤éƒ½å˜› è€æ ¡åŒºå°ä½†æ˜¯è¯¥æœ‰çš„ä½“è‚²åœºä¹Ÿæœ‰ï¼Œå¦‚æœä½ çœ‹åˆ°ä¸€ä¸ªå¤§çˆ·æƒ³æŠŠä»–èµ¶èµ°ï¼Œè®°å¾—ç»†ç»†ç…ç…ï¼Œå› ä¸ºä»–å¯èƒ½åªæ˜¯ä¸ªäºŒåå‡ºå¤´çš„ç¨‹åºå‘˜ æ ¡å†…è™½ç„¶æ²¡æœ‰å¥èº«æˆ¿ï¼Œä½†æ˜¯å‘¨è¾¹çš„å¥èº«æˆ¿çœŸä¸å°‘ï¼Œè€Œä¸”éš”ç€ä¹Ÿä¸è¿œï¼Œä¸è¿‡å¬è¯´å¤§å®¶éƒ½æ˜¯é˜²æ­¢çŒæ­»æ‰å»å¥èº«çš„ï¼ˆé€ƒ é™¤äº†è¿™äº›ï¼Œç¿æ€ä¸Šçš„ç“œæ€»ä¼šåœ¨è€ƒè¯•å‘¨åŠæ—¶å‡ºç°ï¼Œæˆä¸ºå¤§å®¶èŒ¶ä½™é¥­åçš„è°ˆèµ„ï¼ŒæˆåŠŸç¼“è§£ä¸€ä¸‹å¤§å®¶ç´§å¼ çš„å¤ä¹ ï¼ˆé¢„ä¹ ï¼‰æ°”æ°›ã€‚è¿˜æœ‰ç›¸äº²æ¿å—ä¹Ÿä¸é”™ï¼Œä¼˜è´¨çš„å­¦éœ¸å•èº«ç‹—ä¸€æŠ“ä¸€å¤§æŠŠ æœ€åï¼Œè¯´åˆ°ç”Ÿæ´»ï¼Œä¸å¾—ä¸åæ§½ä¸€ä¸‹è€æ ¡åŒºçš„ç”Ÿæ´»æ¡ä»¶ï¼Œ**ï¼ˆæ­¤å¤„çœç•¥ä¸€ä¸‡å­—ï¼‰ å°±ä¸šæƒ…å†µæ ¹æ®åŒå­¦ä»¬æˆ–å­¦é•¿å­¦å§æè¿°çš„æƒ…å†µï¼Œå°±ä¸šçš„è¯å»åä¸ºçš„æ¯”è¾ƒå¤šï¼Œå»çŒ«å‚é¹…å‚çš„å¤§ä½¬ä¹Ÿä¸å°‘ï¼ŒæŒ‰å­¦æ ¡çš„ç»Ÿè®¡æ•°æ®ï¼Œç ”ç©¶ç”Ÿå¹³å‡è–ªèµ„å¤§æ¦‚ 1w~2w å§ æœ€åå¸Œæœ›åœ¨æ–°çš„å­¦æœŸä¸­æ›´åŠ  geek æ­¦æ±‰åŠ æ²¹ï¼ï¼","link":"/2020/02/08/xidian/"}],"tags":[{"name":"ç®—æ³•","slug":"ç®—æ³•","link":"/tags/%E7%AE%97%E6%B3%95/"},{"name":"Java","slug":"Java","link":"/tags/Java/"},{"name":"Hexo","slug":"Hexo","link":"/tags/Hexo/"},{"name":"Blog","slug":"Blog","link":"/tags/Blog/"},{"name":"Cloudflare","slug":"Cloudflare","link":"/tags/Cloudflare/"},{"name":"Docker","slug":"Docker","link":"/tags/Docker/"},{"name":"è·¯ç”±å™¨","slug":"è·¯ç”±å™¨","link":"/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/"},{"name":"Tools","slug":"Tools","link":"/tags/Tools/"},{"name":"Git","slug":"Git","link":"/tags/Git/"},{"name":"Solutions","slug":"Solutions","link":"/tags/Solutions/"},{"name":"GitHub","slug":"GitHub","link":"/tags/GitHub/"},{"name":"GitHub Actions","slug":"GitHub-Actions","link":"/tags/GitHub-Actions/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","link":"/tags/%E7%88%AC%E8%99%AB/"},{"name":"Hadoop","slug":"Hadoop","link":"/tags/Hadoop/"},{"name":"Big Data","slug":"Big-Data","link":"/tags/Big-Data/"},{"name":"ç¯å¢ƒå®‰è£…","slug":"ç¯å¢ƒå®‰è£…","link":"/tags/%E7%8E%AF%E5%A2%83%E5%AE%89%E8%A3%85/"},{"name":"Kafka","slug":"Kafka","link":"/tags/Kafka/"},{"name":"Zookeeper","slug":"Zookeeper","link":"/tags/Zookeeper/"},{"name":"çŸ¥è¯†å›¾è°±","slug":"çŸ¥è¯†å›¾è°±","link":"/tags/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/"},{"name":"LeetCode","slug":"LeetCode","link":"/tags/LeetCode/"},{"name":"Markdown","slug":"Markdown","link":"/tags/Markdown/"},{"name":"C++","slug":"C","link":"/tags/C/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","link":"/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"Docker Hub","slug":"Docker-Hub","link":"/tags/Docker-Hub/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","link":"/tags/%E6%AF%94%E8%B5%9B/"},{"name":"æ—¥è®°","slug":"æ—¥è®°","link":"/tags/%E6%97%A5%E8%AE%B0/"}],"categories":[{"name":"ç®—æ³•","slug":"ç®—æ³•","link":"/categories/%E7%AE%97%E6%B3%95/"},{"name":"Blog","slug":"Blog","link":"/categories/Blog/"},{"name":"Cloudflare","slug":"Cloudflare","link":"/categories/Cloudflare/"},{"name":"Docker","slug":"Docker","link":"/categories/Docker/"},{"name":"è·¯ç”±å™¨","slug":"è·¯ç”±å™¨","link":"/categories/%E8%B7%AF%E7%94%B1%E5%99%A8/"},{"name":"Git","slug":"Git","link":"/categories/Git/"},{"name":"GitHub","slug":"GitHub","link":"/categories/GitHub/"},{"name":"Big Data","slug":"Big-Data","link":"/categories/Big-Data/"},{"name":"çŸ¥è¯†å›¾è°±","slug":"çŸ¥è¯†å›¾è°±","link":"/categories/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/"},{"name":"Markdown","slug":"Markdown","link":"/categories/Markdown/"},{"name":"C++","slug":"C","link":"/categories/C/"},{"name":"å°ç¨‹åº","slug":"å°ç¨‹åº","link":"/categories/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"},{"name":"æ¯”èµ›","slug":"æ¯”èµ›","link":"/categories/%E6%AF%94%E8%B5%9B/"},{"name":"æ—¥è®°","slug":"æ—¥è®°","link":"/categories/%E6%97%A5%E8%AE%B0/"}],"pages":[{"title":"å…³äº","text":"Hi, this is Ji Yuanhao.","link":"/about/index.html"},{"title":"categories","text":"","link":"/categories/index.html"},{"title":"tags","text":"","link":"/tags/index.html"}]}